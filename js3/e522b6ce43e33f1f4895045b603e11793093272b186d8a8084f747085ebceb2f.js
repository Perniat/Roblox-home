/*! For license information please see challenge.bundle.min.js.LICENSE.txt */
!function(){var e={724:function(e,t,n){var r;e=n.nmd(e);var a=function(e){"use strict";var t=1e7,n=9007199254740992,r=f(n),i="0123456789abcdefghijklmnopqrstuvwxyz",o="function"==typeof BigInt;function u(e,t,n,r){return void 0===e?u[0]:void 0!==t&&(10!=+t||n)?B(e,t,n,r):Y(e)}function l(e,t){this.value=e,this.sign=t,this.isSmall=!1}function c(e){this.value=e,this.sign=e<0,this.isSmall=!0}function s(e){this.value=e}function d(e){return-n<e&&e<n}function f(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function p(e){h(e);var n=e.length;if(n<4&&L(e,r)<0)switch(n){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*t;default:return e[0]+(e[1]+e[2]*t)*t}return e}function h(e){for(var t=e.length;0===e[--t];);e.length=t+1}function v(e){for(var t=new Array(e),n=-1;++n<e;)t[n]=0;return t}function y(e){return e>0?Math.floor(e):Math.ceil(e)}function m(e,n){var r,a,i=e.length,o=n.length,u=new Array(i),l=0,c=t;for(a=0;a<o;a++)l=(r=e[a]+n[a]+l)>=c?1:0,u[a]=r-l*c;for(;a<i;)l=(r=e[a]+l)===c?1:0,u[a++]=r-l*c;return l>0&&u.push(l),u}function g(e,t){return e.length>=t.length?m(e,t):m(t,e)}function E(e,n){var r,a,i=e.length,o=new Array(i),u=t;for(a=0;a<i;a++)r=e[a]-u+n,n=Math.floor(r/u),o[a]=r-n*u,n+=1;for(;n>0;)o[a++]=n%u,n=Math.floor(n/u);return o}function b(e,n){var r,a,i=e.length,o=n.length,u=new Array(i),l=0,c=t;for(r=0;r<o;r++)(a=e[r]-l-n[r])<0?(a+=c,l=1):l=0,u[r]=a;for(r=o;r<i;r++){if(!((a=e[r]-l)<0)){u[r++]=a;break}a+=c,u[r]=a}for(;r<i;r++)u[r]=e[r];return h(u),u}function S(e,n,r){var a,i,o=e.length,u=new Array(o),s=-n,d=t;for(a=0;a<o;a++)i=e[a]+s,s=Math.floor(i/d),i%=d,u[a]=i<0?i+d:i;return"number"==typeof(u=p(u))?(r&&(u=-u),new c(u)):new l(u,r)}function C(e,n){var r,a,i,o,u=e.length,l=n.length,c=v(u+l),s=t;for(i=0;i<u;++i){o=e[i];for(var d=0;d<l;++d)r=o*n[d]+c[i+d],a=Math.floor(r/s),c[i+d]=r-a*s,c[i+d+1]+=a}return h(c),c}function _(e,n){var r,a,i=e.length,o=new Array(i),u=t,l=0;for(a=0;a<i;a++)r=e[a]*n+l,l=Math.floor(r/u),o[a]=r-l*u;for(;l>0;)o[a++]=l%u,l=Math.floor(l/u);return o}function I(e,t){for(var n=[];t-- >0;)n.push(0);return n.concat(e)}function T(e,t){var n=Math.max(e.length,t.length);if(n<=30)return C(e,t);n=Math.ceil(n/2);var r=e.slice(n),a=e.slice(0,n),i=t.slice(n),o=t.slice(0,n),u=T(a,o),l=T(r,i),c=T(g(a,r),g(o,i)),s=g(g(u,I(b(b(c,u),l),n)),I(l,2*n));return h(s),s}function A(e,n,r){return new l(e<t?_(n,e):C(n,f(e)),r)}function w(e){var n,r,a,i,o=e.length,u=v(o+o),l=t;for(a=0;a<o;a++){r=0-(i=e[a])*i;for(var c=a;c<o;c++)n=i*e[c]*2+u[a+c]+r,r=Math.floor(n/l),u[a+c]=n-r*l;u[a+o]=r}return h(u),u}function N(e,n){var r,a,i,o,u=e.length,l=v(u),c=t;for(i=0,r=u-1;r>=0;--r)i=(o=i*c+e[r])-(a=y(o/n))*n,l[r]=0|a;return[l,0|i]}function O(e,n){var r,a=Y(n);if(o)return[new s(e.value/a.value),new s(e.value%a.value)];var i,d=e.value,m=a.value;if(0===m)throw new Error("Cannot divide by zero");if(e.isSmall)return a.isSmall?[new c(y(d/m)),new c(d%m)]:[u[0],e];if(a.isSmall){if(1===m)return[e,u[0]];if(-1==m)return[e.negate(),u[0]];var g=Math.abs(m);if(g<t){i=p((r=N(d,g))[0]);var E=r[1];return e.sign&&(E=-E),"number"==typeof i?(e.sign!==a.sign&&(i=-i),[new c(i),new c(E)]):[new l(i,e.sign!==a.sign),new c(E)]}m=f(g)}var S=L(d,m);if(-1===S)return[u[0],e];if(0===S)return[u[e.sign===a.sign?1:-1],u[0]];r=d.length+m.length<=200?function(e,n){var r,a,i,o,u,l,c,s=e.length,d=n.length,f=t,h=v(n.length),y=n[d-1],m=Math.ceil(f/(2*y)),g=_(e,m),E=_(n,m);for(g.length<=s&&g.push(0),E.push(0),y=E[d-1],a=s-d;a>=0;a--){for(r=f-1,g[a+d]!==y&&(r=Math.floor((g[a+d]*f+g[a+d-1])/y)),i=0,o=0,l=E.length,u=0;u<l;u++)i+=r*E[u],c=Math.floor(i/f),o+=g[a+u]-(i-c*f),i=c,o<0?(g[a+u]=o+f,o=-1):(g[a+u]=o,o=0);for(;0!==o;){for(r-=1,i=0,u=0;u<l;u++)(i+=g[a+u]-f+E[u])<0?(g[a+u]=i+f,i=0):(g[a+u]=i,i=1);o+=i}h[a]=r}return g=N(g,m)[0],[p(h),p(g)]}(d,m):function(e,n){for(var r,a,i,o,u,l=e.length,c=n.length,s=[],d=[],f=t;l;)if(d.unshift(e[--l]),h(d),L(d,n)<0)s.push(0);else{i=d[(a=d.length)-1]*f+d[a-2],o=n[c-1]*f+n[c-2],a>c&&(i=(i+1)*f),r=Math.ceil(i/o);do{if(L(u=_(n,r),d)<=0)break;r--}while(r);s.push(r),d=b(d,u)}return s.reverse(),[p(s),p(d)]}(d,m),i=r[0];var C=e.sign!==a.sign,I=r[1],T=e.sign;return"number"==typeof i?(C&&(i=-i),i=new c(i)):i=new l(i,C),"number"==typeof I?(T&&(I=-I),I=new c(I)):I=new l(I,T),[i,I]}function L(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var n=e.length-1;n>=0;n--)if(e[n]!==t[n])return e[n]>t[n]?1:-1;return 0}function D(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(49)||void 0))}function R(e,t){for(var n,r,i,o=e.prev(),u=o,l=0;u.isEven();)u=u.divide(2),l++;e:for(r=0;r<t.length;r++)if(!e.lesser(t[r])&&!(i=a(t[r]).modPow(u,e)).isUnit()&&!i.equals(o)){for(n=l-1;0!=n;n--){if((i=i.square().mod(e)).isUnit())return!1;if(i.equals(o))continue e}return!1}return!0}l.prototype=Object.create(u.prototype),c.prototype=Object.create(u.prototype),s.prototype=Object.create(u.prototype),l.prototype.add=function(e){var t=Y(e);if(this.sign!==t.sign)return this.subtract(t.negate());var n=this.value,r=t.value;return t.isSmall?new l(E(n,Math.abs(r)),this.sign):new l(g(n,r),this.sign)},l.prototype.plus=l.prototype.add,c.prototype.add=function(e){var t=Y(e),n=this.value;if(n<0!==t.sign)return this.subtract(t.negate());var r=t.value;if(t.isSmall){if(d(n+r))return new c(n+r);r=f(Math.abs(r))}return new l(E(r,Math.abs(n)),n<0)},c.prototype.plus=c.prototype.add,s.prototype.add=function(e){return new s(this.value+Y(e).value)},s.prototype.plus=s.prototype.add,l.prototype.subtract=function(e){var t=Y(e);if(this.sign!==t.sign)return this.add(t.negate());var n=this.value,r=t.value;return t.isSmall?S(n,Math.abs(r),this.sign):function(e,t,n){var r;return L(e,t)>=0?r=b(e,t):(r=b(t,e),n=!n),"number"==typeof(r=p(r))?(n&&(r=-r),new c(r)):new l(r,n)}(n,r,this.sign)},l.prototype.minus=l.prototype.subtract,c.prototype.subtract=function(e){var t=Y(e),n=this.value;if(n<0!==t.sign)return this.add(t.negate());var r=t.value;return t.isSmall?new c(n-r):S(r,Math.abs(n),n>=0)},c.prototype.minus=c.prototype.subtract,s.prototype.subtract=function(e){return new s(this.value-Y(e).value)},s.prototype.minus=s.prototype.subtract,l.prototype.negate=function(){return new l(this.value,!this.sign)},c.prototype.negate=function(){var e=this.sign,t=new c(-this.value);return t.sign=!e,t},s.prototype.negate=function(){return new s(-this.value)},l.prototype.abs=function(){return new l(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))},s.prototype.abs=function(){return new s(this.value>=0?this.value:-this.value)},l.prototype.multiply=function(e){var n,r,a,i=Y(e),o=this.value,c=i.value,s=this.sign!==i.sign;if(i.isSmall){if(0===c)return u[0];if(1===c)return this;if(-1===c)return this.negate();if((n=Math.abs(c))<t)return new l(_(o,n),s);c=f(n)}return r=o.length,a=c.length,new l(-.012*r-.012*a+15e-6*r*a>0?T(o,c):C(o,c),s)},l.prototype.times=l.prototype.multiply,c.prototype._multiplyBySmall=function(e){return d(e.value*this.value)?new c(e.value*this.value):A(Math.abs(e.value),f(Math.abs(this.value)),this.sign!==e.sign)},l.prototype._multiplyBySmall=function(e){return 0===e.value?u[0]:1===e.value?this:-1===e.value?this.negate():A(Math.abs(e.value),this.value,this.sign!==e.sign)},c.prototype.multiply=function(e){return Y(e)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply,s.prototype.multiply=function(e){return new s(this.value*Y(e).value)},s.prototype.times=s.prototype.multiply,l.prototype.square=function(){return new l(w(this.value),!1)},c.prototype.square=function(){var e=this.value*this.value;return d(e)?new c(e):new l(w(f(Math.abs(this.value))),!1)},s.prototype.square=function(e){return new s(this.value*this.value)},l.prototype.divmod=function(e){var t=O(this,e);return{quotient:t[0],remainder:t[1]}},s.prototype.divmod=c.prototype.divmod=l.prototype.divmod,l.prototype.divide=function(e){return O(this,e)[0]},s.prototype.over=s.prototype.divide=function(e){return new s(this.value/Y(e).value)},c.prototype.over=c.prototype.divide=l.prototype.over=l.prototype.divide,l.prototype.mod=function(e){return O(this,e)[1]},s.prototype.mod=s.prototype.remainder=function(e){return new s(this.value%Y(e).value)},c.prototype.remainder=c.prototype.mod=l.prototype.remainder=l.prototype.mod,l.prototype.pow=function(e){var t,n,r,a=Y(e),i=this.value,o=a.value;if(0===o)return u[1];if(0===i)return u[0];if(1===i)return u[1];if(-1===i)return a.isEven()?u[1]:u[-1];if(a.sign)return u[0];if(!a.isSmall)throw new Error("The exponent "+a.toString()+" is too large.");if(this.isSmall&&d(t=Math.pow(i,o)))return new c(y(t));for(n=this,r=u[1];!0&o&&(r=r.times(n),--o),0!==o;)o/=2,n=n.square();return r},c.prototype.pow=l.prototype.pow,s.prototype.pow=function(e){var t=Y(e),n=this.value,r=t.value,a=BigInt(0),i=BigInt(1),o=BigInt(2);if(r===a)return u[1];if(n===a)return u[0];if(n===i)return u[1];if(n===BigInt(-1))return t.isEven()?u[1]:u[-1];if(t.isNegative())return new s(a);for(var l=this,c=u[1];(r&i)===i&&(c=c.times(l),--r),r!==a;)r/=o,l=l.square();return c},l.prototype.modPow=function(e,t){if(e=Y(e),(t=Y(t)).isZero())throw new Error("Cannot take modPow with modulus 0");var n=u[1],r=this.mod(t);for(e.isNegative()&&(e=e.multiply(u[-1]),r=r.modInv(t));e.isPositive();){if(r.isZero())return u[0];e.isOdd()&&(n=n.multiply(r).mod(t)),e=e.divide(2),r=r.square().mod(t)}return n},s.prototype.modPow=c.prototype.modPow=l.prototype.modPow,l.prototype.compareAbs=function(e){var t=Y(e),n=this.value,r=t.value;return t.isSmall?1:L(n,r)},c.prototype.compareAbs=function(e){var t=Y(e),n=Math.abs(this.value),r=t.value;return t.isSmall?n===(r=Math.abs(r))?0:n>r?1:-1:-1},s.prototype.compareAbs=function(e){var t=this.value,n=Y(e).value;return(t=t>=0?t:-t)===(n=n>=0?n:-n)?0:t>n?1:-1},l.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=Y(e),n=this.value,r=t.value;return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:L(n,r)*(this.sign?-1:1)},l.prototype.compareTo=l.prototype.compare,c.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=Y(e),n=this.value,r=t.value;return t.isSmall?n==r?0:n>r?1:-1:n<0!==t.sign?n<0?-1:1:n<0?1:-1},c.prototype.compareTo=c.prototype.compare,s.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=this.value,n=Y(e).value;return t===n?0:t>n?1:-1},s.prototype.compareTo=s.prototype.compare,l.prototype.equals=function(e){return 0===this.compare(e)},s.prototype.eq=s.prototype.equals=c.prototype.eq=c.prototype.equals=l.prototype.eq=l.prototype.equals,l.prototype.notEquals=function(e){return 0!==this.compare(e)},s.prototype.neq=s.prototype.notEquals=c.prototype.neq=c.prototype.notEquals=l.prototype.neq=l.prototype.notEquals,l.prototype.greater=function(e){return this.compare(e)>0},s.prototype.gt=s.prototype.greater=c.prototype.gt=c.prototype.greater=l.prototype.gt=l.prototype.greater,l.prototype.lesser=function(e){return this.compare(e)<0},s.prototype.lt=s.prototype.lesser=c.prototype.lt=c.prototype.lesser=l.prototype.lt=l.prototype.lesser,l.prototype.greaterOrEquals=function(e){return this.compare(e)>=0},s.prototype.geq=s.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals=l.prototype.geq=l.prototype.greaterOrEquals,l.prototype.lesserOrEquals=function(e){return this.compare(e)<=0},s.prototype.leq=s.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals=l.prototype.leq=l.prototype.lesserOrEquals,l.prototype.isEven=function(){return!(1&this.value[0])},c.prototype.isEven=function(){return!(1&this.value)},s.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},l.prototype.isOdd=function(){return!(1&~this.value[0])},c.prototype.isOdd=function(){return!(1&~this.value)},s.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},l.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},s.prototype.isPositive=c.prototype.isPositive,l.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},s.prototype.isNegative=c.prototype.isNegative,l.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return 1===Math.abs(this.value)},s.prototype.isUnit=function(){return this.abs().value===BigInt(1)},l.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return 0===this.value},s.prototype.isZero=function(){return this.value===BigInt(0)},l.prototype.isDivisibleBy=function(e){var t=Y(e);return!t.isZero()&&(!!t.isUnit()||(0===t.compareAbs(2)?this.isEven():this.mod(t).isZero()))},s.prototype.isDivisibleBy=c.prototype.isDivisibleBy=l.prototype.isDivisibleBy,l.prototype.isPrime=function(t){var n=D(this);if(n!==e)return n;var r=this.abs(),i=r.bitLength();if(i<=64)return R(r,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var o=Math.log(2)*i.toJSNumber(),u=Math.ceil(!0===t?2*Math.pow(o,2):o),l=[],c=0;c<u;c++)l.push(a(c+2));return R(r,l)},s.prototype.isPrime=c.prototype.isPrime=l.prototype.isPrime,l.prototype.isProbablePrime=function(t,n){var r=D(this);if(r!==e)return r;for(var i=this.abs(),o=t===e?5:t,u=[],l=0;l<o;l++)u.push(a.randBetween(2,i.minus(2),n));return R(i,u)},s.prototype.isProbablePrime=c.prototype.isProbablePrime=l.prototype.isProbablePrime,l.prototype.modInv=function(e){for(var t,n,r,i=a.zero,o=a.one,u=Y(e),l=this.abs();!l.isZero();)t=u.divide(l),n=i,r=u,i=o,u=l,o=n.subtract(t.multiply(o)),l=r.subtract(t.multiply(l));if(!u.isUnit())throw new Error(this.toString()+" and "+e.toString()+" are not co-prime");return-1===i.compare(0)&&(i=i.add(e)),this.isNegative()?i.negate():i},s.prototype.modInv=c.prototype.modInv=l.prototype.modInv,l.prototype.next=function(){var e=this.value;return this.sign?S(e,1,this.sign):new l(E(e,1),this.sign)},c.prototype.next=function(){var e=this.value;return e+1<n?new c(e+1):new l(r,!1)},s.prototype.next=function(){return new s(this.value+BigInt(1))},l.prototype.prev=function(){var e=this.value;return this.sign?new l(E(e,1),!0):S(e,1,this.sign)},c.prototype.prev=function(){var e=this.value;return e-1>-n?new c(e-1):new l(r,!0)},s.prototype.prev=function(){return new s(this.value-BigInt(1))};for(var k=[1];2*k[k.length-1]<=t;)k.push(2*k[k.length-1]);var P=k.length,x=k[P-1];function M(e){return Math.abs(e)<=t}function U(e,t,n){t=Y(t);for(var r=e.isNegative(),i=t.isNegative(),o=r?e.not():e,u=i?t.not():t,l=0,c=0,s=null,d=null,f=[];!o.isZero()||!u.isZero();)l=(s=O(o,x))[1].toJSNumber(),r&&(l=x-1-l),c=(d=O(u,x))[1].toJSNumber(),i&&(c=x-1-c),o=s[0],u=d[0],f.push(n(l,c));for(var p=0!==n(r?1:0,i?1:0)?a(-1):a(0),h=f.length-1;h>=0;h-=1)p=p.multiply(x).add(a(f[h]));return p}l.prototype.shiftLeft=function(e){var t=Y(e).toJSNumber();if(!M(t))throw new Error(String(t)+" is too large for shifting.");if(t<0)return this.shiftRight(-t);var n=this;if(n.isZero())return n;for(;t>=P;)n=n.multiply(x),t-=P-1;return n.multiply(k[t])},s.prototype.shiftLeft=c.prototype.shiftLeft=l.prototype.shiftLeft,l.prototype.shiftRight=function(e){var t,n=Y(e).toJSNumber();if(!M(n))throw new Error(String(n)+" is too large for shifting.");if(n<0)return this.shiftLeft(-n);for(var r=this;n>=P;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(t=O(r,x))[1].isNegative()?t[0].prev():t[0],n-=P-1}return(t=O(r,k[n]))[1].isNegative()?t[0].prev():t[0]},s.prototype.shiftRight=c.prototype.shiftRight=l.prototype.shiftRight,l.prototype.not=function(){return this.negate().prev()},s.prototype.not=c.prototype.not=l.prototype.not,l.prototype.and=function(e){return U(this,e,(function(e,t){return e&t}))},s.prototype.and=c.prototype.and=l.prototype.and,l.prototype.or=function(e){return U(this,e,(function(e,t){return e|t}))},s.prototype.or=c.prototype.or=l.prototype.or,l.prototype.xor=function(e){return U(this,e,(function(e,t){return e^t}))},s.prototype.xor=c.prototype.xor=l.prototype.xor;var V=1<<30;function F(e){var n=e.value,r="number"==typeof n?n|V:"bigint"==typeof n?n|BigInt(V):n[0]+n[1]*t|1073758208;return r&-r}function j(e,t){if(t.compareTo(e)<=0){var n=j(e,t.square(t)),r=n.p,i=n.e,o=r.multiply(t);return o.compareTo(e)<=0?{p:o,e:2*i+1}:{p:r,e:2*i}}return{p:a(1),e:0}}function W(e,t){return e=Y(e),t=Y(t),e.greater(t)?e:t}function G(e,t){return e=Y(e),t=Y(t),e.lesser(t)?e:t}function H(e,t){if(e=Y(e).abs(),t=Y(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var n,r,a=u[1];e.isEven()&&t.isEven();)n=G(F(e),F(t)),e=e.divide(n),t=t.divide(n),a=a.multiply(n);for(;e.isEven();)e=e.divide(F(e));do{for(;t.isEven();)t=t.divide(F(t));e.greater(t)&&(r=t,t=e,e=r),t=t.subtract(e)}while(!t.isZero());return a.isUnit()?e:e.multiply(a)}l.prototype.bitLength=function(){var e=this;return e.compareTo(a(0))<0&&(e=e.negate().subtract(a(1))),0===e.compareTo(a(0))?a(0):a(j(e,a(2)).e).add(a(1))},s.prototype.bitLength=c.prototype.bitLength=l.prototype.bitLength;var B=function(e,t,n,r){n=n||i,e=String(e),r||(e=e.toLowerCase(),n=n.toLowerCase());var a,o=e.length,u=Math.abs(t),l={};for(a=0;a<n.length;a++)l[n[a]]=a;for(a=0;a<o;a++){if("-"!==(d=e[a])&&(d in l&&l[d]>=u)){if("1"===d&&1===u)continue;throw new Error(d+" is not a valid digit in base "+t+".")}}t=Y(t);var c=[],s="-"===e[0];for(a=s?1:0;a<e.length;a++){var d;if((d=e[a])in l)c.push(Y(l[d]));else{if("<"!==d)throw new Error(d+" is not a valid character");var f=a;do{a++}while(">"!==e[a]&&a<e.length);c.push(Y(e.slice(f+1,a)))}}return z(c,t,s)};function z(e,t,n){var r,a=u[0],i=u[1];for(r=e.length-1;r>=0;r--)a=a.add(e[r].times(i)),i=i.times(t);return n?a.negate():a}function q(e,t){if((t=a(t)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(t.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var n=Array.apply(null,Array(e.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return n.unshift([1]),{value:[].concat.apply([],n),isNegative:!1}}var r=!1;if(e.isNegative()&&t.isPositive()&&(r=!0,e=e.abs()),t.isUnit())return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(e.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:r};for(var i,o=[],u=e;u.isNegative()||u.compareAbs(t)>=0;){i=u.divmod(t),u=i.quotient;var l=i.remainder;l.isNegative()&&(l=t.minus(l).abs(),u=u.next()),o.push(l.toJSNumber())}return o.push(u.toJSNumber()),{value:o.reverse(),isNegative:r}}function Z(e,t,n){var r=q(e,t);return(r.isNegative?"-":"")+r.value.map((function(e){return function(e,t){return e<(t=t||i).length?t[e]:"<"+e+">"}(e,n)})).join("")}function K(e){if(d(+e)){var t=+e;if(t===y(t))return o?new s(BigInt(t)):new c(t);throw new Error("Invalid integer: "+e)}var n="-"===e[0];n&&(e=e.slice(1));var r=e.split(/e/i);if(r.length>2)throw new Error("Invalid integer: "+r.join("e"));if(2===r.length){var a=r[1];if("+"===a[0]&&(a=a.slice(1)),(a=+a)!==y(a)||!d(a))throw new Error("Invalid integer: "+a+" is not a valid exponent.");var i=r[0],u=i.indexOf(".");if(u>=0&&(a-=i.length-u-1,i=i.slice(0,u)+i.slice(u+1)),a<0)throw new Error("Cannot include negative exponent part for integers");e=i+=new Array(a+1).join("0")}if(!/^([0-9][0-9]*)$/.test(e))throw new Error("Invalid integer: "+e);if(o)return new s(BigInt(n?"-"+e:e));for(var f=[],p=e.length,v=p-7;p>0;)f.push(+e.slice(v,p)),(v-=7)<0&&(v=0),p-=7;return h(f),new l(f,n)}function Y(e){return"number"==typeof e?function(e){if(o)return new s(BigInt(e));if(d(e)){if(e!==y(e))throw new Error(e+" is not an integer.");return new c(e)}return K(e.toString())}(e):"string"==typeof e?K(e):"bigint"==typeof e?new s(e):e}l.prototype.toArray=function(e){return q(this,e)},c.prototype.toArray=function(e){return q(this,e)},s.prototype.toArray=function(e){return q(this,e)},l.prototype.toString=function(t,n){if(t===e&&(t=10),10!==t||n)return Z(this,t,n);for(var r,a=this.value,i=a.length,o=String(a[--i]);--i>=0;)r=String(a[i]),o+="0000000".slice(r.length)+r;return(this.sign?"-":"")+o},c.prototype.toString=function(t,n){return t===e&&(t=10),10!=t||n?Z(this,t,n):String(this.value)},s.prototype.toString=c.prototype.toString,s.prototype.toJSON=l.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},l.prototype.valueOf=function(){return parseInt(this.toString(),10)},l.prototype.toJSNumber=l.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf,s.prototype.valueOf=s.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var J=0;J<1e3;J++)u[J]=Y(J),J>0&&(u[-J]=Y(-J));return u.one=u[1],u.zero=u[0],u.minusOne=u[-1],u.max=W,u.min=G,u.gcd=H,u.lcm=function(e,t){return e=Y(e).abs(),t=Y(t).abs(),e.divide(H(e,t)).multiply(t)},u.isInstance=function(e){return e instanceof l||e instanceof c||e instanceof s},u.randBetween=function(e,n,r){e=Y(e),n=Y(n);var a=r||Math.random,i=G(e,n),o=W(e,n).subtract(i).add(1);if(o.isSmall)return i.add(Math.floor(a()*o));for(var l=q(o,t).value,c=[],s=!0,d=0;d<l.length;d++){var f=s?l[d]+(d+1<l.length?l[d+1]/t:0):t,p=y(a()*f);c.push(p),p<l[d]&&(s=!1)}return i.add(u.fromArray(c,t,!1))},u.fromArray=function(e,t,n){return z(e.map(Y),Y(t||10),n)},u}();e.hasOwnProperty("exports")&&(e.exports=a),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)},375:function(e,t){"use strict";var n=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.dual=t.getEndomorphismMonoid=t.SK=t.hole=t.constVoid=t.constUndefined=t.constNull=t.constFalse=t.constTrue=t.unsafeCoerce=t.apply=t.getRing=t.getSemiring=t.getMonoid=t.getSemigroup=t.getBooleanAlgebra=void 0,t.identity=r,t.constant=a,t.flip=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length>1?e(t[1],t[0]):function(n){return e(n)(t[0])}}},t.flow=i,t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},t.increment=function(e){return e+1},t.decrement=function(e){return e-1},t.absurd=o,t.tupled=function(e){return function(t){return e.apply(void 0,t)}},t.untupled=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e(t)}},t.pipe=function(e,t,n,r,a,i,o,u,l){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return a(r(n(t(e))));case 6:return i(a(r(n(t(e)))));case 7:return o(i(a(r(n(t(e))))));case 8:return u(o(i(a(r(n(t(e)))))));case 9:return l(u(o(i(a(r(n(t(e))))))));default:for(var c=arguments[0],s=1;s<arguments.length;s++)c=arguments[s](c);return c}},t.not=function(e){return function(t){return!e(t)}};t.getBooleanAlgebra=function(e){return function(){return{meet:function(t,n){return function(r){return e.meet(t(r),n(r))}},join:function(t,n){return function(r){return e.join(t(r),n(r))}},zero:function(){return e.zero},one:function(){return e.one},implies:function(t,n){return function(r){return e.implies(t(r),n(r))}},not:function(t){return function(n){return e.not(t(n))}}}}};t.getSemigroup=function(e){return function(){return{concat:function(t,n){return function(r){return e.concat(t(r),n(r))}}}}};t.getMonoid=function(e){var n=(0,t.getSemigroup)(e);return function(){return{concat:n().concat,empty:function(){return e.empty}}}};t.getSemiring=function(e){return{add:function(t,n){return function(r){return e.add(t(r),n(r))}},zero:function(){return e.zero},mul:function(t,n){return function(r){return e.mul(t(r),n(r))}},one:function(){return e.one}}};t.getRing=function(e){var n=(0,t.getSemiring)(e);return{add:n.add,mul:n.mul,one:n.one,zero:n.zero,sub:function(t,n){return function(r){return e.sub(t(r),n(r))}}}};function r(e){return e}function a(e){return function(){return e}}function i(e,t,n,r,a,i,o,u,l){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return a(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return i(a(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return o(i(a(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return u(o(i(a(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return l(u(o(i(a(r(n(t(e.apply(this,arguments)))))))))}}}function o(e){throw new Error("Called `absurd` function which should be uncallable")}t.apply=function(e){return function(t){return t(e)}},t.unsafeCoerce=r,t.constTrue=a(!0),t.constFalse=a(!1),t.constNull=a(null),t.constUndefined=a(void 0),t.constVoid=t.constUndefined,t.hole=o;t.SK=function(e,t){return t};t.getEndomorphismMonoid=function(){return{concat:function(e,t){return i(e,t)},empty:r}};t.dual=function(e,t){var r="number"==typeof e?function(t){return t.length>=e}:e;return function(){var e=Array.from(arguments);return r(arguments)?t.apply(this,e):function(r){return t.apply(void 0,n([r],e,!1))}}}},91:function(e){"use strict";e.exports=function(e,t,n,r,a,i,o,u){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,i,o,u],s=0;(l=new Error(t.replace(/%s/g,(function(){return c[s++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},56:function(e,t,n){"use strict";var r=n(625),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function l(e){return r.isMemo(e)?o:u[e.$$typeof]||a}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,s=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var a=p(n);a&&a!==h&&e(t,a,r)}var o=s(n);d&&(o=o.concat(d(n)));for(var u=l(t),v=l(n),y=0;y<o.length;++y){var m=o[y];if(!(i[m]||r&&r[m]||v&&v[m]||u&&u[m])){var g=f(n,m);try{c(t,m,g)}catch(e){}}}}return t}},157:function(e,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var r="function"==typeof Symbol&&Symbol.for,a=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,s=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,E=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,S=r?Symbol.for("react.scope"):60119;function C(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case d:case f:case o:case l:case u:case h:return e;default:switch(e=e&&e.$$typeof){case s:case p:case m:case y:case c:return e;default:return t}}case i:return t}}}function _(e){return C(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=s,t.ContextProvider=c,t.Element=a,t.ForwardRef=p,t.Fragment=o,t.Lazy=m,t.Memo=y,t.Portal=i,t.Profiler=l,t.StrictMode=u,t.Suspense=h,t.isAsyncMode=function(e){return _(e)||C(e)===d},t.isConcurrentMode=_,t.isContextConsumer=function(e){return C(e)===s},t.isContextProvider=function(e){return C(e)===c},t.isElement=function(e){return"object"===n(e)&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return C(e)===p},t.isFragment=function(e){return C(e)===o},t.isLazy=function(e){return C(e)===m},t.isMemo=function(e){return C(e)===y},t.isPortal=function(e){return C(e)===i},t.isProfiler=function(e){return C(e)===l},t.isStrictMode=function(e){return C(e)===u},t.isSuspense=function(e){return C(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===l||e===u||e===h||e===v||"object"===n(e)&&null!==e&&(e.$$typeof===m||e.$$typeof===y||e.$$typeof===c||e.$$typeof===s||e.$$typeof===p||e.$$typeof===E||e.$$typeof===b||e.$$typeof===S||e.$$typeof===g)},t.typeOf=C},625:function(e,t,n){"use strict";e.exports=n(157)},373:function(e,t,n){var r,a,i;function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}e=n.nmd(e),function(n,u){"object"==o(t)&&"object"==o(e)?e.exports=u():(a=[],void 0===(i="function"==typeof(r=u)?r.apply(t,a):r)||(e.exports=i))}(self,(function(){return function(){var e={7802:function(e,t,n){"use strict";var r=n(5049),a=n(3036),i=n(78),o=n(1909);e.exports=o||r.call(i,a)},3036:function(e){"use strict";e.exports=Function.prototype.apply},78:function(e){"use strict";e.exports=Function.prototype.call},6688:function(e,t,n){"use strict";var r=n(5049),a=n(6785),i=n(78),o=n(7802);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new a("a function is required");return o(r,i,e)}},1909:function(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},2774:function(e,t,n){"use strict";var r=n(8372),a=n(6688),i=a([r("%String.prototype.indexOf%")]);e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&i(e,".prototype.")>-1?a([n]):n}},7848:function(e){"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},8372:function(e,t,n){"use strict";var r,a=n(5846),i=n(5293),u=n(9055),l=n(8888),c=n(7900),s=n(5389),d=n(6785),f=n(4055),p=n(716),h=n(7450),v=n(3774),y=n(7552),m=n(5874),g=n(9292),E=n(6071),b=Function,S=function(e){try{return b('"use strict"; return ('+e+").constructor;")()}catch(e){}},C=n(6692),_=n(7848),I=function(){throw new d},T=C?function(){try{return I}catch(e){try{return C(arguments,"callee").get}catch(e){return I}}}():I,A=n(5634)(),w=n(7106),N=n(3766),O=n(6822),L=n(3036),D=n(78),R={},k="undefined"!=typeof Uint8Array&&w?w(Uint8Array):r,P={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":A&&w?w([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":R,"%AsyncGenerator%":R,"%AsyncGeneratorFunction%":R,"%AsyncIteratorPrototype%":R,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":u,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":R,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":A&&w?w(w([][Symbol.iterator]())):r,"%JSON%":"object"==("undefined"==typeof JSON?"undefined":o(JSON))?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&A&&w?w((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":a,"%Object.getOwnPropertyDescriptor%":C,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":l,"%ReferenceError%":c,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&A&&w?w((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":A&&w?w(""[Symbol.iterator]()):r,"%Symbol%":A?Symbol:r,"%SyntaxError%":s,"%ThrowTypeError%":T,"%TypedArray%":k,"%TypeError%":d,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":f,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet,"%Function.prototype.call%":D,"%Function.prototype.apply%":L,"%Object.defineProperty%":_,"%Object.getPrototypeOf%":N,"%Math.abs%":p,"%Math.floor%":h,"%Math.max%":v,"%Math.min%":y,"%Math.pow%":m,"%Math.round%":g,"%Math.sign%":E,"%Reflect.getPrototypeOf%":O};if(w)try{null.error}catch(e){var x=w(w(e));P["%Error.prototype%"]=x}var M=function e(t){var n;if("%AsyncFunction%"===t)n=S("async function () {}");else if("%GeneratorFunction%"===t)n=S("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=S("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var a=e("%AsyncGenerator%");a&&w&&(n=w(a.prototype))}return P[t]=n,n},U={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},V=n(5049),F=n(5215),j=V.call(D,Array.prototype.concat),W=V.call(L,Array.prototype.splice),G=V.call(D,String.prototype.replace),H=V.call(D,String.prototype.slice),B=V.call(D,RegExp.prototype.exec),z=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,Z=function(e,t){var n,r=e;if(F(U,r)&&(r="%"+(n=U[r])[0]+"%"),F(P,r)){var a=P[r];if(a===R&&(a=M(r)),void 0===a&&!t)throw new d("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:a}}throw new s("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new d('"allowMissing" argument must be a boolean');if(null===B(/^%?[^%]*%?$/,e))throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=H(e,0,1),n=H(e,-1);if("%"===t&&"%"!==n)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new s("invalid intrinsic syntax, expected opening `%`");var r=[];return G(e,z,(function(e,t,n,a){r[r.length]=n?G(a,q,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",a=Z("%"+r+"%",t),i=a.name,o=a.value,u=!1,l=a.alias;l&&(r=l[0],W(n,j([0,1],l)));for(var c=1,f=!0;c<n.length;c+=1){var p=n[c],h=H(p,0,1),v=H(p,-1);if(('"'===h||"'"===h||"`"===h||'"'===v||"'"===v||"`"===v)&&h!==v)throw new s("property names with quotes must have matching quotes");if("constructor"!==p&&f||(u=!0),F(P,i="%"+(r+="."+p)+"%"))o=P[i];else if(null!=o){if(!(p in o)){if(!t)throw new d("base intrinsic for "+e+" exists, but the property is not available.");return}if(C&&c+1>=n.length){var y=C(o,p);o=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:o[p]}else f=F(o,p),o=o[p];f&&!u&&(P[i]=o)}}return o}},8160:function(e){"use strict";e.exports=Object.getOwnPropertyDescriptor},6692:function(e,t,n){"use strict";var r=n(8160);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},5634:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,a=n(9576);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==o(r("foo"))&&"symbol"==o(Symbol("bar"))&&a()}},9576:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==o(Symbol.iterator))return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var r in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var a=Object.getOwnPropertySymbols(e);if(1!==a.length||a[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},9302:function(e,t,n){"use strict";var r,a=n(6688),i=n(8952);try{r=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=o(e)||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var u=!!r&&i&&i(Object.prototype,"__proto__"),l=Object,c=l.getPrototypeOf;e.exports=u&&"function"==typeof u.get?a([u.get]):"function"==typeof c&&function(e){return c(null==e?e:l(e))}},6332:function(e){"use strict";e.exports=Object.getOwnPropertyDescriptor},8952:function(e,t,n){"use strict";var r=n(6332);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},9055:function(e){"use strict";e.exports=EvalError},5293:function(e){"use strict";e.exports=Error},8888:function(e){"use strict";e.exports=RangeError},7900:function(e){"use strict";e.exports=ReferenceError},5389:function(e){"use strict";e.exports=SyntaxError},6785:function(e){"use strict";e.exports=TypeError},4055:function(e){"use strict";e.exports=URIError},5846:function(e){"use strict";e.exports=Object},2719:function(e){"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var a=0;a<t.length;a+=1)n[a+e.length]=t[a];return n};e.exports=function(e){var a=this;if("function"!=typeof a||"[object Function]"!==t.apply(a))throw new TypeError("Function.prototype.bind called on incompatible "+a);for(var i,o=function(e){for(var t=[],n=1,r=0;n<e.length;n+=1,r+=1)t[r]=e[n];return t}(arguments),u=n(0,a.length-o.length),l=[],c=0;c<u;c++)l[c]="$"+c;if(i=Function("binder","return function ("+function(e){for(var t="",n=0;n<e.length;n+=1)t+=e[n],n+1<e.length&&(t+=",");return t}(l)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var t=a.apply(this,r(o,arguments));return Object(t)===t?t:this}return a.apply(e,r(o,arguments))})),a.prototype){var s=function(){};s.prototype=a.prototype,i.prototype=new s,s.prototype=null}return i}},5049:function(e,t,n){"use strict";var r=n(2719);e.exports=Function.prototype.bind||r},3766:function(e,t,n){"use strict";var r=n(5846);e.exports=r.getPrototypeOf||null},6822:function(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},7106:function(e,t,n){"use strict";var r=n(6822),a=n(3766),i=n(9302);e.exports=r?function(e){return r(e)}:a?function(e){if(!e||"object"!=o(e)&&"function"!=typeof e)throw new TypeError("getProto: not an object");return a(e)}:i?function(e){return i(e)}:null},5215:function(e,t,n){"use strict";var r=Function.prototype.call,a=Object.prototype.hasOwnProperty,i=n(5049);e.exports=i.call(r,a)},2709:function(e,t,n){var r,a=1/0,i=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,u=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,l="\\ud800-\\udfff",c="\\u2700-\\u27bf",s="a-z\\xdf-\\xf6\\xf8-\\xff",d="A-Z\\xc0-\\xd6\\xd8-\\xde",f="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="["+f+"]",h="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",v="\\d+",y="["+c+"]",m="["+s+"]",g="[^"+l+f+v+c+s+d+"]",E="(?:\\ud83c[\\udde6-\\uddff]){2}",b="[\\ud800-\\udbff][\\udc00-\\udfff]",S="["+d+"]",C="(?:"+m+"|"+g+")",_="(?:"+S+"|"+g+")",I="(?:['’](?:d|ll|m|re|s|t|ve))?",T="(?:['’](?:D|LL|M|RE|S|T|VE))?",A="(?:"+h+"|\\ud83c[\\udffb-\\udfff])?",w="[\\ufe0e\\ufe0f]?",N=w+A+"(?:\\u200d(?:"+["[^"+l+"]",E,b].join("|")+")"+w+A+")*",O="(?:"+[y,E,b].join("|")+")"+N,L=RegExp("['’]","g"),D=RegExp(h,"g"),R=RegExp([S+"?"+m+"+"+I+"(?="+[p,S,"$"].join("|")+")",_+"+"+T+"(?="+[p,S+C,"$"].join("|")+")",S+"?"+C+"+"+I,S+"+"+T,v,O].join("|"),"g"),k=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,P="object"==o(n.g)&&n.g&&n.g.Object===Object&&n.g,x="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,M=P||x||Function("return this")(),U=(r={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},function(e){return null==r?void 0:r[e]}),V=Object.prototype.toString,F=M.Symbol,j=F?F.prototype:void 0,W=j?j.toString:void 0;function G(e){return null==e?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==o(e)||function(e){return!!e&&"object"==o(e)}(e)&&"[object Symbol]"==V.call(e)}(e))return W?W.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}(e)}var H,B=(H=function(e,t,n){return e+(n?"-":"")+t.toLowerCase()},function(e){return function(e,t,n){for(var r=-1,a=e?e.length:0;++r<a;)n=t(n,e[r],r,e);return n}(function(e){return function(e){return k.test(e)}(e=G(e))?function(e){return e.match(R)||[]}(e):function(e){return e.match(i)||[]}(e)}(function(e){return(e=G(e))&&e.replace(u,U).replace(D,"")}(e).replace(L,"")),H,"")});e.exports=B},716:function(e){"use strict";e.exports=Math.abs},7450:function(e){"use strict";e.exports=Math.floor},713:function(e){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},3774:function(e){"use strict";e.exports=Math.max},7552:function(e){"use strict";e.exports=Math.min},5874:function(e){"use strict";e.exports=Math.pow},9292:function(e){"use strict";e.exports=Math.round},6071:function(e,t,n){"use strict";var r=n(713);e.exports=function(e){return r(e)||0===e?e:e<0?-1:1}},5937:function(e,t,n){var r="function"==typeof Map&&Map.prototype,a=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&a&&"function"==typeof a.get?a.get:null,u=r&&Map.prototype.forEach,l="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=l&&c&&"function"==typeof c.get?c.get:null,d=l&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,v=Boolean.prototype.valueOf,y=Object.prototype.toString,m=Function.prototype.toString,g=String.prototype.match,E=String.prototype.slice,b=String.prototype.replace,S=String.prototype.toUpperCase,C=String.prototype.toLowerCase,_=RegExp.prototype.test,I=Array.prototype.concat,T=Array.prototype.join,A=Array.prototype.slice,w=Math.floor,N="function"==typeof BigInt?BigInt.prototype.valueOf:null,O=Object.getOwnPropertySymbols,L="function"==typeof Symbol&&"symbol"==o(Symbol.iterator)?Symbol.prototype.toString:null,D="function"==typeof Symbol&&"object"==o(Symbol.iterator),R="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,k=Object.prototype.propertyIsEnumerable,P=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function x(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||_.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-w(-e):w(e);if(r!==e){var a=String(r),i=E.call(t,a.length+1);return b.call(a,n,"$&_")+"."+b.call(b.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,n,"$&_")}var M=n(2634),U=M.custom,V=q(U)?U:null,F={__proto__:null,double:'"',single:"'"},j={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function W(e,t,n){var r=n.quoteStyle||t,a=F[r];return a+e+a}function G(e){return b.call(String(e),/"/g,"&quot;")}function H(e){return!R||!("object"==o(e)&&(R in e||void 0!==e[R]))}function B(e){return"[object Array]"===Y(e)&&H(e)}function z(e){return"[object RegExp]"===Y(e)&&H(e)}function q(e){if(D)return e&&"object"==o(e)&&e instanceof Symbol;if("symbol"==o(e))return!0;if(!e||"object"!=o(e)||!L)return!1;try{return L.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,a,l){var c=r||{};if(K(c,"quoteStyle")&&!K(F,c.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(K(c,"maxStringLength")&&("number"==typeof c.maxStringLength?c.maxStringLength<0&&c.maxStringLength!==1/0:null!==c.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var y=!K(c,"customInspect")||c.customInspect;if("boolean"!=typeof y&&"symbol"!==y)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(K(c,"indent")&&null!==c.indent&&"\t"!==c.indent&&!(parseInt(c.indent,10)===c.indent&&c.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(K(c,"numericSeparator")&&"boolean"!=typeof c.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var S=c.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return X(t,c);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var _=String(t);return S?x(t,_):_}if("bigint"==typeof t){var w=String(t)+"n";return S?x(t,w):w}var O=void 0===c.depth?5:c.depth;if(void 0===a&&(a=0),a>=O&&O>0&&"object"==o(t))return B(t)?"[Array]":"[Object]";var U,j=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=T.call(Array(e.indent+1)," ")}return{base:n,prev:T.call(Array(t+1),n)}}(c,a);if(void 0===l)l=[];else if(J(l,t)>=0)return"[Circular]";function Z(t,n,r){if(n&&(l=A.call(l)).push(n),r){var i={depth:c.depth};return K(c,"quoteStyle")&&(i.quoteStyle=c.quoteStyle),e(t,i,a+1,l)}return e(t,c,a+1,l)}if("function"==typeof t&&!z(t)){var Q=function(e){if(e.name)return e.name;var t=g.call(m.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),ae=re(t,Z);return"[Function"+(Q?": "+Q:" (anonymous)")+"]"+(ae.length>0?" { "+T.call(ae,", ")+" }":"")}if(q(t)){var ie=D?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):L.call(t);return"object"!=o(t)||D?ie:$(ie)}if((U=t)&&"object"==o(U)&&("undefined"!=typeof HTMLElement&&U instanceof HTMLElement||"string"==typeof U.nodeName&&"function"==typeof U.getAttribute)){for(var oe="<"+C.call(String(t.nodeName)),ue=t.attributes||[],le=0;le<ue.length;le++)oe+=" "+ue[le].name+"="+W(G(ue[le].value),"double",c);return oe+=">",t.childNodes&&t.childNodes.length&&(oe+="..."),oe+"</"+C.call(String(t.nodeName))+">"}if(B(t)){if(0===t.length)return"[]";var ce=re(t,Z);return j&&!function(e){for(var t=0;t<e.length;t++)if(J(e[t],"\n")>=0)return!1;return!0}(ce)?"["+ne(ce,j)+"]":"[ "+T.call(ce,", ")+" ]"}if(function(e){return"[object Error]"===Y(e)&&H(e)}(t)){var se=re(t,Z);return"cause"in Error.prototype||!("cause"in t)||k.call(t,"cause")?0===se.length?"["+String(t)+"]":"{ ["+String(t)+"] "+T.call(se,", ")+" }":"{ ["+String(t)+"] "+T.call(I.call("[cause]: "+Z(t.cause),se),", ")+" }"}if("object"==o(t)&&y){if(V&&"function"==typeof t[V]&&M)return M(t,{depth:O-a});if("symbol"!==y&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!=o(e))return!1;try{i.call(e);try{s.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var de=[];return u&&u.call(t,(function(e,n){de.push(Z(n,t,!0)+" => "+Z(e,t))})),te("Map",i.call(t),de,j)}if(function(e){if(!s||!e||"object"!=o(e))return!1;try{s.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var fe=[];return d&&d.call(t,(function(e){fe.push(Z(e,t))})),te("Set",s.call(t),fe,j)}if(function(e){if(!f||!e||"object"!=o(e))return!1;try{f.call(e,f);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return ee("WeakMap");if(function(e){if(!p||!e||"object"!=o(e))return!1;try{p.call(e,p);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return ee("WeakSet");if(function(e){if(!h||!e||"object"!=o(e))return!1;try{return h.call(e),!0}catch(e){}return!1}(t))return ee("WeakRef");if(function(e){return"[object Number]"===Y(e)&&H(e)}(t))return $(Z(Number(t)));if(function(e){if(!e||"object"!=o(e)||!N)return!1;try{return N.call(e),!0}catch(e){}return!1}(t))return $(Z(N.call(t)));if(function(e){return"[object Boolean]"===Y(e)&&H(e)}(t))return $(v.call(t));if(function(e){return"[object String]"===Y(e)&&H(e)}(t))return $(Z(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==n.g&&t===n.g)return"{ [object globalThis] }";if(!function(e){return"[object Date]"===Y(e)&&H(e)}(t)&&!z(t)){var pe=re(t,Z),he=P?P(t)===Object.prototype:t instanceof Object||t.constructor===Object,ve=t instanceof Object?"":"null prototype",ye=!he&&R&&Object(t)===t&&R in t?E.call(Y(t),8,-1):ve?"Object":"",me=(he||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ye||ve?"["+T.call(I.call([],ye||[],ve||[]),": ")+"] ":"");return 0===pe.length?me+"{}":j?me+"{"+ne(pe,j)+"}":me+"{ "+T.call(pe,", ")+" }"}return String(t)};var Z=Object.prototype.hasOwnProperty||function(e){return e in this};function K(e,t){return Z.call(e,t)}function Y(e){return y.call(e)}function J(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function X(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return X(E.call(e,0,t.maxStringLength),t)+r}var a=j[t.quoteStyle||"single"];return a.lastIndex=0,W(b.call(b.call(e,a,"\\$1"),/[\x00-\x1f]/g,Q),"single",t)}function Q(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+S.call(t.toString(16))}function $(e){return"Object("+e+")"}function ee(e){return e+" { ? }"}function te(e,t,n,r){return e+" ("+t+") {"+(r?ne(n,r):T.call(n,", "))+"}"}function ne(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+T.call(e,","+n)+"\n"+t.prev}function re(e,t){var n=B(e),r=[];if(n){r.length=e.length;for(var a=0;a<e.length;a++)r[a]=K(e,a)?t(e[a],e):""}var i,o="function"==typeof O?O(e):[];if(D){i={};for(var u=0;u<o.length;u++)i["$"+o[u]]=o[u]}for(var l in e)K(e,l)&&(n&&String(Number(l))===l&&l<e.length||D&&i["$"+l]instanceof Symbol||(_.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if("function"==typeof O)for(var c=0;c<o.length;c++)k.call(e,o[c])&&r.push("["+t(o[c])+"]: "+t(e[o[c]],e));return r}},9647:function(e){"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC3986";e.exports={default:r,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:r}},5882:function(e,t,n){"use strict";var r=n(6738),a=n(4662),i=n(9647),u=Object.prototype.hasOwnProperty,l={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Array.isArray,s=Array.prototype.push,d=function(e,t){s.apply(e,c(t)?t:[t])},f=Date.prototype.toISOString,p=i.default,h={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:a.encode,encodeValuesOnly:!1,filter:void 0,format:p,formatter:i.formatters[p],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},v={},y=function e(t,n,i,u,l,s,f,p,y,m,g,E,b,S,C,_,I,T){for(var A,w=t,N=T,O=0,L=!1;void 0!==(N=N.get(v))&&!L;){var D=N.get(t);if(O+=1,void 0!==D){if(D===O)throw new RangeError("Cyclic object value");L=!0}void 0===N.get(v)&&(O=0)}if("function"==typeof m?w=m(n,w):w instanceof Date?w=b(w):"comma"===i&&c(w)&&(w=a.maybeMap(w,(function(e){return e instanceof Date?b(e):e}))),null===w){if(s)return y&&!_?y(n,h.encoder,I,"key",S):n;w=""}if("string"==typeof(A=w)||"number"==typeof A||"boolean"==typeof A||"symbol"==o(A)||"bigint"==typeof A||a.isBuffer(w))return y?[C(_?n:y(n,h.encoder,I,"key",S))+"="+C(y(w,h.encoder,I,"value",S))]:[C(n)+"="+C(String(w))];var R,k=[];if(void 0===w)return k;if("comma"===i&&c(w))_&&y&&(w=a.maybeMap(w,y)),R=[{value:w.length>0?w.join(",")||null:void 0}];else if(c(m))R=m;else{var P=Object.keys(w);R=g?P.sort(g):P}var x=p?String(n).replace(/\./g,"%2E"):String(n),M=u&&c(w)&&1===w.length?x+"[]":x;if(l&&c(w)&&0===w.length)return M+"[]";for(var U=0;U<R.length;++U){var V=R[U],F="object"==o(V)&&V&&void 0!==V.value?V.value:w[V];if(!f||null!==F){var j=E&&p?String(V).replace(/\./g,"%2E"):String(V),W=c(w)?"function"==typeof i?i(M,j):M:M+(E?"."+j:"["+j+"]");T.set(t,O);var G=r();G.set(v,T),d(k,e(F,W,i,u,l,s,f,p,"comma"===i&&_&&c(w)?null:y,m,g,E,b,S,C,_,I,G))}}return k};e.exports=function(e,t){var n,a=e,s=function(e){if(!e)return h;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||h.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==e.format){if(!u.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r,a=i.formatters[n],o=h.filter;if(("function"==typeof e.filter||c(e.filter))&&(o=e.filter),r=e.arrayFormat in l?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":h.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=void 0===e.allowDots?!0===e.encodeDotInKeys||h.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:s,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:h.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?h.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:h.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:h.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:o,format:n,formatter:a,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}}(t);"function"==typeof s.filter?a=(0,s.filter)("",a):c(s.filter)&&(n=s.filter);var f=[];if("object"!=o(a)||null===a)return"";var p=l[s.arrayFormat],v="comma"===p&&s.commaRoundTrip;n||(n=Object.keys(a)),s.sort&&n.sort(s.sort);for(var m=r(),g=0;g<n.length;++g){var E=n[g],b=a[E];s.skipNulls&&null===b||d(f,y(b,E,p,v,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,m))}var S=f.join(s.delimiter),C=!0===s.addQueryPrefix?"?":"";return s.charsetSentinel&&("iso-8859-1"===s.charset?C+="utf8=%26%2310003%3B&":C+="utf8=%E2%9C%93&"),S.length>0?C+S:""}},4662:function(e,t,n){"use strict";var r=n(9647),a=Object.prototype.hasOwnProperty,i=Array.isArray,u=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),l=function(e,t){for(var n=t&&t.plainObjects?{__proto__:null}:{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},c=1024;e.exports={arrayToObject:l,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var a=t[r],u=a.obj[a.prop],l=Object.keys(u),c=0;c<l.length;++c){var s=l[c],d=u[s];"object"==o(d)&&null!==d&&-1===n.indexOf(d)&&(t.push({obj:u,prop:s}),n.push(d))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(i(n)){for(var r=[],a=0;a<n.length;++a)void 0!==n[a]&&r.push(n[a]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,a,i){if(0===e.length)return e;var l=e;if("symbol"==o(e)?l=Symbol.prototype.toString.call(e):"string"!=typeof e&&(l=String(e)),"iso-8859-1"===n)return escape(l).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var s="",d=0;d<l.length;d+=c){for(var f=l.length>=c?l.slice(d,d+c):l,p=[],h=0;h<f.length;++h){var v=f.charCodeAt(h);45===v||46===v||95===v||126===v||v>=48&&v<=57||v>=65&&v<=90||v>=97&&v<=122||i===r.RFC1738&&(40===v||41===v)?p[p.length]=f.charAt(h):v<128?p[p.length]=u[v]:v<2048?p[p.length]=u[192|v>>6]+u[128|63&v]:v<55296||v>=57344?p[p.length]=u[224|v>>12]+u[128|v>>6&63]+u[128|63&v]:(h+=1,v=65536+((1023&v)<<10|1023&f.charCodeAt(h)),p[p.length]=u[240|v>>18]+u[128|v>>12&63]+u[128|v>>6&63]+u[128|63&v])}s+=p.join("")}return s},isBuffer:function(e){return!(!e||"object"!=o(e)||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(i(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=o(n)&&"function"!=typeof n){if(i(t))t.push(n);else{if(!t||"object"!=o(t))return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!a.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=o(t))return[t].concat(n);var u=t;return i(t)&&!i(n)&&(u=l(t,r)),i(t)&&i(n)?(n.forEach((function(n,i){if(a.call(t,i)){var u=t[i];u&&"object"==o(u)&&n&&"object"==o(n)?t[i]=e(u,n,r):t.push(n)}else t[i]=n})),t):Object.keys(n).reduce((function(t,i){var o=n[i];return a.call(t,i)?t[i]=e(t[i],o,r):t[i]=o,t}),u)}}},6738:function(e,t,n){"use strict";var r=n(6785),a=n(5937),i=n(8709),o=n(885),u=n(8977)||o||i;e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new r("Side channel does not contain "+a(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,n){e||(e=u()),e.set(t,n)}};return t}},8709:function(e,t,n){"use strict";var r=n(5937),a=n(6785),i=function(e,t,n){for(var r,a=e;null!=(r=a.next);a=r)if(r.key===t)return a.next=r.next,n||(r.next=e.next,e.next=r),r};e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new a("Side channel does not contain "+r(e))},delete:function(t){var n=e&&e.next,r=function(e,t){if(e)return i(e,t,!0)}(e,t);return r&&n&&n===r&&(e=void 0),!!r},get:function(t){return function(e,t){if(e){var n=i(e,t);return n&&n.value}}(e,t)},has:function(t){return function(e,t){return!!e&&!!i(e,t)}(e,t)},set:function(t,n){e||(e={next:void 0}),function(e,t,n){var r=i(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(e,t,n)}};return t}},885:function(e,t,n){"use strict";var r=n(4885),a=n(2774),i=n(5937),o=n(6785),u=r("%Map%",!0),l=a("Map.prototype.get",!0),c=a("Map.prototype.set",!0),s=a("Map.prototype.has",!0),d=a("Map.prototype.delete",!0),f=a("Map.prototype.size",!0);e.exports=!!u&&function(){var e,t={assert:function(e){if(!t.has(e))throw new o("Side channel does not contain "+i(e))},delete:function(t){if(e){var n=d(e,t);return 0===f(e)&&(e=void 0),n}return!1},get:function(t){if(e)return l(e,t)},has:function(t){return!!e&&s(e,t)},set:function(t,n){e||(e=new u),c(e,t,n)}};return t}},1823:function(e){"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},4885:function(e,t,n){"use strict";var r,a=n(5846),i=n(5293),u=n(9055),l=n(8888),c=n(7900),s=n(5389),d=n(6785),f=n(4055),p=n(716),h=n(7450),v=n(3774),y=n(7552),m=n(5874),g=n(9292),E=n(6071),b=Function,S=function(e){try{return b('"use strict"; return ('+e+").constructor;")()}catch(e){}},C=n(5875),_=n(1823),I=function(){throw new d},T=C?function(){try{return I}catch(e){try{return C(arguments,"callee").get}catch(e){return I}}}():I,A=n(5639)(),w=n(7106),N=n(3766),O=n(6822),L=n(3036),D=n(78),R={},k="undefined"!=typeof Uint8Array&&w?w(Uint8Array):r,P={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":A&&w?w([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":R,"%AsyncGenerator%":R,"%AsyncGeneratorFunction%":R,"%AsyncIteratorPrototype%":R,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":u,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":R,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":A&&w?w(w([][Symbol.iterator]())):r,"%JSON%":"object"==("undefined"==typeof JSON?"undefined":o(JSON))?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&A&&w?w((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":a,"%Object.getOwnPropertyDescriptor%":C,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":l,"%ReferenceError%":c,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&A&&w?w((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":A&&w?w(""[Symbol.iterator]()):r,"%Symbol%":A?Symbol:r,"%SyntaxError%":s,"%ThrowTypeError%":T,"%TypedArray%":k,"%TypeError%":d,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":f,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet,"%Function.prototype.call%":D,"%Function.prototype.apply%":L,"%Object.defineProperty%":_,"%Object.getPrototypeOf%":N,"%Math.abs%":p,"%Math.floor%":h,"%Math.max%":v,"%Math.min%":y,"%Math.pow%":m,"%Math.round%":g,"%Math.sign%":E,"%Reflect.getPrototypeOf%":O};if(w)try{null.error}catch(e){var x=w(w(e));P["%Error.prototype%"]=x}var M=function e(t){var n;if("%AsyncFunction%"===t)n=S("async function () {}");else if("%GeneratorFunction%"===t)n=S("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=S("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var a=e("%AsyncGenerator%");a&&w&&(n=w(a.prototype))}return P[t]=n,n},U={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},V=n(5049),F=n(5215),j=V.call(D,Array.prototype.concat),W=V.call(L,Array.prototype.splice),G=V.call(D,String.prototype.replace),H=V.call(D,String.prototype.slice),B=V.call(D,RegExp.prototype.exec),z=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,Z=function(e,t){var n,r=e;if(F(U,r)&&(r="%"+(n=U[r])[0]+"%"),F(P,r)){var a=P[r];if(a===R&&(a=M(r)),void 0===a&&!t)throw new d("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:a}}throw new s("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new d('"allowMissing" argument must be a boolean');if(null===B(/^%?[^%]*%?$/,e))throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=H(e,0,1),n=H(e,-1);if("%"===t&&"%"!==n)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new s("invalid intrinsic syntax, expected opening `%`");var r=[];return G(e,z,(function(e,t,n,a){r[r.length]=n?G(a,q,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",a=Z("%"+r+"%",t),i=a.name,o=a.value,u=!1,l=a.alias;l&&(r=l[0],W(n,j([0,1],l)));for(var c=1,f=!0;c<n.length;c+=1){var p=n[c],h=H(p,0,1),v=H(p,-1);if(('"'===h||"'"===h||"`"===h||'"'===v||"'"===v||"`"===v)&&h!==v)throw new s("property names with quotes must have matching quotes");if("constructor"!==p&&f||(u=!0),F(P,i="%"+(r+="."+p)+"%"))o=P[i];else if(null!=o){if(!(p in o)){if(!t)throw new d("base intrinsic for "+e+" exists, but the property is not available.");return}if(C&&c+1>=n.length){var y=C(o,p);o=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:o[p]}else f=F(o,p),o=o[p];f&&!u&&(P[i]=o)}}return o}},7189:function(e){"use strict";e.exports=Object.getOwnPropertyDescriptor},5875:function(e,t,n){"use strict";var r=n(7189);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},5639:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,a=n(9570);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==o(r("foo"))&&"symbol"==o(Symbol("bar"))&&a()}},9570:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==o(Symbol.iterator))return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var r in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var a=Object.getOwnPropertySymbols(e);if(1!==a.length||a[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},8977:function(e,t,n){"use strict";var r=n(8297),a=n(2774),i=n(5937),u=n(885),l=n(6785),c=r("%WeakMap%",!0),s=a("WeakMap.prototype.get",!0),d=a("WeakMap.prototype.set",!0),f=a("WeakMap.prototype.has",!0),p=a("WeakMap.prototype.delete",!0);e.exports=c?function(){var e,t,n={assert:function(e){if(!n.has(e))throw new l("Side channel does not contain "+i(e))},delete:function(n){if(c&&n&&("object"==o(n)||"function"==typeof n)){if(e)return p(e,n)}else if(u&&t)return t.delete(n);return!1},get:function(n){return c&&n&&("object"==o(n)||"function"==typeof n)&&e?s(e,n):t&&t.get(n)},has:function(n){return c&&n&&("object"==o(n)||"function"==typeof n)&&e?f(e,n):!!t&&t.has(n)},set:function(n,r){c&&n&&("object"==o(n)||"function"==typeof n)?(e||(e=new c),d(e,n,r)):u&&(t||(t=u()),t.set(n,r))}};return n}:u},315:function(e){"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},8297:function(e,t,n){"use strict";var r,a=n(5846),i=n(5293),u=n(9055),l=n(8888),c=n(7900),s=n(5389),d=n(6785),f=n(4055),p=n(716),h=n(7450),v=n(3774),y=n(7552),m=n(5874),g=n(9292),E=n(6071),b=Function,S=function(e){try{return b('"use strict"; return ('+e+").constructor;")()}catch(e){}},C=n(4415),_=n(315),I=function(){throw new d},T=C?function(){try{return I}catch(e){try{return C(arguments,"callee").get}catch(e){return I}}}():I,A=n(9715)(),w=n(7106),N=n(3766),O=n(6822),L=n(3036),D=n(78),R={},k="undefined"!=typeof Uint8Array&&w?w(Uint8Array):r,P={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":A&&w?w([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":R,"%AsyncGenerator%":R,"%AsyncGeneratorFunction%":R,"%AsyncIteratorPrototype%":R,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":u,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":R,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":A&&w?w(w([][Symbol.iterator]())):r,"%JSON%":"object"==("undefined"==typeof JSON?"undefined":o(JSON))?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&A&&w?w((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":a,"%Object.getOwnPropertyDescriptor%":C,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":l,"%ReferenceError%":c,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&A&&w?w((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":A&&w?w(""[Symbol.iterator]()):r,"%Symbol%":A?Symbol:r,"%SyntaxError%":s,"%ThrowTypeError%":T,"%TypedArray%":k,"%TypeError%":d,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":f,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet,"%Function.prototype.call%":D,"%Function.prototype.apply%":L,"%Object.defineProperty%":_,"%Object.getPrototypeOf%":N,"%Math.abs%":p,"%Math.floor%":h,"%Math.max%":v,"%Math.min%":y,"%Math.pow%":m,"%Math.round%":g,"%Math.sign%":E,"%Reflect.getPrototypeOf%":O};if(w)try{null.error}catch(e){var x=w(w(e));P["%Error.prototype%"]=x}var M=function e(t){var n;if("%AsyncFunction%"===t)n=S("async function () {}");else if("%GeneratorFunction%"===t)n=S("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=S("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var a=e("%AsyncGenerator%");a&&w&&(n=w(a.prototype))}return P[t]=n,n},U={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},V=n(5049),F=n(5215),j=V.call(D,Array.prototype.concat),W=V.call(L,Array.prototype.splice),G=V.call(D,String.prototype.replace),H=V.call(D,String.prototype.slice),B=V.call(D,RegExp.prototype.exec),z=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,Z=function(e,t){var n,r=e;if(F(U,r)&&(r="%"+(n=U[r])[0]+"%"),F(P,r)){var a=P[r];if(a===R&&(a=M(r)),void 0===a&&!t)throw new d("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:a}}throw new s("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new d('"allowMissing" argument must be a boolean');if(null===B(/^%?[^%]*%?$/,e))throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=H(e,0,1),n=H(e,-1);if("%"===t&&"%"!==n)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new s("invalid intrinsic syntax, expected opening `%`");var r=[];return G(e,z,(function(e,t,n,a){r[r.length]=n?G(a,q,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",a=Z("%"+r+"%",t),i=a.name,o=a.value,u=!1,l=a.alias;l&&(r=l[0],W(n,j([0,1],l)));for(var c=1,f=!0;c<n.length;c+=1){var p=n[c],h=H(p,0,1),v=H(p,-1);if(('"'===h||"'"===h||"`"===h||'"'===v||"'"===v||"`"===v)&&h!==v)throw new s("property names with quotes must have matching quotes");if("constructor"!==p&&f||(u=!0),F(P,i="%"+(r+="."+p)+"%"))o=P[i];else if(null!=o){if(!(p in o)){if(!t)throw new d("base intrinsic for "+e+" exists, but the property is not available.");return}if(C&&c+1>=n.length){var y=C(o,p);o=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:o[p]}else f=F(o,p),o=o[p];f&&!u&&(P[i]=o)}}return o}},8153:function(e){"use strict";e.exports=Object.getOwnPropertyDescriptor},4415:function(e,t,n){"use strict";var r=n(8153);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},9715:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,a=n(3793);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==o(r("foo"))&&"symbol"==o(Symbol("bar"))&&a()}},3793:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==o(Symbol.iterator))return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var r in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var a=Object.getOwnPropertySymbols(e);if(1!==a.length||a[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},2634:function(){}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==("undefined"==typeof globalThis?"undefined":o(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==("undefined"==typeof window?"undefined":o(window)))return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var r={};return function(){"use strict";n.d(r,{default:function(){return I}});var e,t,a,i=n(5882),o=n.n(i);!function(e){e.Cancel="exit",e.Complete="complete",e.Error="error",e.Fail="fail",e.Load="load",e.Ready="ready",e.Start="start",e.Success="success",e.DocumentCameraSelect="document-camera-select",e.DocumentCameraCapture="document-camera-capture",e.DocumentUpload="document-upload",e.OneTimeLinkSent="one-time-link-sent",e.OneTimeLinkStart="one-time-link-start",e.OneTimeLinkExit="one-time-link-exit",e.SelfieCameraSelect="selfie-camera-select",e.SelfieCameraCapture="selfie-camera-capture",e.SelfieRecordUpload="selfie-record-upload",e.LoadCameraFailed="load-camera-failed",e.PageChange="page-change",e.InquiryLoad="inquiry-load",e.CountrySelect="country-select",e.VerificationChange="verification-change"}(e||(e={})),function(e){e.Open="open",e.Exit="exit",e.Destroy="destroy"}(t||(t={})),function(e){e.Development="http://localhost:3000",e.Staging="https://inquiry.withpersona-staging.com",e.Canary="https://canary.withpersona.com",e.Production="https://inquiry.withpersona.com"}(a||(a={}));var u=function(){function e(){}return e.log=function(e,t){void 0===t&&(t="info")},e}();function l(e){switch(e){case"development":return a.Development;case"staging":return a.Staging;case"canary":return a.Canary;case"production":case void 0:case null:return a.Production;default:if("string"==typeof e){var t=e.startsWith("localhost")?"http://".concat(e):"https://".concat(e);if(function(e){try{var t=new URL(e);return!("https:"!==t.protocol&&"localhost"!==t.hostname||!t.hostname||0===t.hostname.length||"localhost"!==t.hostname&&!t.hostname.includes("."))}catch(e){return!1}}(t))return t.replace(/\/$/,"")}return u.log('Invalid host: "'.concat(e,"\". Expected 'development', 'staging', 'canary', 'production', or a valid hostname/URL. Falling back to 'production'."),"error"),a.Production}}var c=n(2709),s=n.n(c),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},d.apply(this,arguments)};function f(e){return Array.isArray(e)?e.map(f):function(e){return null!=e&&e.constructor===Object}(e)?Object.keys(e).reduce((function(t,n){var r;return d(d({},t),((r={})[s()(n)]=f(e[n]),r))}),{}):e}var p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},v=function(){function e(e){this.id=e}return e.prototype.isMounted=function(){return null!=document.getElementById(this.id)},e.prototype.mount=function(e){if(document.getElementById(this.id))console.warn("persona: stylesheet ".concat(this.id," already appended. skipping."));else{var t=m("style",{id:this.id},[document.createTextNode(e)]);document.head.appendChild(t)}},e.prototype.unmount=function(){var e,t=document.getElementById(this.id);null!=t?null===(e=t.parentNode)||void 0===e||e.removeChild(t):console.warn("persona: no stylesheet ".concat(this.id," to remove. skipping."))},e}();function y(e,t,n){var r,a,i,o;void 0===n&&(n=[]);var u=document.createElementNS("http://www.w3.org/2000/svg",e);try{for(var l=p(Object.entries(t)),c=l.next();!c.done;c=l.next()){var s=h(c.value,2),d=s[0],f=s[1];"className"===d&&(d="class"),u.setAttribute(d,f)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}try{for(var v=p(n),y=v.next();!y.done;y=v.next()){var m=y.value;!1!==m&&u.appendChild(m)}}catch(e){i={error:e}}finally{try{y&&!y.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}return u}function m(e,t,n){var r,a,i,o;void 0===n&&(n=[]);var u=document.createElement(e);try{for(var l=p(Object.entries(t)),c=l.next();!c.done;c=l.next()){var s=h(c.value,2),d=s[0],f=s[1];"className"===d&&(d="class"),u.setAttribute(d,f)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}try{for(var v=p(n),y=v.next();!y.done;y=v.next()){var m=y.value;!1!==m&&("string"==typeof m?u.appendChild(document.createTextNode(m)):u.appendChild(m))}}catch(e){i={error:e}}finally{try{y&&!y.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}return u}function g(e){return"string"==typeof e?e:"number"==typeof e?"".concat(e,"px"):""}var E=["allow-scripts","allow-same-origin","allow-popups"],b=["allow-forms","allow-modals","allow-top-navigation-by-user-activation"];function S(e,t,n,r){var a=r.accountId,i=r.accountTypeId,u=r.environment,c=r.environmentId,s=r.fields,d=r.frameAncestors,p=r.frameHeight,h=r.frameWidth,v=r.host,y=r.iframeTitle,m=r.inquiryId,S=r.language,C=r.messageTargetOrigin,_=r.referenceId,I=r.routingCountry,T=r.sandboxAttributes,A=void 0===T?b:T,w=r.sessionToken,N=r.styleVariant,O=r.templateId,L=r.templateVersionId,D=r.themeSetId,R=r.widgetPadding,k=!(!O&&!L),P=null==O?void 0:O.startsWith("itmpl_");if(!k&&!m)throw new Error("Either templateId/templateVersionId or inquiryId must be specified to start a flow");if(k&&m)throw new Error("Only one of templateId/templateVersionId or inquiryId should be specified to start a flow");if(a){if(_)throw new Error("Cannot pass both accountId and referenceId");if(i)throw new Error("Cannot pass both accountId and accountTypeId")}var x=l(v),M=o()({"client-version":"5.3.0","container-id":t,"flow-type":n,"routing-country":I,"template-id":(P?null:O)||null,"inquiry-template-id":(P?O:null)||null,"inquiry-template-version-id":L||null,environment:u,"environment-id":c,"iframe-origin":window.location.origin,"frame-ancestors":null!=d?d:null,"message-target-origin":C||null,"inquiry-id":m||null,language:S,"session-token":w,"reference-id":_,"account-id":a,"account-type-id":i,fields:f(null!=s?s:{}),"style-variant":N||null,"theme-set-id":D,"widget-padding":R},{addQueryPrefix:!0,skipNulls:!0});return e.style.maxHeight=g(p),e.style.maxWidth=g(h),e.setAttribute("data-testid","persona-widget__iframe"),"embedded"===n&&e.setAttribute("aria-modal","true"),e.title=null!=y?y:"Verify your identity",e.className="persona-widget__iframe",e.allow="camera;microphone;clipboard-write",e.setAttribute("sandbox",E.concat(A).join(" ")),e.frameBorder="0",e.src=x+"/widget"+M,e.onload=function(){},e}var C=function(e){if("localhost"===e||/^\d+\.\d+\.\d+\.\d+$/.test(e))return e;var t=e.split(".");return t.length<=1?e:t.slice(-2).join(".")};function _(t,n){var r=n.onLoad,a=n.onReady,i=n.onComplete,o=n.onEvent,u=n.onCancel,c=n.onError,s=n.templateId,d=n.templateVersionId,f=n.host,p=function(n){var p,h,v=l(null!=f?f:"production");if(""!==n.origin)try{if(C(new URL(n.origin).host)!==C(new URL(v).host))return}catch(e){return}if(!(s&&s!==n.data.templateId||d&&d!==n.data.templateVersionId||n.data.containerId&&t!==n.data.containerId))switch(null==o||o(n.data.name,n.data.metadata),n.data.name){case e.Load:null==r||r();break;case e.Ready:null==a||a({preferredDimensions:null===(p=n.data.metadata)||void 0===p?void 0:p.preferredDimensions});break;case e.Complete:case e.Fail:null==i||i({inquiryId:n.data.metadata.inquiryId,status:n.data.metadata.status,fields:null!==(h=n.data.metadata.fields)&&void 0!==h?h:n.data.metadata.scopes});break;case e.Cancel:null==u||u({inquiryId:n.data.metadata.inquiryId,sessionToken:n.data.metadata.sessionToken});break;case e.Error:null==c||c(n.data.error)}};return window.addEventListener("message",p),function(){window.removeEventListener("message",p)}}var I={Client:function(){function e(e){var t,n,r,a,i,o,u,l,c,s,d,f=this;this._isLoading=!0,this._isOpen=!1,this.personaCSS=new v("persona-widget-styles"),this.globalCSS=new v("persona-global-styles"),this.onLoad=function(){var e,t;f._isLoading=!1,f.render(),null===(t=(e=f.options).onLoad)||void 0===t||t.call(e)},this.onReady=function(e){var t,n,r,a=null!==(t=null==e?void 0:e.preferredDimensions)&&void 0!==t?t:{},i=a.minimumWidth,o=a.maximumWidth,u=a.minimumHeight,l=a.maximumHeight;i&&f.iframeElement.setAttribute("data-preferred-minimum-width",i),o&&f.iframeElement.setAttribute("data-preferred-maximum-width",o),u&&f.iframeElement.setAttribute("data-preferred-minimum-height",u),l&&f.iframeElement.setAttribute("data-preferred-maximum-height",l),null===(r=(n=f.options).onReady)||void 0===r||r.call(n)},this.onComplete=function(e){var t,n,r=e.inquiryId,a=e.status,i=e.fields;f._isOpen=!1,f.render(),null===(n=(t=f.options).onComplete)||void 0===n||n.call(t,{inquiryId:r,status:a,fields:i})},this.onCancel=function(e){var t,n,r=e.inquiryId,a=e.sessionToken;f._isOpen=!1,f.render(),null===(n=(t=f.options).onCancel)||void 0===n||n.call(t,{inquiryId:r,sessionToken:a})},this.options=e,this.containerParent=null!==(n=null!==(t=e.parent)&&void 0!==t?t:document.body)&&void 0!==n?n:document.children[0],this.containerElement=m("div",{class:"persona-widget__overlay",style:"display: ".concat(this._isOpen?"block":"none")}),this.containerId="persona-widget-"+new Array(16).fill(void 0).map((function(){return Math.floor(35*Math.random()).toString(35)})).join(""),this.containerElement.setAttribute("id",this.containerId),this.loadingElement=m("div",{class:"persona-widget__centered-frame"},[y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"114",height:"114",class:"persona-widget__loading-spinner"},[y("path",{fill:"none",stroke:"#0F2B72",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M25.887 10.432a56.275 56.275 0 0 0-15.455 15.455 55.86 55.86 0 0 0-5.183 9.678A55.576 55.576 0 0 0 2.066 46.07m-.8 5.438A56.678 56.678 0 0 0 1 57m4.249 21.435a55.86 55.86 0 0 0 5.183 9.678 56.275 56.275 0 0 0 6.97 8.485m8.485 6.97a55.86 55.86 0 0 0 9.678 5.183 55.576 55.576 0 0 0 10.506 3.183c3.535.7 7.19 1.066 10.929 1.066 3.74 0 7.394-.367 10.929-1.066a55.576 55.576 0 0 0 10.506-3.183 55.86 55.86 0 0 0 9.678-5.183 56.275 56.275 0 0 0 15.455-15.455 55.86 55.86 0 0 0 5.183-9.678 55.576 55.576 0 0 0 3.183-10.506A56.274 56.274 0 0 0 113 57c0-3.74-.367-7.394-1.066-10.929a55.576 55.576 0 0 0-3.183-10.506M96.598 17.402a56.275 56.275 0 0 0-8.485-6.97 55.86 55.86 0 0 0-9.678-5.183A55.576 55.576 0 0 0 67.93 2.066 56.274 56.274 0 0 0 57 1c-3.74 0-7.394.367-10.929 1.066m-34.94 30.418A51.76 51.76 0 0 0 7.225 41.9a51.633 51.633 0 0 0-1.98 10 52.63 52.63 0 0 0 .744 15.247 51.633 51.633 0 0 0 7.768 18.743 52.188 52.188 0 0 0 10.254 11.308 52.188 52.188 0 0 0 8.472 5.67m9.417 3.905a51.633 51.633 0 0 0 10 1.98 52.63 52.63 0 0 0 10.197 0 51.939 51.939 0 0 0 10-1.98 51.61 51.61 0 0 0 9.418-3.904 51.984 51.984 0 0 0 8.472-5.671m3.782-3.43a52.308 52.308 0 0 0 3.429-3.78m9.575-17.89a51.633 51.633 0 0 0 1.98-10 52.63 52.63 0 0 0-.744-15.247 51.633 51.633 0 0 0-7.768-18.743 52.188 52.188 0 0 0-10.254-11.308m-4.097-3.043a51.984 51.984 0 0 0-4.375-2.628M67.148 5.99a51.939 51.939 0 0 0-5.05-.743 52.63 52.63 0 0 0-15.246.743 51.633 51.633 0 0 0-18.743 7.768M24.012 16.8a52.308 52.308 0 0 0-3.782 3.43"})])]),this.containerElement.append(this.loadingElement),this.isLoading?this.loadingElement.style.display="block":this.loadingElement.style.display="none",this.iframeElement=document.createElement("iframe"),this.unsubscribeFromEvents=_(this.containerId,{onLoad:null!==(r=this.onLoad)&&void 0!==r?r:null,onReady:null!==(a=this.onReady)&&void 0!==a?a:null,onComplete:null!==(i=this.onComplete)&&void 0!==i?i:null,onCancel:null!==(o=this.onCancel)&&void 0!==o?o:null,onEvent:null!==(u=this.options.onEvent)&&void 0!==u?u:null,onError:null!==(l=this.options.onError)&&void 0!==l?l:null,templateId:null!==(c=this.options.templateId)&&void 0!==c?c:null,templateVersionId:null!==(s=this.options.templateVersionId)&&void 0!==s?s:null,host:null!==(d=this.options.host)&&void 0!==d?d:null}),this.containerElement.appendChild(this.iframeElement),this.containerParent.appendChild(this.containerElement),this.personaCSS.mount("@keyframes persona-widget__fadeIn {\n  from {\n    background-color: rgba(0, 0, 0, 0);\n    opacity: 0;\n  }\n  to {\n    /* persona-widget__overlay opacity = 0.7 */\n    background-color: rgba(0, 0, 0, 0.7);\n    opacity: 1;\n  }\n}\n\n@keyframes persona-widget__genieSlideIn {\n  from {\n    transform: translate(-50%, -40%) scale(0.8);\n  }\n  90% {\n    transform: translate(-50%, -51%) scale(1.01);\n  }\n  to {\n    transform: translate(-50%, -50%);\n  }\n}\n\n@keyframes persona-widget__slideDown {\n  from {\n    transform: translate(-50%, -55%);\n  }\n  to {\n    transform: translate(-50%, -50%);\n  }\n}\n\n.persona-widget__overlay {\n  position: fixed;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 9999;\n  animation: persona-widget__fadeIn 0.3s;\n  background-color: rgba(0, 0, 0, 0.7);\n}\n\n.persona-widget__overlay .persona-widget__centered-frame {\n  width: 120px;\n  height: 120px;\n  position: absolute;\n  left: calc(50% - 60px);\n  top: calc(50% - 60px);\n  z-index: 9999;\n}\n\n.persona-widget__overlay .persona-widget__loading-spinner {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.persona-widget__overlay .persona-widget__iframe {\n  animation: persona-widget__genieSlideIn 0.3s, persona-widget__slideDown ease-out 0.3s;\n\n  width: 100%;\n  height: 100%;\n\n  margin-left: auto;\n  margin-right: auto;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n\n  background-color: #ffffff;\n  border: none;\n  border-radius: 4px;\n  box-shadow: 0px 12px 40px 2px rgba(0, 0, 0, 0.4);\n\n  @media only screen and (min-width: 600.02px) and (min-height: 600.02px) {\n    min-width: attr(data-preferred-minimum-width type(<length> | <percentage>));\n    max-width: attr(data-preferred-maximum-width type(<length> | <percentage>), 400px);\n    min-height: attr(data-preferred-minimum-height type(<length> | <percentage>));\n    max-height: attr(data-preferred-maximum-height type(<length> | <percentage>), 650px);\n  }\n}\n");try{this.iframeElement=S(this.iframeElement,this.containerId,"embedded",this.options)}catch(e){throw console.error("Persona",e),this.destroy(),e}this.render()}return e.preload=function(e){return void 0===e&&(e="production"),new Promise((function(t){var n=l(e),r=document.createElement("iframe");r.frameBorder="0",r.style.height="0px",r.style.width="0px",r.style.display="none",r.src=n+"/preload",document.body.appendChild(r),r.onload=function(){document.body.removeChild(r),t()}}))},e.prototype.render=function(){var e;null!=this.containerElement?(this.loadingElement.style.display=this.isLoading?"block":"none",this.containerElement.style.display=this.isOpen?"block":"none",this.isOpen&&!this.globalCSS.isMounted()?this.globalCSS.mount((e=this.containerId,"\n  /* Don't allow scrolling when widget is open */\n  html body {\n    overflow: hidden !important;\n  }\n\n  /* When the widget takes the full screen, hide everything else to prevent iOS scroll issues. */\n  @media ".concat("(max-width: 600px), (max-height: 420px)"," {\n    html body > *:not(#").concat(e,") {\n      display: none !important;\n    }\n  }\n"))):!this.isOpen&&this.globalCSS.isMounted()&&this.globalCSS.unmount()):u.log("Cannot render client that has been destroyed","error")},e.prototype.open=function(){var e;null===(e=this.iframeElement.contentWindow)||void 0===e||e.postMessage({action:t.Open,metadata:{}},this.baseUrl),this._isOpen=!0,this.render()},e.prototype.cancel=function(e){var n;null===(n=this.iframeElement.contentWindow)||void 0===n||n.postMessage({action:t.Exit,metadata:{force:e}},this.baseUrl),this.render()},e.prototype.destroy=function(){var e;null===(e=this.iframeElement.contentWindow)||void 0===e||e.postMessage({action:t.Destroy,metadata:{}},this.baseUrl),this.personaCSS.unmount(),this.globalCSS.unmount(),this.containerParent.removeChild(this.containerElement),this.unsubscribeFromEvents()},Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._isOpen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseUrl",{get:function(){return l(this.options.host)},enumerable:!1,configurable:!0}),e}(),setupIframe:S,setupEvents:_}}(),r.default}()}))}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e={};n.r(e),n.d(e,{getMetadata:function(){return ro}});var t={};n.r(t),n.d(t,{getEmailConfiguration:function(){return so},updateForCurrentUser:function(){return co}});var r={};n.r(r),n.d(r,{getDetailsForUniverseIds:function(){return vo}});var a={};n.r(a),n.d(a,{getMySettingsInfo:function(){return Eo}});var i={};n.r(i),n.d(i,{getMetadata:function(){return ko},resendCode:function(){return Do},sendCodeForUser:function(){return Lo},validateCode:function(){return Ro}});var o={};n.r(o),n.d(o,{changeForCurrentUser:function(){return zo},resetSendPrompted:function(){return qo},validate:function(){return Zo}});var u={};n.r(u),n.d(u,{getPhoneConfiguration:function(){return ru},getPhonePrefixList:function(){return iu},prioritizeDefaultPrefix:function(){return au}});var l={};n.r(l),n.d(l,{disconnectPlaystation:function(){return yu},getPlaystationConnection:function(){return vu}});var c={};n.r(c),n.d(c,{getAllForCurrentUser:function(){return Au},updateForCurrentUser:function(){return wu}});var s={};n.r(s),n.d(s,{verifyPuzzle:function(){return xu}});var d={};n.r(d),n.d(d,{getPuzzle:function(){return Hu},verifyPuzzle:function(){return Bu}});var f={};n.r(f),n.d(f,{verifyPuzzle:function(){return $u}});var p={};n.r(p),n.d(p,{answerQuestion:function(){return cl},getQuestion:function(){return ll}});var h={};n.r(h),n.d(h,{getSessions:function(){return _l},logoutFromAllSessionsAndReauthenticate:function(){return Tl},logoutSession:function(){return Il}});var v={};n.r(v),n.d(v,{getIconsForUniverseIds:function(){return Rl}});var y={};n.r(y),n.d(y,{deleteSecurityKey:function(){return Tc},disableAuthenticator:function(){return pc},disableEmailTwoStepVerification:function(){return cc},disableSmsTwoStepVerification:function(){return bc},enableAuthenticator:function(){return sc},enableEmailTwoStepVerification:function(){return oc},enableSecurityKey:function(){return Sc},enableSmsTwoStepVerification:function(){return mc},enableVerifyAuthenticator:function(){return dc},enableVerifySecurityKey:function(){return Cc},generateRecoveryCodes:function(){return yc},generateResaleFrictionChallenge:function(){return Pc},generateSpendFrictionChallenge:function(){return Rc},generateTradeFrictionChallenge:function(){return kc},getMetadata:function(){return ac},getPasskeyOptions:function(){return wc},getRecoveryCodesStatus:function(){return vc},getResaleFrictionStatus:function(){return Dc},getSecurityKeyOptions:function(){return _c},getSpendFrictionStatus:function(){return Oc},getTradeFrictionStatus:function(){return Lc},getUserConfiguration:function(){return ic},listSecurityKey:function(){return Ac},redeemResaleFrictionChallenge:function(){return Uc},redeemSpendFrictionChallenge:function(){return xc},redeemTradeFrictionChallenge:function(){return Mc},retractCrossDevice:function(){return jc},retryCrossDevice:function(){return Vc},sendEmailCode:function(){return uc},sendSmsCode:function(){return gc},verifyAuthenticatorCode:function(){return fc},verifyCrossDevice:function(){return Fc},verifyEmailCode:function(){return lc},verifyPasskeyCredential:function(){return Nc},verifyPasswordCode:function(){return Wc},verifyRecoveryCode:function(){return hc},verifySecurityKeyCredential:function(){return Ic},verifySmsCode:function(){return Ec}});var m={};n.r(m),n.d(m,{getSettingsUiPolicy:function(){return Kc}});var g={};n.r(g),n.d(g,{disconnectXbox:function(){return ns},getXboxConnection:function(){return ts}});var E={};n.r(E),n.d(E,{recordMetric:function(){return us}});var b={};n.r(b),n.d(b,{getPatToken:function(){return hs}});var S={};n.r(S),n.d(S,{continueChallenge:function(){return Cs}});var C={};n.r(C),n.d(C,{deletePasskeyBatch:function(){return xs},finishPasskeyRegistration:function(){return Ps},listAllCredentials:function(){return Ms},resetPassword:function(){return Us},startPasskeyRegistration:function(){return ks},startPreAuthPasskeyRegistration:function(){return Rs}});var _={};n.r(_),n.d(_,{getNativeResponse:function(){return Gs},getNavigatorCredentials:function(){return Hs}});var I={};n.r(I),n.d(I,{recoverySessionMetadata:function(){return rd},requestRecovery:function(){return $s},resendCode:function(){return td},sendCode:function(){return ed},setEmail:function(){return ad},verifyCode:function(){return nd}});var T={};n.r(T),n.d(T,{ActionType:function(){return Ed},ErrorCode:function(){return bd},renderChallenge:function(){return qd}});var A={};n.r(A),n.d(A,{ErrorCode:function(){return tf},renderChallenge:function(){return mf}});var w={};n.r(w),n.d(w,{ACCOUNT_SETTINGS_SECURITY_PATH:function(){return Zf},BLOCK_SESSION_LANGUAGE_RESOURCES:function(){return $f},ErrorCode:function(){return cp},FEATURE_NAME:function(){return zf},FORCE_AUTHENTICATOR_LANGUAGE_RESOURCES:function(){return Xf},FORCE_TWO_STEP_VERIFICATION_LANGUAGE_RESOURCES:function(){return Qf},ForceActionRedirectChallengeType:function(){return sp},LOG_PREFIX:function(){return qf},getForceActionRedirectChallengeConfig:function(){return tp},renderChallenge:function(){return dp},translationsParametersByKey:function(){return ep}});var N={};n.r(N),n.d(N,{ErrorCode:function(){return gv},renderChallenge:function(){return vy}});var O={};n.r(O),n.d(O,{ErrorCode:function(){return Ev},PuzzleType:function(){return bv},renderChallenge:function(){return Xy}});var L={};n.r(L),n.d(L,{ErrorCode:function(){return Sv},renderChallenge:function(){return Tm}});var D={};n.r(D),n.d(D,{ErrorCode:function(){return Cv},PuzzleType:function(){return _v},renderChallenge:function(){return eg}});var R={};n.r(R),n.d(R,{ErrorCode:function(){return Iv},renderChallenge:function(){return Cg}});var k={};n.r(k),n.d(k,{ActionType:function(){return Tv},ErrorCode:function(){return wv},MediaType:function(){return Av},renderChallenge:function(){return PE}});var P={};n.r(P),n.d(P,{ChallengeError:function(){return UA},ChallengeErrorKind:function(){return yv},ChallengeType:function(){return Nv},ErrorCodeGeneric:function(){return vv},interceptChallenge:function(){return VA},loadPreludeIfMissing:function(){return FA},parseChallengeSpecificProperties:function(){return PA},renderChallenge:function(){return xA}});var x={};function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}(e,t)||V(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=V(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function V(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,a)}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}n.r(x),n.d(x,{ChallengeType:function(){return Nv},HybridTarget:function(){return mv},dispatchNavigateToFeatureHybridEvent:function(){return HR},renderChallengeFromQueryParameters:function(){return ak},renderGenericChallengeFromQueryParameters:function(){return ek},renderNewGenericChallengeFromQueryParameters:function(){return $R}});var q=function(e){return{_tag:"Left",left:e}},Z=function(e){return{_tag:"Right",right:e}},K={_tag:"None"},Y=function(e){return{_tag:"Some",value:e}},J=function(e){return function(t){return $(t)?K:Y(e(t.value))}},X=function(e){return"Left"===e._tag?K:Y(e.right)},Q=function(e){return"Some"===e._tag},$=function(e){return"None"===e._tag};!function(){function e(e,t){if(this.bufferIndex=0,e<1)throw new Error("EventPublishers must have size of at least 1!");this.maxEventQueueLength=e,this.eventQueue=new Array(this.maxEventQueueLength).fill(K),this.delegatePublisher=t,this.appendEvent=this.appendEvent.bind(this),this.publish=this.publish.bind(this)}e.prototype.appendEvent=function(e){var t=this.bufferIndex%this.maxEventQueueLength,n=this.eventQueue[t];return this.eventQueue[t]=Y(e),this.bufferIndex%=this.maxEventQueueLength,this.bufferIndex+=1,Q(n)},e.prototype.publish=function(){this.delegatePublisher.publish(this.eventQueue.filter(Q))}}();function ee(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))}function te(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=u(0),o.throw=u(1),o.return=u(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){i.label=u[1];break}if(6===u[0]&&i.label<a[1]){i.label=a[1],a=u;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(u);break}a[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}}function ne(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var re="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ae=function(e){return e&&e.Math===Math&&e},ie=ae("object"==("undefined"==typeof globalThis?"undefined":z(globalThis))&&globalThis)||ae("object"==("undefined"==typeof window?"undefined":z(window))&&window)||ae("object"==("undefined"==typeof self?"undefined":z(self))&&self)||ae("object"==z(re)&&re)||ae("object"==z(re)&&re)||function(){return this}()||Function("return this")(),oe={},ue=function(e){try{return!!e()}catch(e){return!0}},le=!ue((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),ce=!ue((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),se=ce,de=Function.prototype.call,fe=se?de.bind(de):function(){return de.apply(de,arguments)},pe={},he={}.propertyIsEnumerable,ve=Object.getOwnPropertyDescriptor,ye=ve&&!he.call({1:2},1);pe.f=ye?function(e){var t=ve(this,e);return!!t&&t.enumerable}:he;var me,ge,Ee=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},be=ce,Se=Function.prototype,Ce=Se.call,_e=be&&Se.bind.bind(Ce,Ce),Ie=be?_e:function(e){return function(){return Ce.apply(e,arguments)}},Te=Ie,Ae=Te({}.toString),we=Te("".slice),Ne=ue,Oe=Object,Le=Ie("".split),De=Ne((function(){return!Oe("z").propertyIsEnumerable(0)}))?function(e){return"String"===function(e){return we(Ae(e),8,-1)}(e)?Le(e,""):Oe(e)}:Oe,Re=function(e){return null==e},ke=Re,Pe=TypeError,xe=function(e){if(ke(e))throw new Pe("Can't call method on "+e);return e},Me=De,Ue=xe,Ve=function(e){return Me(Ue(e))},Fe="object"==("undefined"==typeof document?"undefined":z(document))&&document.all,je=void 0===Fe&&void 0!==Fe?function(e){return"function"==typeof e||e===Fe}:function(e){return"function"==typeof e},We=je,Ge=function(e){return"object"==z(e)?null!==e:We(e)},He=ie,Be=je,ze=function(e,t){return arguments.length<2?(n=He[e],Be(n)?n:void 0):He[e]&&He[e][t];var n},qe=Ie({}.isPrototypeOf),Ze=ie.navigator,Ke=Ze&&Ze.userAgent,Ye=ie,Je=Ke?String(Ke):"",Xe=Ye.process,Qe=Ye.Deno,$e=Xe&&Xe.versions||Qe&&Qe.version,et=$e&&$e.v8;et&&(ge=(me=et.split("."))[0]>0&&me[0]<4?1:+(me[0]+me[1])),!ge&&Je&&(!(me=Je.match(/Edge\/(\d+)/))||me[1]>=74)&&(me=Je.match(/Chrome\/(\d+)/))&&(ge=+me[1]);var tt=ge,nt=ue,rt=ie.String,at=!!Object.getOwnPropertySymbols&&!nt((function(){var e=Symbol("symbol detection");return!rt(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&tt&&tt<41})),it=at&&!Symbol.sham&&"symbol"==z(Symbol.iterator),ot=ze,ut=je,lt=qe,ct=Object,st=it?function(e){return"symbol"==z(e)}:function(e){var t=ot("Symbol");return ut(t)&&lt(t.prototype,ct(e))},dt=String,ft=je,pt=TypeError,ht=function(e){if(ft(e))return e;throw new pt(function(e){try{return dt(e)}catch(e){return"Object"}}(e)+" is not a function")},vt=ht,yt=Re,mt=fe,gt=je,Et=Ge,bt=TypeError,St={exports:{}},Ct=ie,_t=Object.defineProperty,It=function(e,t){try{_t(Ct,e,{value:t,configurable:!0,writable:!0})}catch(n){Ct[e]=t}return t},Tt=ie,At=It,wt="__core-js_shared__",Nt=St.exports=Tt[wt]||At(wt,{});(Nt.versions||(Nt.versions=[])).push({version:"3.41.0",mode:"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Ot=St.exports,Lt=Ot,Dt=function(e,t){return Lt[e]||(Lt[e]=t||{})},Rt=xe,kt=Object,Pt=Ie({}.hasOwnProperty),xt=Object.hasOwn||function(e,t){return Pt(function(e){return kt(Rt(e))}(e),t)},Mt=Ie,Ut=0,Vt=Math.random(),Ft=Mt(1..toString),jt=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Ft(++Ut+Vt,36)},Wt=Dt,Gt=xt,Ht=jt,Bt=at,zt=it,qt=ie.Symbol,Zt=Wt("wks"),Kt=zt?qt.for||qt:qt&&qt.withoutSetter||Ht,Yt=fe,Jt=Ge,Xt=st,Qt=TypeError,$t=function(e){return Gt(Zt,e)||(Zt[e]=Bt&&Gt(qt,e)?qt[e]:Kt("Symbol."+e)),Zt[e]}("toPrimitive"),en=function(e,t){if(!Jt(e)||Xt(e))return e;var n,r=function(e,t){var n=e[t];return yt(n)?void 0:vt(n)}(e,$t);if(r){if(void 0===t&&(t="default"),n=Yt(r,e,t),!Jt(n)||Xt(n))return n;throw new Qt("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&gt(n=e.toString)&&!Et(r=mt(n,e)))return r;if(gt(n=e.valueOf)&&!Et(r=mt(n,e)))return r;if("string"!==t&&gt(n=e.toString)&&!Et(r=mt(n,e)))return r;throw new bt("Can't convert object to primitive value")}(e,t)},tn=st,nn=function(e){var t=en(e,"string");return tn(t)?t:t+""},rn=Ge,an=ie.document,on=rn(an)&&rn(an.createElement),un=!le&&!ue((function(){return 7!==Object.defineProperty(function(e){return on?an.createElement(e):{}}("div"),"a",{get:function(){return 7}}).a})),ln=le,cn=fe,sn=pe,dn=Ee,fn=Ve,pn=nn,hn=xt,vn=un,yn=Object.getOwnPropertyDescriptor;oe.f=ln?yn:function(e,t){if(e=fn(e),t=pn(t),vn)try{return yn(e,t)}catch(e){}if(hn(e,t))return dn(!cn(sn.f,e,t),e[t])};var mn={},gn=le&&ue((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),En=Ge,bn=String,Sn=TypeError,Cn=function(e){if(En(e))return e;throw new Sn(bn(e)+" is not an object")},_n=le,In=un,Tn=gn,An=Cn,wn=nn,Nn=TypeError,On=Object.defineProperty,Ln=Object.getOwnPropertyDescriptor,Dn="enumerable",Rn="configurable",kn="writable";mn.f=_n?Tn?function(e,t,n){if(An(e),t=wn(t),An(n),"function"==typeof e&&"prototype"===t&&"value"in n&&kn in n&&!n[kn]){var r=Ln(e,t);r&&r[kn]&&(e[t]=n.value,n={configurable:Rn in n?n[Rn]:r[Rn],enumerable:Dn in n?n[Dn]:r[Dn],writable:!1})}return On(e,t,n)}:On:function(e,t,n){if(An(e),t=wn(t),An(n),In)try{return On(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new Nn("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Pn=mn,xn=Ee,Mn=le?function(e,t,n){return Pn.f(e,t,xn(1,n))}:function(e,t,n){return e[t]=n,e},Un={exports:{}},Vn=le,Fn=xt,jn=Function.prototype,Wn=Vn&&Object.getOwnPropertyDescriptor,Gn=Fn(jn,"name"),Hn={EXISTS:Gn,PROPER:Gn&&"something"===function(){}.name,CONFIGURABLE:Gn&&(!Vn||Vn&&Wn(jn,"name").configurable)},Bn=je,zn=Ot,qn=Ie(Function.toString);Bn(zn.inspectSource)||(zn.inspectSource=function(e){return qn(e)});var Zn,Kn,Yn,Jn=zn.inspectSource,Xn=je,Qn=ie.WeakMap,$n=Xn(Qn)&&/native code/.test(String(Qn)),er=jt,tr=Dt("keys"),nr={},rr=$n,ar=ie,ir=Ge,or=Mn,ur=xt,lr=Ot,cr=nr,sr="Object already initialized",dr=ar.TypeError,fr=ar.WeakMap;if(rr||lr.state){var pr=lr.state||(lr.state=new fr);pr.get=pr.get,pr.has=pr.has,pr.set=pr.set,Zn=function(e,t){if(pr.has(e))throw new dr(sr);return t.facade=e,pr.set(e,t),t},Kn=function(e){return pr.get(e)||{}},Yn=function(e){return pr.has(e)}}else{var hr=function(e){return tr[e]||(tr[e]=er(e))}("state");cr[hr]=!0,Zn=function(e,t){if(ur(e,hr))throw new dr(sr);return t.facade=e,or(e,hr,t),t},Kn=function(e){return ur(e,hr)?e[hr]:{}},Yn=function(e){return ur(e,hr)}}var vr={set:Zn,get:Kn,has:Yn,enforce:function(e){return Yn(e)?Kn(e):Zn(e,{})},getterFor:function(e){return function(t){var n;if(!ir(t)||(n=Kn(t)).type!==e)throw new dr("Incompatible receiver, "+e+" required");return n}}},yr=Ie,mr=ue,gr=je,Er=xt,br=le,Sr=Hn.CONFIGURABLE,Cr=Jn,_r=vr.enforce,Ir=vr.get,Tr=String,Ar=Object.defineProperty,wr=yr("".slice),Nr=yr("".replace),Or=yr([].join),Lr=br&&!mr((function(){return 8!==Ar((function(){}),"length",{value:8}).length})),Dr=String(String).split("String"),Rr=Un.exports=function(e,t,n){"Symbol("===wr(Tr(t),0,7)&&(t="["+Nr(Tr(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!Er(e,"name")||Sr&&e.name!==t)&&(br?Ar(e,"name",{value:t,configurable:!0}):e.name=t),Lr&&n&&Er(n,"arity")&&e.length!==n.arity&&Ar(e,"length",{value:n.arity});try{n&&Er(n,"constructor")&&n.constructor?br&&Ar(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=_r(e);return Er(r,"source")||(r.source=Or(Dr,"string"==typeof t?t:"")),e};Function.prototype.toString=Rr((function(){return gr(this)&&Ir(this).source||Cr(this)}),"toString");var kr=Un.exports,Pr=je,xr=mn,Mr=kr,Ur=It,Vr={},Fr=Math.ceil,jr=Math.floor,Wr=Math.trunc||function(e){var t=+e;return(t>0?jr:Fr)(t)},Gr=function(e){var t=+e;return t!=t||0===t?0:Wr(t)},Hr=Gr,Br=Math.max,zr=Math.min,qr=Gr,Zr=Math.min,Kr=Ve,Yr=function(e){return function(e){var t=qr(e);return t>0?Zr(t,9007199254740991):0}(e.length)},Jr=function(e){return function(t,n,r){var a=Kr(t),i=Yr(a);if(0===i)return!e&&-1;var o,u=function(e,t){var n=Hr(e);return n<0?Br(n+t,0):zr(n,t)}(r,i);if(e&&n!=n){for(;i>u;)if((o=a[u++])!=o)return!0}else for(;i>u;u++)if((e||u in a)&&a[u]===n)return e||u||0;return!e&&-1}},Xr={includes:Jr(!0),indexOf:Jr(!1)},Qr=xt,$r=Ve,ea=Xr.indexOf,ta=nr,na=Ie([].push),ra=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype");Vr.f=Object.getOwnPropertyNames||function(e){return function(e,t){var n,r=$r(e),a=0,i=[];for(n in r)!Qr(ta,n)&&Qr(r,n)&&na(i,n);for(;t.length>a;)Qr(r,n=t[a++])&&(~ea(i,n)||na(i,n));return i}(e,ra)};var aa={};aa.f=Object.getOwnPropertySymbols;var ia=ze,oa=Vr,ua=aa,la=Cn,ca=Ie([].concat),sa=ia("Reflect","ownKeys")||function(e){var t=oa.f(la(e)),n=ua.f;return n?ca(t,n(e)):t},da=xt,fa=sa,pa=oe,ha=mn,va=ue,ya=je,ma=/#|\.prototype\./,ga=function(e,t){var n=ba[Ea(e)];return n===Ca||n!==Sa&&(ya(t)?va(t):!!t)},Ea=ga.normalize=function(e){return String(e).replace(ma,".").toLowerCase()},ba=ga.data={},Sa=ga.NATIVE="N",Ca=ga.POLYFILL="P",_a=ga,Ia=ie,Ta=oe.f,Aa=Mn,wa=function(e,t,n,r){r||(r={});var a=r.enumerable,i=void 0!==r.name?r.name:t;if(Pr(n)&&Mr(n,i,r),r.global)a?e[t]=n:Ur(t,n);else{try{r.unsafe?e[t]&&(a=!0):delete e[t]}catch(e){}a?e[t]=n:xr.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},Na=It,Oa=function(e,t,n){for(var r=fa(t),a=ha.f,i=pa.f,o=0;o<r.length;o++){var u=r[o];da(e,u)||n&&da(n,u)||a(e,u,i(t,u))}},La=_a,Da={},Ra=ht,ka=TypeError,Pa=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw new ka("Bad Promise constructor");t=e,n=r})),this.resolve=Ra(t),this.reject=Ra(n)};Da.f=function(e){return new Pa(e)};var xa=Da;!function(e,t){var n,r,a,i,o,u=e.target,l=e.global,c=e.stat;if(n=l?Ia:c?Ia[u]||Na(u,{}):Ia[u]&&Ia[u].prototype)for(r in t){if(i=t[r],a=e.dontCallGetSet?(o=Ta(n,r))&&o.value:n[r],!La(l?r:u+(c?".":"#")+r,e.forced)&&void 0!==a){if(z(i)==z(a))continue;Oa(i,a)}(e.sham||a&&a.sham)&&Aa(i,"sham",!0),wa(n,r,i,e)}}({target:"Promise",stat:!0},{withResolvers:function(){var e=xa.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var Ma=q,Ua=Z,Va=function(e,t){try{return Ua(e())}catch(e){return Ma(t(e))}},Fa={};!function(e){var t=re&&re.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};function n(e){return e}function r(e){return function(){return e}}function a(e,t,n,r,a,i,o,u,l){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return a(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return i(a(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return o(i(a(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return u(o(i(a(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return l(u(o(i(a(r(n(t(e.apply(this,arguments)))))))))}}}function i(e){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(e,"__esModule",{value:!0}),e.dual=e.getEndomorphismMonoid=e.SK=e.hole=e.constVoid=e.constUndefined=e.constNull=e.constFalse=e.constTrue=e.unsafeCoerce=e.apply=e.getRing=e.getSemiring=e.getMonoid=e.getSemigroup=e.getBooleanAlgebra=void 0,e.identity=n,e.constant=r,e.flip=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length>1?e(t[1],t[0]):function(n){return e(n)(t[0])}}},e.flow=a,e.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},e.increment=function(e){return e+1},e.decrement=function(e){return e-1},e.absurd=i,e.tupled=function(e){return function(t){return e.apply(void 0,t)}},e.untupled=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e(t)}},e.pipe=function(e,t,n,r,a,i,o,u,l){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return a(r(n(t(e))));case 6:return i(a(r(n(t(e)))));case 7:return o(i(a(r(n(t(e))))));case 8:return u(o(i(a(r(n(t(e)))))));case 9:return l(u(o(i(a(r(n(t(e))))))));default:for(var c=arguments[0],s=1;s<arguments.length;s++)c=arguments[s](c);return c}},e.not=function(e){return function(t){return!e(t)}},e.getBooleanAlgebra=function(e){return function(){return{meet:function(t,n){return function(r){return e.meet(t(r),n(r))}},join:function(t,n){return function(r){return e.join(t(r),n(r))}},zero:function(){return e.zero},one:function(){return e.one},implies:function(t,n){return function(r){return e.implies(t(r),n(r))}},not:function(t){return function(n){return e.not(t(n))}}}}},e.getSemigroup=function(e){return function(){return{concat:function(t,n){return function(r){return e.concat(t(r),n(r))}}}}},e.getMonoid=function(t){var n=(0,e.getSemigroup)(t);return function(){return{concat:n().concat,empty:function(){return t.empty}}}},e.getSemiring=function(e){return{add:function(t,n){return function(r){return e.add(t(r),n(r))}},zero:function(){return e.zero},mul:function(t,n){return function(r){return e.mul(t(r),n(r))}},one:function(){return e.one}}},e.getRing=function(t){var n=(0,e.getSemiring)(t);return{add:n.add,mul:n.mul,one:n.one,zero:n.zero,sub:function(e,n){return function(r){return t.sub(e(r),n(r))}}}},e.apply=function(e){return function(t){return t(e)}},e.unsafeCoerce=n,e.constTrue=r(!0),e.constFalse=r(!1),e.constNull=r(null),e.constUndefined=r(void 0),e.constVoid=e.constUndefined,e.hole=i,e.SK=function(e,t){return t},e.getEndomorphismMonoid=function(){return{concat:function(e,t){return a(e,t)},empty:n}},e.dual=function(e,n){var r="number"==typeof e?function(t){return t.length>=e}:e;return function(){var e=Array.from(arguments);return r(arguments)?n.apply(this,e):function(r){return n.apply(void 0,t([r],e,!1))}}}}(Fa);var ja=/\{[^{}]+\}/g;function Wa(e){var t,n,r,a=G({},e),i=a.baseUrl,o=void 0===i?"":i,u=a.Request,l=void 0===u?globalThis.Request:u,c=a.fetch,s=void 0===c?globalThis.fetch:c,d=a.querySerializer,f=a.bodySerializer,p=a.headers,h=a.requestInitExt,v=B(a,["baseUrl","Request","fetch","querySerializer","bodySerializer","headers","requestInitExt"]);h="object"==("undefined"==typeof process?"undefined":z(process))&&Number.parseInt(null===(t=process)||void 0===t||null===(n=t.versions)||void 0===n||null===(r=n.node)||void 0===r?void 0:r.substring(0,2))>=18&&process.versions.undici?h:void 0,o=Ka(o);var y=[];function m(e,t){return g.apply(this,arguments)}function g(){return g=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){j(i,r,a,o,u,"next",e)}function u(e){j(i,r,a,o,u,"throw",e)}o(void 0)}))}}(regeneratorRuntime.mark((function e(t,n){var r,a,i,u,c,m,g,E,b,S,C,_,I,T,A,w,N,O,L,D,R,k,P,x,M,V,F,j,W,H,q,Z,K,Y,J,X;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(x in a=(r=n||{}).baseUrl,i=r.fetch,u=void 0===i?s:i,c=r.Request,m=r.headers,g=r.params,E=void 0===g?{}:g,b=r.parseAs,S=void 0===b?"json":b,C=r.querySerializer,_=r.bodySerializer,I=void 0===_?null!=f?f:qa:_,T=r.body,A=B(r,["baseUrl","fetch","Request","headers","params","parseAs","querySerializer","bodySerializer","body"]),a&&(o=Ka(a)),w="function"==typeof d?d:za(d),C&&(w="function"==typeof C?C:za(G(G({},"object"==z(d)?d:{}),C))),N=void 0===T?void 0:I(T),O=void 0===N||N instanceof FormData?{}:{"Content-Type":"application/json"},L=G(G(G({redirect:"follow"},v),A),{},{body:N,headers:Za(O,p,m,E.header)}),P=new l(function(e,t){var n,r,a="".concat(t.baseUrl).concat(e);(null===(n=t.params)||void 0===n?void 0:n.path)&&(a=function(e,t){var n,r,a=e,i=U(null!==(n=e.match(ja))&&void 0!==n?n:[]);try{for(i.s();!(r=i.n()).done;){var o=r.value,u=o.substring(1,o.length-1),l=!1,c="simple";if(u.endsWith("*")&&(l=!0,u=u.substring(0,u.length-1)),u.startsWith(".")?(c="label",u=u.substring(1)):u.startsWith(";")&&(c="matrix",u=u.substring(1)),t&&void 0!==t[u]&&null!==t[u]){var s=t[u];a=Array.isArray(s)?a.replace(o,Ba(u,s,{style:c,explode:l})):"object"!=z(s)?"matrix"!==c?a.replace(o,"label"===c?".".concat(encodeURIComponent(s)):encodeURIComponent(s)):a.replace(o,";".concat(Ga(u,s))):a.replace(o,Ha(u,s,{style:c,explode:l}))}}}catch(e){i.e(e)}finally{i.f()}return a}(a,t.params.path));var i=t.querySerializer(null!==(r=t.params.query)&&void 0!==r?r:{});return i.startsWith("?")&&(i=i.substring(1)),i&&(a+="?".concat(i)),a}(t,{baseUrl:o,params:E,querySerializer:w}),L),A)x in P||(P[x]=A[x]);if(!y.length){e.next=35;break}D=Math.random().toString(36).slice(2,11),R=Object.freeze({baseUrl:o,fetch:u,parseAs:S,querySerializer:w,bodySerializer:I}),M=U(y),e.prev=10,M.s();case 12:if((V=M.n()).done){e.next=27;break}if(!(F=V.value)||"object"!=z(F)||"function"!=typeof F.onRequest){e.next=25;break}return e.next=17,F.onRequest({request:P,schemaPath:t,params:E,options:R,id:D});case 17:if(!(j=e.sent)){e.next=25;break}if(j instanceof l){e.next=24;break}if(!(j instanceof Response)){e.next=23;break}return k=j,e.abrupt("break",27);case 23:throw new Error("onRequest: must return new Request() or Response() when modifying the request");case 24:P=j;case 25:e.next=12;break;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(10),M.e(e.t0);case 32:return e.prev=32,M.f(),e.finish(32);case 35:if(k){e.next=81;break}return e.prev=36,e.next=39,u(P,h);case 39:k=e.sent,e.next=66;break;case 42:if(e.prev=42,e.t1=e.catch(36),W=e.t1,!y.length){e.next=64;break}H=y.length-1;case 47:if(!(H>=0)){e.next=64;break}if(!(q=y[H])||"object"!=z(q)||"function"!=typeof q.onError){e.next=61;break}return e.next=52,q.onError({request:P,error:W,schemaPath:t,params:E,options:R,id:D});case 52:if(!(Z=e.sent)){e.next=61;break}if(!(Z instanceof Response)){e.next=57;break}return W=void 0,k=Z,e.abrupt("break",64);case 57:if(!(Z instanceof Error)){e.next=60;break}return W=Z,e.abrupt("continue",61);case 60:throw new Error("onError: must return new Response() or instance of Error");case 61:H--,e.next=47;break;case 64:if(!W){e.next=66;break}throw W;case 66:if(!y.length){e.next=81;break}K=y.length-1;case 68:if(!(K>=0)){e.next=81;break}if(!(Y=y[K])||"object"!=z(Y)||"function"!=typeof Y.onResponse){e.next=78;break}return e.next=73,Y.onResponse({request:P,response:k,schemaPath:t,params:E,options:R,id:D});case 73:if(!(J=e.sent)){e.next=78;break}if(J instanceof Response){e.next=77;break}throw new Error("onResponse: must return new Response() when modifying the response");case 77:k=J;case 78:K--,e.next=68;break;case 81:if(204!==k.status&&"0"!==k.headers.get("Content-Length")){e.next=83;break}return e.abrupt("return",k.ok?{data:void 0,response:k}:{error:void 0,response:k});case 83:if(!k.ok){e.next=94;break}if("stream"!==S){e.next=88;break}e.t2={data:k.body,response:k},e.next=93;break;case 88:return e.next=90,k[S]();case 90:e.t3=e.sent,e.t4=k,e.t2={data:e.t3,response:e.t4};case 93:return e.abrupt("return",e.t2);case 94:return e.next=96,k.text();case 96:X=e.sent;try{X=JSON.parse(X)}catch(e){}return e.abrupt("return",{error:X,response:k});case 99:case"end":return e.stop()}}),e,null,[[10,29,32,35],[36,42]])}))),g.apply(this,arguments)}return{request:function(e,t,n){return m(t,G(G({},n),{},{method:e.toUpperCase()}))},GET:function(e,t){return m(e,G(G({},t),{},{method:"GET"}))},PUT:function(e,t){return m(e,G(G({},t),{},{method:"PUT"}))},POST:function(e,t){return m(e,G(G({},t),{},{method:"POST"}))},DELETE:function(e,t){return m(e,G(G({},t),{},{method:"DELETE"}))},OPTIONS:function(e,t){return m(e,G(G({},t),{},{method:"OPTIONS"}))},HEAD:function(e,t){return m(e,G(G({},t),{},{method:"HEAD"}))},PATCH:function(e,t){return m(e,G(G({},t),{},{method:"PATCH"}))},TRACE:function(e,t){return m(e,G(G({},t),{},{method:"TRACE"}))},use:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,a=t;r<a.length;r++){var i=a[r];if(i){if("object"!=z(i)||!("onRequest"in i||"onResponse"in i||"onError"in i))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");y.push(i)}}},eject:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,a=t;r<a.length;r++){var i=a[r],o=y.indexOf(i);-1!==o&&y.splice(o,1)}}}}function Ga(e,t,n){if(null==t)return"";if("object"==z(t))throw new Error("Deeply-nested arrays/objects aren’t supported. Provide your own `querySerializer()` to handle these.");return"".concat(e,"=").concat(!0===(null==n?void 0:n.allowReserved)?t:encodeURIComponent(t))}function Ha(e,t,n){if(!t||"object"!=z(t))return"";var r=[],a={simple:",",label:".",matrix:";"}[n.style]||"&";if("deepObject"!==n.style&&!1===n.explode){for(var i in t)r.push(i,!0===n.allowReserved?t[i]:encodeURIComponent(t[i]));var o=r.join(",");switch(n.style){case"form":return"".concat(e,"=").concat(o);case"label":return".".concat(o);case"matrix":return";".concat(e,"=").concat(o);default:return o}}for(var u in t){var l="deepObject"===n.style?"".concat(e,"[").concat(u,"]"):u;r.push(Ga(l,t[u],n))}var c=r.join(a);return"label"===n.style||"matrix"===n.style?"".concat(a).concat(c):c}function Ba(e,t,n){if(!Array.isArray(t))return"";if(!1===n.explode){var r={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[n.style]||",",a=(!0===n.allowReserved?t:t.map((function(e){return encodeURIComponent(e)}))).join(r);switch(n.style){case"simple":return a;case"label":return".".concat(a);case"matrix":return";".concat(e,"=").concat(a);default:return"".concat(e,"=").concat(a)}}var i,o={simple:",",label:".",matrix:";"}[n.style]||"&",u=[],l=U(t);try{for(l.s();!(i=l.n()).done;){var c=i.value;"simple"===n.style||"label"===n.style?u.push(!0===n.allowReserved?c:encodeURIComponent(c)):u.push(Ga(e,c,n))}}catch(e){l.e(e)}finally{l.f()}return"label"===n.style||"matrix"===n.style?"".concat(o).concat(u.join(o)):u.join(o)}function za(e){return function(t){var n=[];if(t&&"object"==z(t))for(var r in t){var a=t[r];if(null!=a)if(Array.isArray(a)){if(0===a.length)continue;n.push(Ba(r,a,G(G({style:"form",explode:!0},null==e?void 0:e.array),{},{allowReserved:(null==e?void 0:e.allowReserved)||!1})))}else"object"!=z(a)?n.push(Ga(r,a,e)):n.push(Ha(r,a,G(G({style:"deepObject",explode:!0},null==e?void 0:e.object),{},{allowReserved:(null==e?void 0:e.allowReserved)||!1})))}return n.join("&")}}function qa(e){return e instanceof FormData?e:JSON.stringify(e)}function Za(){for(var e=new Headers,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0,i=n;a<i.length;a++){var o=i[a];if(o&&"object"==z(o)){var u,l=U(o instanceof Headers?o.entries():Object.entries(o));try{for(l.s();!(u=l.n()).done;){var c=M(u.value,2),s=c[0],d=c[1];if(null===d)e.delete(s);else if(Array.isArray(d)){var f,p=U(d);try{for(p.s();!(f=p.n()).done;){var h=f.value;e.append(s,h)}}catch(e){p.e(e)}finally{p.f()}}else void 0!==d&&e.set(s,d)}}catch(e){l.e(e)}finally{l.f()}}}return e}function Ka(e){return e.endsWith("/")?e.substring(0,e.length-1):e}var Ya,Ja,Xa=(null===(Ja=null===(Ya=window.Roblox)||void 0===Ya?void 0:Ya.Cookies)||void 0===Ja?void 0:Ja.getBrowserTrackerId)||function(){return"unknown"},Qa=function(e,t){var n=Wa({baseUrl:e()});return $(t)||n.use.apply(n,t.value),n},$a=function(){var e,t,n,r=null!==(n=null===(t=null===(e=window.Roblox)||void 0===e?void 0:e.EnvironmentUrls)||void 0===t?void 0:t.apiGatewayUrl)&&void 0!==n?n:"NOT_FOUND";return"".concat(r,"/account-security-service")},ei=$a(),ti=Qa((function(){return ei}),K),ni=function(e,t,n){for(var r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a];return ee(void 0,ne([e,t,n],r,!0),void 0,(function(e,t,n,r){return void 0===r&&(r=ti),te(this,(function(a){switch(a.label){case 0:return[4,(i=function(){return ee(void 0,void 0,void 0,(function(){return te(this,(function(a){return[2,r.POST("/v1/metrics/record",{baseUrl:$a(),body:{identifier:n||Xa(),name:e,labelValues:t,value:1}})]}))}))},function(){return function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){return function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}}(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i().then(Z)];case 1:return[2,e.sent()];case 2:return e.sent(),[2,q(void 0)];case 3:return[2]}}))}))})()];case 1:return a.sent(),[2]}var i}))}))},ri="rbxIndexedDBSmokeTest",ai=function(e,t,n){var r,a=Promise.withResolvers(),i=a.promise,o=a.resolve,u=a.reject;switch(t){default:if(e.objectStoreNames.contains(n)){ni(ri,{success:"true",arm:"transaction-upgrade-objstore-exists"}),o(null);break}Fa.pipe(Va((function(){return e.createObjectStore(n)}),(function(e){var t,n="unknownerr-create-objstore";return ni(ri,{success:"false",arm:"transaction-upgrade-objstore-creation",error:null!==(t=e instanceof Error&&(null==e?void 0:e.message)||n)&&void 0!==t?t:n}),u(new Error("Could not create object store.")),Ma(e)})),(r=function(e){return ni(ri,{success:"true",arm:"transaction-upgrade-objstore-creation"}),o(e)},function(e){return function(e){return"Left"===e._tag}(e)?e:Ua(r(e.right))}))}return i},ii=function(e){var t=e.request,n=e.objectStoreName,r=e.upgradesHandler,a=Promise.withResolvers(),i=a.promise,o=a.resolve,u=a.reject;return t.onsuccess=function(e){var t=e.target.result;ni(ri,{success:"true",arm:"connection"}),o(t)},t.onerror=function(e){var t,n=e.target.error;ni(ri,{success:"false",arm:"connection",error:null!==(t=null==n?void 0:n.message)&&void 0!==t?t:"unknown-onerror"}),u(n)},t.onupgradeneeded=function(e){return ee(void 0,void 0,void 0,(function(){var t,a,u,l;return te(this,(function(c){switch(c.label){case 0:return t=e.target,a=t.result,[4,r(a,e.oldVersion,n)];case 1:return u=c.sent(),l=Fa.pipe(null==(s=u)?K:Y(s),J((function(e){return e.transaction.oncomplete=function(){ni(ri,{success:"true",arm:"connection-initial-transaction"}),o(a)},i}))),Q(l)||(ni(ri,{success:"true",arm:"connection-initial-transaction-early"}),o(a)),[2]}var s}))}))},t.onblocked=function(e){var t=e.target.result;ni(ri,{success:"true",arm:"connection-blocked"}),t.close()},i},oi=function(e){var t=e.database,n=e.objectStoreName,r=e.key;if(!t.objectStoreNames.contains(n))return K;var a=Promise.withResolvers(),i=a.promise,o=a.resolve,u=t.transaction(n,"readonly");return u.oncomplete=function(){ni(ri,{success:"true",arm:"transaction-get-complete"})},u.objectStore(n).get(r).onsuccess=function(e){var t=e.target.result;ni(ri,{success:"true",arm:"transaction-get"}),o(t)},Y(i)},ui=function(e){var t=e.database,n=e.objectStoreName,r=e.key,a=e.value;if(!t.objectStoreNames.contains(n))return K;var i=Promise.withResolvers(),o=i.promise,u=i.resolve,l=t.transaction(n,"readwrite");return l.oncomplete=function(){ni(ri,{success:"true",arm:"transaction-put-complete"})},l.objectStore(n).put(a,r).onsuccess=function(e){var t=e.target.result;ni(ri,{success:"true",arm:"transaction-put"}),u(t)},Y(o)},li=function(){var e,t,n,r=null!==(n=null===(t=null===(e=window.Roblox)||void 0===e?void 0:e.EnvironmentUrls)||void 0===t?void 0:t.apiGatewayUrl)&&void 0!==n?n:"NOT_FOUND";return"".concat(r,"/rotating-client-service")}(),ci=Qa((function(){return li}),K),si=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ee(void 0,ne([],e,!0),void 0,(function(e){var t;return void 0===e&&(e=ci),te(this,(function(n){switch(n.label){case 0:return[4,e.GET("/v1/metadata")];case 1:return(t=n.sent()).error?[2,{enableIndexedDbTelemetry:!1}]:[2,t.data]}}))}))},di="rbxInstrumentationStore",fi="rbxTimestamp",pi=Roblox,hi=n.n(pi);function vi(e){return vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vi(e)}function yi(e,t,n){return yi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Si(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}},yi(e,t,n||e)}function mi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gi(e,t)}function gi(e,t){return gi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gi(e,t)}function Ei(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Si(e);if(t){var a=Si(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===vi(t)||"function"==typeof t))return t;return bi(e)}(this,n)}}function bi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Si(e){return Si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Si(e)}function Ci(e){return function(e){if(Array.isArray(e))return _i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ii(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ai(e,t,n){return t&&Ti(e.prototype,t),n&&Ti(e,n),e}function wi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ni=function(){function e(t,n){Ii(this,e),wi(this,"words",void 0),wi(this,"sigBytes",void 0),t=this.words=t||[],this.sigBytes=void 0===n?4*t.length:n}return Ai(e,[{key:"toString",value:function(e){return(e||Oi).stringify(this)}},{key:"concat",value:function(e){if(this.clamp(),this.sigBytes%4)for(var t=0;t<e.sigBytes;t++){var n=e.words[t>>>2]>>>24-t%4*8&255;this.words[this.sigBytes+t>>>2]|=n<<24-(this.sigBytes+t)%4*8}else for(var r=0;r<e.sigBytes;r+=4)this.words[this.sigBytes+r>>>2]=e.words[r>>>2];return this.sigBytes+=e.sigBytes,this}},{key:"clamp",value:function(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}},{key:"clone",value:function(){return new e(Ci(this.words))}}]),e}(),Oi={stringify:function(e){for(var t=[],n=0;n<e.sigBytes;n++){var r=e.words[n>>>2]>>>24-n%4*8&255;t.push((r>>>4).toString(16),(15&r).toString(16))}return t.join("")}},Li=function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new Ni(n,t)},Di=function(e){return Li(unescape(encodeURIComponent(e)))},Ri=function(e){mi(n,e);var t=Ei(n);function n(){return Ii(this,n),t.apply(this,arguments)}return Ai(n,[{key:"update",value:function(e){return this._append(e),this._process(),this}},{key:"finalize",value:function(e){e&&this._append(e)}}]),n}(function(){function e(){Ii(this,e),wi(this,"_data",new Ni),wi(this,"_nDataBytes",0),wi(this,"_minBufferSize",0),wi(this,"blockSize",16)}return Ai(e,[{key:"reset",value:function(){this._data=new Ni,this._nDataBytes=0}},{key:"_append",value:function(e){"string"==typeof e&&(e=Di(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}},{key:"_doProcessBlock",value:function(e,t){}},{key:"_process",value:function(e){var t,n=this._data.sigBytes/(4*this.blockSize),r=(n=e?Math.ceil(n):Math.max((0|n)-this._minBufferSize,0))*this.blockSize,a=Math.min(4*r,this._data.sigBytes);if(r){for(var i=0;i<r;i+=this.blockSize)this._doProcessBlock(this._data.words,i);t=this._data.words.splice(0,r),this._data.sigBytes-=a}return new Ni(t,a)}}]),e}()),ki=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Pi=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],xi=[],Mi=function(e){mi(n,e);var t=Ei(n);function n(){var e;Ii(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return wi(bi(e=t.call.apply(t,[this].concat(a))),"_hash",new Ni([].concat(ki))),e}return Ai(n,[{key:"reset",value:function(){yi(Si(n.prototype),"reset",this).call(this),this._hash=new Ni([].concat(ki))}},{key:"_doProcessBlock",value:function(e,t){for(var n=this._hash.words,r=n[0],a=n[1],i=n[2],o=n[3],u=n[4],l=n[5],c=n[6],s=n[7],d=0;d<64;d++){if(d<16)xi[d]=0|e[t+d];else{var f=xi[d-15],p=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,h=xi[d-2],v=(h<<15|h>>>17)^(h<<13|h>>>19)^h>>>10;xi[d]=p+xi[d-7]+v+xi[d-16]}var y=r&a^r&i^a&i,m=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),g=s+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&l^~u&c)+Pi[d]+xi[d];s=c,c=l,l=u,u=o+g|0,o=i,i=a,a=r,r=g+(m+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+a|0,n[2]=n[2]+i|0,n[3]=n[3]+o|0,n[4]=n[4]+u|0,n[5]=n[5]+l|0,n[6]=n[6]+c|0,n[7]=n[7]+s|0}},{key:"finalize",value:function(e){yi(Si(n.prototype),"finalize",this).call(this,e);var t=8*this._nDataBytes,r=8*this._data.sigBytes;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[14+(r+64>>>9<<4)]=Math.floor(t/4294967296),this._data.words[15+(r+64>>>9<<4)]=t,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash}}]),n}(Ri);var Ui,Vi,Fi=React,ji=n.n(Fi),Wi=ReactDOM,Gi=CoreUtilities,Hi=function(e){return{isError:!1,value:e}},Bi=Hi,zi=function(e,t,n){return void 0===n&&(n=null),{isError:!0,error:e,errorRaw:t,errorStatusCode:n}},qi=function(e,t){return e.isError?e:Hi(t(e.value))},Zi=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},Ki=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Yi=function(e){return"object"!=typeof e?null:function(e){var t=[];if(!e||"object"!=typeof e)return[];var n=e.errors;return n instanceof Array?(n.forEach((function(e){if(e&&"object"==typeof e){var n=e.code;"number"==typeof n&&t.push(n)}})),t):[]}(e.data)[0]||null},Ji=function(e,t){return null==e?null:Object.values(e).includes(t)?t:null},Xi=function(e,t,n){return Zi(void 0,void 0,Promise,(function(){var r,a,i,o;return Ki(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,e];case 1:return r=u.sent(),void 0!==n?[2,Bi(n(r.data))]:[2,Bi(r.data)];case 2:return a=u.sent(),i=Yi(a),o=function(e){if("object"!=typeof e||null===e)return null;var t=e.status||null;return"number"!=typeof t?null:t}(a),[2,zi(Ji(t,i),a,o)];case 3:return[2]}}))}))},Qi=function(e,t,n,r){return void 0===n&&(n=Yi),Zi(void 0,void 0,Promise,(function(){var a,i,o;return Ki(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,e];case 1:return a=u.sent(),void 0!==r?[2,Bi(r(a))]:[2,Bi(a)];case 2:return i=u.sent(),o=n(i),[2,zi(Ji(t,o),i,0)];case 3:return[2]}}))}))},$i=(null!==(Ui=pi.EnvironmentUrls.apiGatewayCdnUrl)&&void 0!==Ui?Ui:"URL_NOT_FOUND")+"/captcha";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(Vi||(Vi={}));var eo,to,no={url:$i+"/v1/metadata",timeout:6e4},ro=function(){return Xi(Gi.httpService.get(no,{}),Vi)},ao=null!==(eo=pi.EnvironmentUrls.accountSettingsApi)&&void 0!==eo?eo:"URL_NOT_FOUND";!function(e){e[e.FEATURE_DISABLED=2]="FEATURE_DISABLED",e[e.TOO_MANY_ACCOUNTS_ON_EMAIL=3]="TOO_MANY_ACCOUNTS_ON_EMAIL",e[e.TOO_MANY_ATTEMPTS_TO_UPDATE_EMAIL=6]="TOO_MANY_ATTEMPTS_TO_UPDATE_EMAIL",e[e.INVALID_EMAIL_ADDRESS=9]="INVALID_EMAIL_ADDRESS"}(to||(to={}));var io,oo,uo={withCredentials:!0,url:ao+"/v1/email",timeout:1e4},lo={withCredentials:!0,url:ao+"/v1/email",timeout:1e4},co=function(e){return Xi(Gi.httpService.post(uo,{emailAddress:e,skipVerificationEmail:!0}),to)},so=function(){return Xi(Gi.httpService.get(lo),to)},fo=null!==(io=pi.EnvironmentUrls.gamesApi)&&void 0!==io?io:"URL_NOT_FOUND";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(oo||(oo={}));var po,ho={url:fo+"/v1/games",timeout:1e4},vo=function(e){return Xi(Gi.httpService.get(ho,{universeIds:e}),oo)};!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(po||(po={}));var yo,mo,go={withCredentials:!0,url:"/my/settings/json",timeout:1e4},Eo=function(){return Xi(Gi.httpService.get(go,{}),po)},bo=(null!==(yo=pi.EnvironmentUrls.apiGatewayUrl)&&void 0!==yo?yo:"URL_NOT_FOUND")+"/otp-service";!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.UNKNOWN=1]="UNKNOWN",e[e.INVALID_CODE=2]="INVALID_CODE",e[e.INVALID_SESSION_TOKEN=3]="INVALID_SESSION_TOKEN",e[e.CODE_EXPIRED=4]="CODE_EXPIRED",e[e.UNVALIDATED_SESSION_TOKEN=5]="UNVALIDATED_SESSION_TOKEN",e[e.TOO_MANY_REQUESTS=6]="TOO_MANY_REQUESTS",e[e.CONTACT_MALFORMED=7]="CONTACT_MALFORMED",e[e.VPN_REQUIRED=8]="VPN_REQUIRED",e[e.UNAUTHENTICATED=9]="UNAUTHENTICATED",e[e.METHOD_UNAVAILABLE=10]="METHOD_UNAVAILABLE"}(mo||(mo={}));var So,Co,_o,Io={withCredentials:!0,url:bo+"/v1/sendCodeForUser",timeout:1e4},To={withCredentials:!0,url:bo+"/v1/resendCode",timeout:1e4},Ao={withCredentials:!0,url:bo+"/v1/validateCode",timeout:1e4},wo={withCredentials:!0,url:bo+"/v1/metadata",timeout:1e4};!function(e){e.Unset="Unset",e.Email="Email"}(So||(So={})),function(e){e.Reauth="Reauth",e.Challenge="Challenge"}(Co||(Co={})),function(e){e.Default="Default"}(_o||(_o={}));var No,Oo,Lo=function(e){return Xi(Gi.httpService.post(Io,{contactType:e,origin:Co.Reauth,messageVariant:_o.Default}),mo)},Do=function(e,t){return Xi(Gi.httpService.post(To,{contactType:e,origin:Co.Reauth,otpSessionToken:t}),mo)},Ro=function(e,t,n){return Xi(Gi.httpService.post(Ao,{contactType:e,origin:Co.Reauth,passCode:n,otpSessionToken:t}),mo)},ko=function(e){return Xi(Gi.httpService.get(wo,{Origin:e}),mo)},Po=null!==(No=pi.EnvironmentUrls.authApi)&&void 0!==No?No:"URL_NOT_FOUND";!function(e){e[e.FLOODED=2]="FLOODED",e[e.INVALID_PASSWORD=7]="INVALID_PASSWORD",e[e.INVALID_CURRENT_PASSWORD=8]="INVALID_CURRENT_PASSWORD"}(Oo||(Oo={}));var xo,Mo={withCredentials:!0,url:Po+"/v2/user/passwords/change",timeout:1e4};!function(e){e[e.USER_DOES_NOT_HAVE_EMAIL=22]="USER_DOES_NOT_HAVE_EMAIL"}(xo||(xo={}));var Uo,Vo={withCredentials:!0,url:Po+"/v2/passwords/reset/send-prompted",timeout:1e4};!function(e){e[e.VALID_PASSWORD=0]="VALID_PASSWORD",e[e.WEAK_PASSWORD=1]="WEAK_PASSWORD",e[e.SHORT_PASSWORD=2]="SHORT_PASSWORD",e[e.PASSWORD_SAME_AS_USERNAME=3]="PASSWORD_SAME_AS_USERNAME",e[e.FORBIDDEN_PASSWORD=4]="FORBIDDEN_PASSWORD",e[e.DUMB_STRINGS=5]="DUMB_STRINGS"}(Uo||(Uo={}));var Fo,jo,Wo,Go={withCredentials:!0,url:Po+"/v2/passwords/validate",timeout:1e4},Ho=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},Bo=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},zo=function(e,t){return Xi(Gi.httpService.post(Mo,{currentPassword:e,newPassword:t}),Oo)},qo=function(){return Xi(Gi.httpService.post(Vo),xo)},Zo=function(e,t){return Ho(void 0,void 0,Promise,(function(){return Bo(this,(function(n){return[2,Xi(Gi.httpService.post(Go,{username:e,password:t}),null).then((function(e){return qi(e,(function(e){return Ji(Uo,e.code)}))}))]}))}))},Ko="URL_NOT_FOUND",Yo=null!==(Fo=pi.EnvironmentUrls.accountInformationApi)&&void 0!==Fo?Fo:Ko,Jo=null!==(jo=pi.EnvironmentUrls.apiGatewayUrl)&&void 0!==jo?jo:Ko;!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(Wo||(Wo={}));var Xo,Qo,$o={withCredentials:!0,url:Yo+"/v1/phone",timeout:1e4},eu={withCredentials:!0,url:Jo+"/phone-number-api/v1/phone-prefix-list",timeout:1e4},tu=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},nu=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},ru=function(){return tu(void 0,void 0,Promise,(function(){return nu(this,(function(e){return[2,Xi(Gi.httpService.get($o,{}),Wo)]}))}))},au=function(e){var t=e.find((function(e){return e.isDefault})),n=e;return void 0!==t&&(n=e.filter((function(e){return e.code!==t.code})),n.unshift(t)),n},iu=function(){return tu(void 0,void 0,Promise,(function(){return nu(this,(function(e){return[2,Xi(Gi.httpService.get(eu,{}),Wo,au)]}))}))},ou=null!==(Xo=pi.EnvironmentUrls.authApi)&&void 0!==Xo?Xo:"URL_NOT_FOUND",uu="palisades-live";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(Qo||(Qo={}));var lu,cu,su,du,fu,pu={withCredentials:!0,url:ou+"/v1/"+uu+"/is-live",timeout:1e4},hu={withCredentials:!0,url:ou+"/v1/"+uu+"/disconnect",timeout:1e4},vu=function(){return Xi(Gi.httpService.get(pu,{}),Qo)},yu=function(){return Xi(Gi.httpService.post(hu,{}),Qo)},mu=(null!==(lu=pi.EnvironmentUrls.apiGatewayUrl)&&void 0!==lu?lu:"URL_NOT_FOUND")+"/account-security-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.PROMPT_ASSIGNMENT_WAS_NOT_UPDATED=3]="PROMPT_ASSIGNMENT_WAS_NOT_UPDATED",e[e.UNKNOWN_PROMPT_TYPE=4]="UNKNOWN_PROMPT_TYPE"}(cu||(cu={})),function(e){e.TEXT_ONLY_BANNER="DISPLAY_TYPE_TEXT_ONLY_BANNER"}(su||(su={})),function(e){e.GLOBAL="PAGE_RESTRICTION_GLOBAL",e.HOME_PAGE_ONLY="PAGE_RESTRICTION_HOME_PAGE"}(du||(du={})),function(e){e.CHANGE_PASSWORD__SUSPECTED_COMPROMISE="PROMPT_TYPE_CHANGE_PASSWORD__SUSPECTED_COMPROMISE",e.CHANGE_PASSWORD__BREACHED_CREDENTIAL="PROMPT_TYPE_CHANGE_PASSWORD__BREACHED_CREDENTIAL",e.AUTHENTICATOR_UPSELL="PROMPT_TYPE_AUTHENTICATOR_UPSELL",e.ACCOUNT_RESTORES_POLICY_UPDATE="PROMPT_TYPE_ACCOUNT_RESTORES_POLICY_UPDATE",e.ACCOUNT_RESTORES_POLICY_UPDATE_V2="PROMPT_TYPE_ACCOUNT_RESTORES_POLICY_UPDATE_V2",e.ACCOUNT_RESTORES_POLICY_UPDATE_V3="PROMPT_TYPE_ACCOUNT_RESTORES_POLICY_UPDATE_V3",e.ACCOUNT_RESTORES_POLICY_UPSELL="PROMPT_TYPE_ACCOUNT_RESTORES_POLICY_UPSELL",e.BROADER_AUTHENTICATOR_UPSELL="PROMPT_TYPE_BROADER_AUTHENTICATOR_UPSELL",e.EMAIL_2SV_UPSELL="PROMPT_TYPE_EMAIL_2SV_UPSELL"}(fu||(fu={}));var gu,Eu={withCredentials:!0,url:mu+"/v1/prompt-assignments",timeout:1e4};!function(e){e.DISMISS_PROMPT="DISMISS_PROMPT",e.DISABLE_PROMPT="DISABLE_PROMPT"}(gu||(gu={}));var bu,Su,Cu={withCredentials:!0,url:mu+"/v1/prompt-assignments",timeout:1e4},_u=function(){return _u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},_u.apply(this,arguments)},Iu=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},Tu=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Au=function(){return Iu(void 0,void 0,Promise,(function(){var e;return Tu(this,(function(t){switch(t.label){case 0:return[4,Xi(Gi.httpService.get(Eu,{shouldReturnMetadata:!0}),cu)];case 1:return(e=t.sent()).isError?[2,e]:[2,e=_u(_u({},e),{value:e.value.filter((function(e){return e.isGeneric?Object.values(su).includes(e.metadata.displayType):Object.values(fu).includes(e.promptType)}))})]}}))}))},wu=function(e,t){return Xi(Gi.httpService.post(Cu,{action:e,promptType:t}),cu)},Nu=(null!==(bu=pi.EnvironmentUrls.apiGatewayUrl)&&void 0!==bu?bu:"URL_NOT_FOUND")+"/proof-of-space";!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.INTERNAL_ERROR=1]="INTERNAL_ERROR",e[e.INVALID_REQUEST=2]="INVALID_REQUEST",e[e.INVALID_SESSION=3]="INVALID_SESSION"}(Su||(Su={}));var Ou,Lu,Du,Ru={withCredentials:!0,url:Nu+"/v1/verify",timeout:1e4},ku=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},Pu=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},xu=function(e,t){return ku(void 0,void 0,Promise,(function(){return Pu(this,(function(n){return[2,Xi(Gi.httpService.post(Ru,{challengeId:e,solution:t}),Su)]}))}))},Mu=(null!==(Ou=pi.EnvironmentUrls.apiGatewayUrl)&&void 0!==Ou?Ou:"URL_NOT_FOUND")+"/proof-of-work-service";!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.REQUEST_INVALID=1]="REQUEST_INVALID",e[e.SESSION_INACTIVE=2]="SESSION_INACTIVE"}(Lu||(Lu={})),function(e){e[e.TIME_LOCK=0]="TIME_LOCK"}(Du||(Du={}));var Uu,Vu,Fu={withCredentials:!0,url:Mu+"/v1/pow-puzzle",timeout:1e4},ju={withCredentials:!0,url:Mu+"/v1/pow-puzzle",timeout:1e4},Wu=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},Gu=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Hu=function(e){return Xi(Gi.httpService.get(Fu,{sessionID:e}),Lu)},Bu=function(e,t){return Wu(void 0,void 0,Promise,(function(){return Gu(this,(function(n){return[2,Xi(Gi.httpService.post(ju,{sessionID:e,solution:t}),Lu)]}))}))},zu=(null!==(Uu=pi.EnvironmentUrls.apiGatewayUrl)&&void 0!==Uu?Uu:"URL_NOT_FOUND")+"/rostile";!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.INTERNAL_ERROR=1]="INTERNAL_ERROR",e[e.INVALID_REQUEST=2]="INVALID_REQUEST",e[e.INVALID_SESSION=3]="INVALID_SESSION"}(Vu||(Vu={}));var qu,Zu,Ku,Yu,Ju={withCredentials:!0,url:zu+"/v1/verify",timeout:1e4},Xu=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},Qu=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},$u=function(e,t){return Xu(void 0,void 0,Promise,(function(){return Qu(this,(function(n){return[2,Xi(Gi.httpService.post(Ju,{challengeId:e,solution:t}),Vu)]}))}))},el=(null!==(qu=pi.EnvironmentUrls.apiGatewayUrl)&&void 0!==qu?qu:"URL_NOT_FOUND")+"/account-security-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.SECURITY_QUESTIONS_DISABLED=3]="SECURITY_QUESTIONS_DISABLED",e[e.SESSION_INACTIVE=4]="SESSION_INACTIVE",e[e.QUESTION_NOT_FOUND=5]="QUESTION_NOT_FOUND",e[e.ANSWER_WRONG_FORMAT=6]="ANSWER_WRONG_FORMAT"}(Zu||(Zu={})),function(e){e[e.INVALID=0]="INVALID",e[e.MOST_RECENT_GAMES_PLAYED=1]="MOST_RECENT_GAMES_PLAYED"}(Ku||(Ku={})),function(e){e[e.PICK_ALL_CORRECT_CHOICES=0]="PICK_ALL_CORRECT_CHOICES",e[e.PICK_C_CORRECT_CHOICES=1]="PICK_C_CORRECT_CHOICES"}(Yu||(Yu={}));var tl,nl,rl,al,il,ol={withCredentials:!0,url:el+"/v1/security-question",timeout:1e4},ul={withCredentials:!0,url:el+"/v1/security-question",timeout:1e4},ll=function(e,t){return Xi(Gi.httpService.get(ol,{userId:e,sessionId:t}),Zu)},cl=function(e,t,n){return Xi(Gi.httpService.post(ul,{userId:e,answer:t,sessionId:n}),Zu)},sl="URL_NOT_FOUND",dl=null!==(tl=pi.EnvironmentUrls.apiGatewayUrl)&&void 0!==tl?tl:sl,fl=null!==(nl=pi.EnvironmentUrls.authApi)&&void 0!==nl?nl:sl,pl=dl+"/token-metadata-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.ATTEMPT_TO_INVALIDATE_CURRENT_TOKEN=3]="ATTEMPT_TO_INVALIDATE_CURRENT_TOKEN"}(rl||(rl={})),function(e){e[e.UNKNOWN=1]="UNKNOWN"}(al||(al={})),function(e){e.UNKNOWN="Unknown",e.APP="App",e.BROWSER="Browser",e.STUDIO="Studio"}(il||(il={}));var hl,vl,yl,ml,gl={withCredentials:!0,url:pl+"/v1/sessions",timeout:1e4},El={withCredentials:!0,url:pl+"/v1/logout",timeout:1e4},bl={withCredentials:!0,url:fl+"/v1/logoutfromallsessionsandreauthenticate",timeout:1e4},Sl=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},Cl=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},_l=function(e,t){return Sl(void 0,void 0,Promise,(function(){return Cl(this,(function(n){return[2,Xi(Gi.httpService.get(gl,{nextCursor:e,desiredLimit:t}),rl)]}))}))},Il=function(e){return Sl(void 0,void 0,Promise,(function(){return Cl(this,(function(t){return[2,Xi(Gi.httpService.post(El,{token:e}),rl)]}))}))},Tl=function(e){return Sl(void 0,void 0,Promise,(function(){return Cl(this,(function(t){return[2,Xi(Gi.httpService.post(bl,{secureAuthenticationIntent:e}),al)]}))}))},Al=null!==(hl=pi.EnvironmentUrls.thumbnailsApi)&&void 0!==hl?hl:"URL_NOT_FOUND";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(vl||(vl={})),function(e){e.PNG="Png",e.JPEG="Jpeg"}(yl||(yl={})),function(e){e.ERROR="Error",e.COMPLETED="Completed",e.IN_REVIEW="InReview",e.PENDING="Pending",e.BLOCKED="Blocked"}(ml||(ml={}));var wl,Nl,Ol,Ll,Dl={url:Al+"/v1/games/icons",timeout:1e4},Rl=function(e,t,n,r){return Xi(Gi.httpService.get(Dl,{universeIds:e,size:t,format:n,isCircular:r}),vl)},kl=CoreRobloxUtilities,Pl="URL_NOT_FOUND",xl=null!==(wl=pi.EnvironmentUrls.twoStepVerificationApi)&&void 0!==wl?wl:Pl,Ml=null!==(Nl=pi.EnvironmentUrls.economyApi)&&void 0!==Nl?Nl:Pl,Ul=null!==(Ol=pi.EnvironmentUrls.tradesApi)&&void 0!==Ol?Ol:Pl,Vl=1e4;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.INVALID_CHALLENGE_ID=1]="INVALID_CHALLENGE_ID",e[e.INVALID_USER_ID=2]="INVALID_USER_ID",e[e.INVALID_EMAIL=3]="INVALID_EMAIL",e[e.INVALID_PASSWORD=4]="INVALID_PASSWORD",e[e.TOO_MANY_REQUESTS=5]="TOO_MANY_REQUESTS",e[e.PIN_LOCKED=6]="PIN_LOCKED",e[e.FEATURE_DISABLED=7]="FEATURE_DISABLED",e[e.NOT_ALLOWED=8]="NOT_ALLOWED",e[e.INVALID_CONFIGURATION=9]="INVALID_CONFIGURATION",e[e.INVALID_CODE=10]="INVALID_CODE",e[e.CONFIGURATION_ALREADY_ENABLED=11]="CONFIGURATION_ALREADY_ENABLED",e[e.INVALID_SETUP_TOKEN=12]="INVALID_SETUP_TOKEN",e[e.REAUTHENTICATION_REQUIRED=13]="REAUTHENTICATION_REQUIRED",e[e.INVALID_PHONE_NUMBER=15]="INVALID_PHONE_NUMBER",e[e.EXCEEDED_REGISTERED_KEYS_LIMIT=16]="EXCEEDED_REGISTERED_KEYS_LIMIT",e[e.INVALID_CREDENTIAL_NICKNAME=17]="INVALID_CREDENTIAL_NICKNAME",e[e.AUTHENTICATOR_CODE_ALREADY_USED=18]="AUTHENTICATOR_CODE_ALREADY_USED",e[e.CHALLENGE_DENIED=19]="CHALLENGE_DENIED",e[e.CROSS_DEVICE_DIALOG_EXPIRED=20]="CROSS_DEVICE_DIALOG_EXPIRED"}(Ll||(Ll={}));var Fl,jl,Wl={url:xl+"/v1/metadata",withCredentials:!0,timeout:Vl},Gl=function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/configuration/email/enable",timeout:Vl}},Hl=function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/configuration/authenticator/enable-verify",timeout:Vl}},Bl=function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/configuration/sms/enable",timeout:Vl}},zl=function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/configuration/security-key/enable-verify",timeout:Vl}},ql={withCredentials:!0,url:Ml+"/v2/spend-friction/two-step-verification/status",timeout:Vl},Zl={withCredentials:!0,url:Ul+"/v1/trade-friction/two-step-verification/status",timeout:Vl},Kl={withCredentials:!0,url:Ml+"/v2/resale-friction/two-step-verification/status",timeout:Vl},Yl={withCredentials:!0,url:Ml+"/v2/spend-friction/two-step-verification/generate",timeout:Vl},Jl={withCredentials:!0,url:Ul+"/v1/trade-friction/two-step-verification/generate",timeout:Vl},Xl={withCredentials:!0,url:Ml+"/v2/resale-friction/two-step-verification/generate",timeout:Vl},Ql={withCredentials:!0,url:Ml+"/v2/spend-friction/two-step-verification/redeem",timeout:Vl},$l={withCredentials:!0,url:Ul+"/v1/trade-friction/two-step-verification/redeem",timeout:Vl},ec={withCredentials:!0,url:Ml+"/v2/resale-friction/two-step-verification/redeem",timeout:Vl},tc=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},nc=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},rc=kl.cryptoUtil.generateSecureAuthIntent,ac=function(e){return Xi(Gi.httpService.get(Wl,e||{}),Ll)},ic=function(e,t){return Xi(Gi.httpService.get(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/configuration",timeout:Vl}}(e),t||{}),Ll)},oc=function(e){return tc(void 0,void 0,Promise,(function(){var t;return nc(this,(function(n){switch(n.label){case 0:return[4,rc()];case 1:return t=n.sent(),[2,Xi(Gi.httpService.post(Gl(e),{secureAuthenticationIntent:t}),Ll)]}}))}))},uc=function(e,t){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/challenges/email/send-code",timeout:Vl}}(e),t),Ll)},lc=function(e,t){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/challenges/email/verify",timeout:Vl}}(e),t),Ll)},cc=function(e){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/configuration/email/disable",timeout:Vl}}(e),{}),Ll)},sc=function(e){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/configuration/authenticator/enable",timeout:Vl}}(e),{}),Ll)},dc=function(e,t,n){return tc(void 0,void 0,Promise,(function(){var r;return nc(this,(function(a){switch(a.label){case 0:return[4,rc()];case 1:return r=a.sent(),[2,Xi(Gi.httpService.post(Hl(e),{setupToken:t,code:n,secureAuthenticationIntent:r}),Ll)]}}))}))},fc=function(e,t){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/challenges/authenticator/verify",timeout:Vl}}(e),t),Ll)},pc=function(e){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/configuration/authenticator/disable",timeout:Vl}}(e),{}),Ll)},hc=function(e,t){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/challenges/recovery-codes/verify",timeout:Vl}}(e),t),Ll)},vc=function(e){return Xi(Gi.httpService.get(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/recovery-codes",timeout:Vl}}(e)),Ll)},yc=function(e){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/recovery-codes/regenerate",timeout:Vl}}(e),{password:"password"}),Ll)},mc=function(e){return tc(void 0,void 0,Promise,(function(){var t;return nc(this,(function(n){switch(n.label){case 0:return[4,rc()];case 1:return t=n.sent(),[2,Xi(Gi.httpService.post(Bl(e),{secureAuthenticationIntent:t}),Ll)]}}))}))},gc=function(e,t){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/challenges/sms/send-code",timeout:Vl}}(e),t),Ll)},Ec=function(e,t){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/challenges/sms/verify",timeout:Vl}}(e),t),Ll)},bc=function(e){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/configuration/sms/disable",timeout:Vl}}(e),{}),Ll)},Sc=function(e){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/configuration/security-key/enable",timeout:Vl}}(e),{}),Ll,(function(e){return{creationOptions:JSON.parse(e.creationOptions),sessionId:e.sessionId}}))},Cc=function(e,t,n,r){return tc(void 0,void 0,Promise,(function(){var a;return nc(this,(function(i){switch(i.label){case 0:return[4,rc()];case 1:return a=i.sent(),[2,Xi(Gi.httpService.post(zl(e),{sessionId:t,credentialNickname:n,attestationResponse:r,secureAuthenticationIntent:a}),Ll)]}}))}))},_c=function(e,t){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/challenges/security-key/verify-start",timeout:Vl}}(e),t),Ll)},Ic=function(e,t){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/challenges/security-key/verify-finish",timeout:Vl}}(e),t),Ll)},Tc=function(e,t){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/configuration/security-key/disable",timeout:Vl}}(e),{credentialNicknames:t}),Ll)},Ac=function(e){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/configuration/security-key/list",timeout:Vl}}(e),{}),Ll)},wc=function(e,t){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/challenges/passkey/verify-start",timeout:Vl}}(e),t),Ll)},Nc=function(e,t){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/challenges/passkey/verify-finish",timeout:Vl}}(e),t),Ll)},Oc=function(){return Xi(Gi.httpService.get(ql,{}),Ll)},Lc=function(){return Xi(Gi.httpService.get(Zl,{}),Ll)},Dc=function(){return Xi(Gi.httpService.get(Kl,{}),Ll)},Rc=function(){return Xi(Gi.httpService.post(Yl,{}),Ll)},kc=function(){return Xi(Gi.httpService.post(Jl,{}),Ll)},Pc=function(){return Xi(Gi.httpService.post(Xl,{}),Ll)},xc=function(e,t){return Xi(Gi.httpService.post(Ql,{challengeToken:e,verificationToken:t}),Ll)},Mc=function(e,t){return Xi(Gi.httpService.post($l,{challengeToken:e,verificationToken:t}),Ll)},Uc=function(e,t){return Xi(Gi.httpService.post(ec,{challengeToken:e,verificationToken:t}),Ll)},Vc=function(e,t){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/challenges/cross-device/retry",timeout:Vl}}(e),t),Ll)},Fc=function(e,t){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/challenges/cross-device/verify",timeout:Vl}}(e),t),Ll)},jc=function(e,t){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/challenges/cross-device/retract",timeout:Vl}}(e),t),Ll)},Wc=function(e,t){return Xi(Gi.httpService.post(function(e){return{withCredentials:!0,url:xl+"/v1/users/"+e+"/challenges/password/verify",timeout:Vl}}(e),t),Ll)},Gc=null!==(Fl=pi.EnvironmentUrls.universalAppConfigurationApi)&&void 0!==Fl?Fl:"URL_NOT_FOUND";!function(e){e[e.INTERNAL_ERROR=9]="INTERNAL_ERROR"}(jl||(jl={}));var Hc,Bc,zc={withCredentials:!0,url:Gc+"/v1/behaviors/account-settings-ui/content",timeout:1e4},qc=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},Zc=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Kc=function(){return qc(void 0,void 0,Promise,(function(){return Zc(this,(function(e){return[2,Xi(Gi.httpService.get(zc,{}),jl)]}))}))},Yc=null!==(Hc=pi.EnvironmentUrls.authApi)&&void 0!==Hc?Hc:"URL_NOT_FOUND";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(Bc||(Bc={}));var Jc,Xc,Qc,$c={withCredentials:!0,url:Yc+"/v1/xbox/connection",timeout:1e4},es={withCredentials:!0,url:Yc+"/v1/xbox/disconnect",timeout:1e4},ts=function(){return Xi(Gi.httpService.get($c,{}),Bc)},ns=function(){return Xi(Gi.httpService.post(es,{}),Bc)},rs=(null!==(Jc=pi.EnvironmentUrls.apiGatewayUrl)&&void 0!==Jc?Jc:"URL_NOT_FOUND")+"/account-security-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.INVAID_METRIC_NAME=3]="INVAID_METRIC_NAME",e[e.INVALID_METRIC_LABELS=4]="INVALID_METRIC_LABELS"}(Xc||(Xc={})),function(e){e.Event2sv="event_2sv",e.SolveTime2sv="solve_time_2sv",e.EventCaptcha="event_captcha",e.SolveTimeCaptcha="solve_time_captcha",e.EventPat="event_pat",e.SolveTimePat="solve_time_pat",e.EventPos="event_pos",e.PuzzleComputeTimePos="puzzle_compute_time_pos",e.SolveTimePos="solve_time_pos",e.EventPow="event_pow",e.PuzzleComputeTimePow="puzzle_compute_time_pow",e.SolveTimePow="solve_time_pow",e.EventRostile="event_rostile",e.SolveTimeRostile="solve_time_rostile",e.EventSecurityQuestion="event_security_question",e.EventGeneric="event_generic",e.EventDeviceIntegrity="event_device_integrity",e.SolveTimeDeviceIntegrity="solve_time_device_integrity",e.EventPhoneVerification="event_phone_verification",e.SolveTimePhoneVerification="solve_time_phone_verification",e.EventEmailVerification="event_email_verification",e.SolveTimeEmailVerification="solve_time_email_verification",e.EventPersonaLiveness="event_persona_liveness",e.SolveTimePersonaLiveness="solve_time_persona_liveness"}(Qc||(Qc={}));var as,is,os={withCredentials:!0,url:rs+"/v1/metrics/record",timeout:1e4},us=function(e){return Xi(Gi.httpService.post(os,e),Xc)},ls=(null!==(as=pi.EnvironmentUrls.apiGatewayUrl)&&void 0!==as?as:"URL_NOT_FOUND")+"/private-access-token";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(is||(is={}));var cs,ss,ds={withCredentials:!0,url:ls+"/v1/getPATToken",timeout:1e4},fs=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},ps=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},hs=function(e){return fs(void 0,void 0,Promise,(function(){return ps(this,(function(t){return[2,Xi(Gi.httpService.post(ds,{challengeId:e}),is)]}))}))},vs=(null!==(cs=pi.EnvironmentUrls.apiGatewayUrl)&&void 0!==cs?cs:"URL_NOT_FOUND")+"/challenge";!function(e){e[e.UNKNOWN=1]="UNKNOWN"}(ss||(ss={}));var ys,ms,gs,Es={withCredentials:!0,url:vs+"/v1/continue",timeout:1e4},bs=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},Ss=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Cs=function(e,t,n){return bs(void 0,void 0,Promise,(function(){return Ss(this,(function(r){return[2,Xi(Gi.httpService.post(Es,{challengeId:e,challengeType:t,challengeMetadata:n}),ss)]}))}))},_s=null!==(ys=pi.EnvironmentUrls.authApi)&&void 0!==ys?ys:"URL_NOT_FOUND",Is=1e4;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.EXCEEDED_REGISTERED_KEYS_LIMIT=1]="EXCEEDED_REGISTERED_KEYS_LIMIT",e[e.FEATURE_DISABLED=2]="FEATURE_DISABLED",e[e.INVALID_CREDENTIAL_NICKNAME=3]="INVALID_CREDENTIAL_NICKNAME"}(ms||(ms={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.FEATURE_DISABLED=1]="FEATURE_DISABLED",e[e.FLOODED=2]="FLOODED",e[e.INVALID_PASSWORD=20]="INVALID_PASSWORD",e[e.PASSWORDS_DO_NOT_MATCH=21]="PASSWORDS_DO_NOT_MATCH",e[e.TWO_STEP_VERIFICATION_REQUIRED=24]="TWO_STEP_VERIFICATION_REQUIRED"}(gs||(gs={}));var Ts,As={withCredentials:!0,url:_s+"/v1/passkey/StartRegistration",timeout:Is},ws={withCredentials:!0,url:_s+"/v1/passkey/start-preauth-registration",timeout:Is},Ns={withCredentials:!0,url:_s+"/v1/passkey/FinishRegistration",timeout:Is},Os={withCredentials:!0,url:_s+"/v1/passkey/DeleteCredentialBatch",timeout:Is},Ls={withCredentials:!0,url:_s+"/v1/passkey/ListCredentials",timeout:Is},Ds={withCredentials:!0,url:_s+"/v2/passwords/reset",timeout:Is},Rs=function(e){return Xi(Gi.httpService.post(ws,{username:e}),ms,(function(e){return{creationOptions:JSON.parse(e.creationOptions),sessionId:e.sessionId}}))},ks=function(){return Xi(Gi.httpService.post(As,{}),ms,(function(e){return{creationOptions:JSON.parse(e.creationOptions),sessionId:e.sessionId}}))},Ps=function(e,t,n){return Xi(Gi.httpService.post(Ns,{sessionId:e,credentialNickname:t,attestationResponse:n}),ms)},xs=function(e){return Xi(Gi.httpService.post(Os,{credentialNicknames:e}),ms)},Ms=function(){return Xi(Gi.httpService.post(Ls,{all:!0}),ms)},Us=function(e,t,n,r,a,i,o,u,l,c,s){return Xi(Gi.httpService.post(Ds,{targetType:e,ticket:t,userId:n,password:r,passwordRepeated:a,twoStepVerificationChallengeId:i,twoStepVerificationToken:o,accountBlob:u,secureAuthenticationIntent:l,passkeySessionId:c,passkeyRegistrationResponse:s}),gs)};!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CANCELLATION_ERROR=1]="CANCELLATION_ERROR",e[e.INTERRUPTED_ERROR=2]="INTERRUPTED_ERROR",e[e.INVALID_REQUEST=3]="INVALID_REQUEST",e[e.JSON_EXCEPTION=4]="JSON_EXCEPTION",e[e.CREDENTIALS_PROTOCOL_NOT_SUPPORTED=5]="CREDENTIALS_PROTOCOL_NOT_SUPPORTED",e[e.NO_CREDENTIALS_FOUND=6]="NO_CREDENTIALS_FOUND",e[e.INVALID_STATE_ERROR=11]="INVALID_STATE_ERROR"}(Ts||(Ts={}));var Vs,Fs,js,Ws=function(e){return e.code},Gs=function(e,t,n){return Qi(kl.hybridResponseService.getNativeResponse(e,t,n),Ts,Ws,(function(e){if(null===e)return null;var t=JSON.parse(e);if(void 0!==t.errorCode)throw{name:"getNativeResponse Error",message:t.errorMsg,code:t.errorCode};return!(pi.DeviceMeta&&(0,pi.DeviceMeta)().isInApp&&(0,pi.DeviceMeta)().isAndroidApp)?kl.fido2Util.formatCredentialAuthenticationResponseApp(e):e}))},Hs=function(e){return Qi(navigator.credentials.get(e),Ts).then((function(e){return qi(e,(function(e){return null===e?null:kl.fido2Util.formatCredentialAuthenticationResponseWeb(e)}))}))},Bs=(null!==(Vs=pi.EnvironmentUrls.apiGatewayUrl)&&void 0!==Vs?Vs:"URL_NOT_FOUND")+"/account-recovery-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.IDENTIFIER_INVALID=3]="IDENTIFIER_INVALID",e[e.TOO_MANY_REQUESTS=4]="TOO_MANY_REQUESTS",e[e.ACCOUNT_NOT_VERIFIED=5]="ACCOUNT_NOT_VERIFIED",e[e.INVALID_CODE=6]="INVALID_CODE"}(Fs||(Fs={})),function(e){e.Invalid="RECOVERY_STATE_INVALID",e.AccountIdentifierRequired="RECOVERY_STATE_ACCOUNT_IDENTIFIER_REQUIRED",e.ContactMethodVerificationRequired="RECOVERY_STATE_CONTACT_METHOD_VERIFICATION_REQUIRED",e.AwaitingContactMethodVerification="RECOVERY_STATE_AWAITING_CONTACT_METHOD_VERIFICATION",e.AccountVerified="RECOVERY_STATE_ACCOUNT_VERIFIED"}(js||(js={}));var zs,qs={url:Bs+"/v1/request-recovery",timeout:1e4};!function(e){e[e.Email=2]="Email",e[e.Phone=3]="Phone"}(zs||(zs={}));var Zs,Ks={url:Bs+"/v1/send-code",timeout:1e4},Ys={url:Bs+"/v1/resend-code",timeout:1e4},Js={url:Bs+"/v1/verify-code",timeout:1e4},Xs={url:Bs+"/v1/recovery-session-metadata",timeout:1e4},Qs={url:Bs+"/v1/set-email",timeout:1e4},$s=function(e,t,n){return Xi(Gi.httpService.post(qs,{identifier:e,identifierType:t,recoverySessionId:n}),Fs)},ed=function(e,t,n){return Xi(Gi.httpService.post(Ks,{contactMethod:e,contactMethodType:t,recoverySessionId:n}),Fs)},td=function(e){return Xi(Gi.httpService.post(Ys,{recoverySessionId:e}),Fs)},nd=function(e,t){return Xi(Gi.httpService.post(Js,{recoverySessionId:e,code:t}),Fs)},rd=function(e){return Xi(Gi.httpService.post(Xs,{recoverySessionId:e}),Fs)},ad=function(e){return Xi(Gi.httpService.post(Qs,{recoverySessionId:e}),Fs)},id=function(){this.captcha=e,this.email=t,this.fido2=_,this.games=r,this.metrics=E,this.myAccount=a,this.otp=i,this.password=o,this.phone=u,this.playstation=l,this.promptAssignments=c,this.securityQuestions=p,this.sessionManagement=h,this.rostile=f,this.thumbnails=v,this.twoStepVerification=y,this.universalAppConfiguration=m,this.proofOfSpace=s,this.proofOfWork=d,this.xbox=g,this.privateAccessToken=b,this.genericChallenge=S,this.authApi=C,this.accountRecoveryApi=I},od=ReactUtilities,ud="Captcha:",ld={captcha:"captcha",captchaInitiated:"captchaInitiated",captchaIframeRemovalExperiment:"captchaIframeRemovalExperiment"},cd={visible:"visible",hidden:"hidden",error:"error"},sd={triggered:"Triggered",initialized:"Initialized",suppressed:"Suppressed",displayed:"Displayed",success:"Success",providerError:"FailedToLoad",metadataError:"FailedToLoadMetadata"},dd={solveTime:"SolveTime"},fd={Login:"ACTION_TYPE_WEB_LOGIN",AppLogin:"ACTION_TYPE_WEB_LOGIN",Signup:"ACTION_TYPE_WEB_SIGNUP",AppSignup:"ACTION_TYPE_WEB_SIGNUP",JoinGroup:"ACTION_TYPE_GROUP_JOIN",GroupWallPost:"ACTION_TYPE_GROUP_WALL_POST",ResetPassword:"ACTION_TYPE_WEB_RESET_PASSWORD",ToyCodeRedeem:"ACTION_TYPE_WEB_GAMECARD_REDEMPTION",SupportRequest:"ACTION_TYPE_SUPPORT_REQUEST",FollowUser:"ACTION_TYPE_FOLLOW_USER",Generic:"ACTION_TYPE_GENERIC_CHALLENGE",GameCardRedeem:"ACTION_TYPE_WEB_GAMECARD_REDEMPTION",AssetComment:"ACTION_TYPE_ASSET_COMMENT",Marketplace:"ACTION_TYPE_MARKETPLACE"},pd="V2",hd="UseLightboxModal",vd="IframeRemoved",yd=ReactStyleGuide,md=function(e){var t=e.titleText,n=e.children;return ji().createElement("div",{className:"inline-challenge"},t&&ji().createElement("h4",{className:"inline-challenge-title"},t),ji().createElement("div",{className:"inline-challenge-content"},n))},gd=function(e){var t=e.children;return ji().createElement("div",{className:"inline-challenge-body"},t)};!function(e){e[e.SET_CHALLENGE_COMPLETED=0]="SET_CHALLENGE_COMPLETED",e[e.SET_CHALLENGE_INVALIDATED=1]="SET_CHALLENGE_INVALIDATED",e[e.HIDE_MODAL_CHALLENGE=2]="HIDE_MODAL_CHALLENGE",e[e.SHOW_MODAL_CHALLENGE=3]="SHOW_MODAL_CHALLENGE"}(Zs||(Zs={}));var Ed,bd,Sd,Cd=function(){return Cd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Cd.apply(this,arguments)},_d=function(e,t){var n,r=Cd({},e);switch(t.type){case Zs.SET_CHALLENGE_COMPLETED:return r.onChallengeCompletedData=t.onChallengeCompletedData,r.isModalVisible=!1,r;case Zs.SET_CHALLENGE_INVALIDATED:return r.onChallengeInvalidatedData={errorCode:t.errorCode,errorMessage:(n=e.resources,t.errorCode,n.Message.Error.Default)},r.isModalVisible=!1,r;case Zs.HIDE_MODAL_CHALLENGE:return r.isModalVisible=!1,r;case Zs.SHOW_MODAL_CHALLENGE:return r.isModalVisible=!0,r;default:return e}},Id=(0,Fi.createContext)(null),Td=function(e){var t=e.actionType,n=e.appType,r=e.renderInline,a=e.dataExchangeBlob,i=e.unifiedCaptchaId,o=e.captchaVersion,u=e.requestService,l=e.metadataResponse,c=e.eventService,s=e.metricsService,d=e.translate,f=e.onChallengeDisplayed,p=e.onChallengeCompleted,h=e.onChallengeInvalidated,v=e.onModalChallengeAbandoned,y=e.children,m=(0,Fi.useState)((function(){return function(e){return{Action:{PleaseTryAgain:e("Action.PleaseTryAgain"),Reload:e("Action.Reload")},Description:{VerifyingYouAreNotBot:e("Description.VerifyingYouAreNotBot")},Message:{Error:{Default:e("Message.Error.Default")}}}}(d)}))[0],g=(0,Fi.useState)((function(){return{actionType:t,appType:n,dataExchangeBlob:a,unifiedCaptchaId:i,renderInline:r,metadataResponse:l,captchaVersion:o,resources:m,requestService:u,eventService:c,metricsService:s,onChallengeDisplayed:f,onModalChallengeAbandoned:v,onChallengeCompletedData:null,onChallengeInvalidatedData:null,isModalVisible:!1}}))[0],E=(0,Fi.useReducer)(_d,g),b=E[0],S=E[1];return(0,Fi.useEffect)((function(){null!==b.onChallengeCompletedData&&null===b.onChallengeInvalidatedData&&p(b.onChallengeCompletedData)}),[b.onChallengeCompletedData,b.onChallengeInvalidatedData,p]),(0,Fi.useEffect)((function(){null!==b.onChallengeInvalidatedData&&null===b.onChallengeCompletedData&&h(b.onChallengeInvalidatedData)}),[b.onChallengeCompletedData,b.onChallengeInvalidatedData,h]),ji().createElement(Id.Provider,{value:{state:b,dispatch:S}},y)},Ad=function(){var e=(0,Fi.useContext)(Id);if(null===e)throw new Error("CaptchaContext was not provided in the current scope");return e};!function(e){e.Login="Login",e.AppLogin="AppLogin",e.Signup="Signup",e.AppSignup="AppSignup",e.JoinGroup="JoinGroup",e.GroupWallPost="GroupWallPost",e.ResetPassword="ResetPassword",e.ToyCodeRedeem="ToyCodeRedeem",e.GameCardRedeem="GameCardRedeem",e.FollowUser="FollowUser",e.Generic="Generic",e.SupportRequest="SupportRequest",e.AssetComment="AssetComment",e.Marketplace="Marketplace"}(Ed||(Ed={})),function(e){e[e.UNKNOWN=0]="UNKNOWN"}(bd||(bd={})),function(e){e.ChallengeComplete="challenge-complete",e.ChallengeError="challenge-error",e.ChallengeSuppressed="challenge-suppressed",e.ChallengeShown="challenge-shown",e.ChallengeResize="challenge-resize",e.ChallengeReady="challenge-ready",e.ChallengeHidden="challenge-hidden"}(Sd||(Sd={}));var wd,Nd,Od=function(e){var t=e.arkoseIframeId,n=e.dataExchangeBlob,r=e.handleCaptchaElementEvent,a=e.nonce,i=e.publicKey,o=e.queryParameters,u=e.ref,l=e.useArkoseModal,c="arkose-"+t,s="arkose-script-"+i,d="setupEnforcement"+t,f=(0,Fi.useCallback)((function(){var e=document.getElementById(s);e&&e.remove()}),[s]),p=(0,Fi.useCallback)((function(){f();var e=document.createElement("script");e.id=s,e.type="text/javascript";var t=i.replace(/[^a-zA-Z0-9-]+/g,"");return e.src="//arkoselabs.roblox.com/v2/"+t+"/api.js",e.setAttribute("data-callback",d),e.async=!0,e.defer=!0,a&&e.setAttribute("data-nonce",a),document.body.appendChild(e),e}),[s,a,i,f,d]),h=(0,Fi.useCallback)((function(e){e.setConfig({selector:"#"+c,mode:l?"lightbox":"inline",noSuppress:"1"===(null==o?void 0:o.fc_nosuppress),data:{blob:n},onCompleted:function(e){r({arkoseIframeId:t,eventId:Sd.ChallengeComplete,payload:{captchaToken:e.token}})},onError:function(e){r({arkoseIframeId:t,eventId:Sd.ChallengeError,payload:{captchaToken:e.token,error:e.error.error}})},onShown:function(e){r({arkoseIframeId:t,eventId:Sd.ChallengeShown,payload:{captchaToken:e.token}})},onSuppress:function(e){r({arkoseIframeId:t,eventId:Sd.ChallengeSuppressed,payload:{captchaToken:e.token}})},onResize:function(e){r({arkoseIframeId:t,eventId:Sd.ChallengeResize,payload:{width:e.width,height:e.height}})},onReady:function(){l&&e.run(),r({arkoseIframeId:t,eventId:Sd.ChallengeReady})},onHide:function(){r({arkoseIframeId:t,eventId:Sd.ChallengeHidden})}})}),[c,t,n,r,null==o?void 0:o.fc_nosuppress,l]);return(0,Fi.useEffect)((function(){window[d]=h,p().onerror=function(e){console.log("Could not load the Arkose API Script!"),console.error(e)}}),[p,h,d]),ji().createElement("div",{ref:u,style:l?{display:"none"}:{},id:c})},Ld="fc_nosuppress",Dd=void 0===window.URLSearchParams?null:new URLSearchParams(window.location.search).get(Ld),Rd="fc_suppress",kd=void 0===window.URLSearchParams?null:new URLSearchParams(window.location.search).get(Rd),Pd=null!==Dd?"&"+Ld+"="+Dd:null!==kd?"&"+Rd+"="+kd:"",xd=((wd={})[Ld]=Dd||void 0,wd[Rd]=kd||void 0,wd),Md=0,Ud=function(){var e=Ad(),t=e.state,n=t.actionType,r=t.dataExchangeBlob,a=t.unifiedCaptchaId,i=t.captchaVersion,o=t.renderInline,u=t.resources,l=t.metadataResponse,c=t.eventService,s=t.metricsService,d=t.onChallengeDisplayed,f=t.onModalChallengeAbandoned,p=t.isModalVisible,h=e.dispatch,v=i===vd||i===hd,y=i===hd,m=(0,Fi.useState)((function(){var e=Md;return Md+=1,e.toString()}))[0],g=(0,Fi.useState)(""),E=g[0],b=g[1],S=(0,Fi.useState)(!0),C=S[0],_=S[1],I=(0,Fi.useState)(!1),T=I[0],A=I[1],w=(0,Fi.useState)(!1),N=w[0],O=w[1],L=(0,Fi.useRef)(!1),D=(0,Fi.useRef)(null),R=(0,Fi.useRef)(null),k=(0,Fi.useRef)(null),P=(0,Fi.useCallback)((function(){L.current||(L.current=!0,h({type:Zs.HIDE_MODAL_CHALLENGE}),null!==f&&f((function(){return h({type:Zs.SHOW_MODAL_CHALLENGE})})))}),[h,f]),x=(0,Fi.useCallback)((function(e,t){L.current||(L.current=!0,h({type:Zs.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{captchaToken:e,captchaId:t}}))}),[h]),M=(0,Fi.useCallback)((function(){L.current||(L.current=!0,h({type:Zs.SET_CHALLENGE_INVALIDATED,errorCode:bd.UNKNOWN}))}),[h]),U=(0,Fi.useCallback)((function(){_(!1),h({type:Zs.SHOW_MODAL_CHALLENGE}),A(!0),d({displayed:!0}),D.current=Date.now()}),[h,d]);(0,Fi.useEffect)((function(){_(!0);var e=l.funCaptchaPublicKeys;b(e[fd[n]]||""),s.fireTriggeredEvent(i)}),[n,l,s,i]);var V=(0,Fi.useCallback)((function(e){if(e.arkoseIframeId===m)switch(e.eventId){case Sd.ChallengeComplete:x(e.payload.captchaToken,a),s.fireSuccessEvent(i);var t=0;D.current&&(t=Date.now()-D.current),c.sendCaptchaRedeemEvent(n,t,!0,e.payload.captchaToken,a,pd);break;case Sd.ChallengeError:L.current=!0,M(),s.fireProviderErrorEvent(i),c.sendCaptchaInitiatedEvent(n,cd.error,e.payload.captchaToken||"",a,e.payload.error,pd);break;case Sd.ChallengeShown:U(),s.fireDisplayedEvent(i),c.sendCaptchaInitiatedEvent(n,cd.visible,e.payload.captchaToken,a,null,pd);break;case Sd.ChallengeResize:null!==R.current&&(R.current.height=e.payload.height,R.current.width=e.payload.width),null!==k.current&&(k.current.style.height=e.payload.height,k.current.style.width=e.payload.width);break;case Sd.ChallengeSuppressed:s.fireSuppressedEvent(i),c.sendCaptchaInitiatedEvent(n,cd.hidden,e.payload.captchaToken,a,null,pd);break;case Sd.ChallengeReady:s.fireInitializedEvent(i);break;case Sd.ChallengeHidden:P()}}),[n,m,P,c,s,x,M,U,a,i]);(0,Fi.useEffect)((function(){var e=function(e){try{var t=JSON.parse(e.data);if(!Object.prototype.hasOwnProperty.call(t,"arkoseIframeId"))return;V(t)}catch(t){if(t instanceof SyntaxError)return;s.fireProviderErrorEvent(i),console.error(ud,"Got bad event data:",e.data),c.sendCaptchaInitiatedEvent(n,cd.error,null,a,String(t),pd)}};return window.addEventListener("message",e),O(!0),function(){O(!1),window.removeEventListener("message",e)}}),[n,c,V,s,a]);var F=encodeURIComponent(r),j=ji().createElement("div",{className:"challenge-captcha-body"},v?ji().createElement(Od,{arkoseIframeId:m,dataExchangeBlob:r,handleCaptchaElementEvent:V,publicKey:E,queryParameters:xd,ref:k,useArkoseModal:!o&&y}):ji().createElement("iframe",{ref:R,title:"Challenge",id:"arkose-iframe",src:"/arkose/iframe?publicKey="+E+"&dataExchangeBlob="+F+"&arkoseIframeId="+m+Pd,style:{border:"none",background:"transparent"}}));return o?ji().createElement(md,{titleText:u.Description.VerifyingYouAreNotBot},ji().createElement(gd,null,(C||!N)&&ji().createElement("span",{className:"spinner spinner-default spinner-no-margin challenge-captcha-body"}),N&&j)):y?j:ji().createElement(yd.Modal,{className:"modal-modern modal-modern-challenge-captcha",show:(p||!T)&&!L.current,style:{display:T?"block":"none"},onHide:P,backdrop:!!T&&"static"},ji().createElement(yd.Modal.Body,null,ji().createElement("button",{type:"button",className:"challenge-captcha-close-button",onClick:P,disabled:!1},ji().createElement("span",{className:"icon-close"})),(C||!N)&&ji().createElement("span",{className:"spinner spinner-default spinner-no-margin challenge-captcha-body"}),N&&j))},Vd=(0,od.withTranslations)((function(e){var t=e.actionType,n=e.appType,r=e.dataExchangeBlob,a=e.unifiedCaptchaId,i=e.captchaVersion,o=e.renderInline,u=e.requestService,l=e.metadataResponse,c=e.eventService,s=e.metricsService,d=e.translate,f=e.onChallengeDisplayed,p=e.onChallengeCompleted,h=e.onChallengeInvalidated,v=e.onModalChallengeAbandoned;return ji().createElement(Td,{actionType:t,appType:n,dataExchangeBlob:r,unifiedCaptchaId:a,captchaVersion:i,renderInline:o,requestService:u,translate:d,metadataResponse:l,eventService:c,metricsService:s,onChallengeDisplayed:f,onChallengeCompleted:p,onChallengeInvalidated:h,onModalChallengeAbandoned:v},ji().createElement(Ud,null))}),{common:[],feature:"Authentication.Captcha"}),Fd=function(){function e(e){this.provider=e}return e.prototype.sendCaptchaRedeemEvent=function(e,t,n,r,a,i){var o=n?"true":"false";hi().EventStream.SendEventWithTarget(ld.captcha,e,{solveDuration:t,success:o,provider:this.provider,session:r||"",ucid:a||"",providerVersion:i},hi().EventStream.TargetTypes.WWW)},e.prototype.sendCaptchaInitiatedEvent=function(e,t,n,r,a,i){hi().EventStream.SendEventWithTarget(ld.captchaInitiated,e,{type:t,provider:this.provider,ucid:r||"",session:n||"",message:a||"",providerVersion:i},hi().EventStream.TargetTypes.WWW)},e.prototype.sendCaptchaIframeRemovalExperimentEvent=function(e,t,n,r){hi().EventStream.SendEventWithTarget(ld.captchaIframeRemovalExperiment,e,{btid:n,provider:this.provider,ucid:t||"",captchaVersion:r},hi().EventStream.TargetTypes.WWW)},e}(),jd=function(){function e(){this.timeStore={}}return e.prototype.start=function(e){this.timeStore[e]=Date.now()},e.prototype.end=function(e){var t=this.timeStore[e];return t?(delete this.timeStore[e],Date.now()-t):null},e}(),Wd=window.EventTracker,Gd=function(){function e(e,t,n,r,a){this.applicationType=n,this.requestServiceDefault=r,this.actionType=e,this.eventTimer=new jd,this.provider=t,this.solveTimeSequenceName=""+this.actionType+this.provider+"_"+dd.solveTime,this.challengeId=a}return e.prototype.fireTriggeredEvent=function(e){this.fireEvent(sd.triggered,e),Wd&&Wd.start(this.appendApplicationType(this.solveTimeSequenceName)),this.eventTimer.start(this.solveTimeSequenceName)},e.prototype.fireInitializedEvent=function(e){this.fireEvent(sd.initialized,e)},e.prototype.fireMetadataErrorEvent=function(e){this.fireEvent(sd.metadataError,e)},e.prototype.fireSuppressedEvent=function(e){this.fireEvent(sd.suppressed,e)},e.prototype.fireDisplayedEvent=function(e){this.fireEvent(sd.displayed,e)},e.prototype.fireProviderErrorEvent=function(e){this.fireEvent(sd.providerError,e)},e.prototype.fireSuccessEvent=function(e){this.fireEvent(sd.success,e),Wd&&Wd.endSuccess(this.appendApplicationType(this.solveTimeSequenceName));var t=this.eventTimer.end(this.solveTimeSequenceName);if(null!==t){var n=e===vd||e===hd?e:pd;this.requestServiceDefault.metrics.recordMetric({name:Qc.SolveTimeCaptcha,value:t,labelValues:{action_type:this.actionType,event_type:this.provider+"_"+sd.success,application_type:this.applicationType||"unknown",version:n}}).catch((function(){}))}},e.prototype.fireEvent=function(e,t){var n=t===vd||t===hd?t:pd;if(Wd){var r=""+this.actionType+this.provider+"_"+e;Wd.fireEvent(this.appendApplicationType(r))}this.requestServiceDefault.metrics.recordMetric({name:Qc.EventCaptcha,value:1,labelValues:{action_type:this.actionType,event_type:this.provider+"_"+e,application_type:this.applicationType||"unknown",version:n},identifier:this.challengeId}).catch((function(){}))},e.prototype.appendApplicationType=function(e){return this.applicationType?e+"_"+this.applicationType:e},e}(),Hd=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},Bd=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},zd=new id,qd=function(e){var t=e.containerId,n=e.actionType,r=e.appType,a=e.dataExchangeBlob,i=e.unifiedCaptchaId,o=e.renderInline,u=e.onChallengeDisplayed,l=e.onChallengeCompleted,c=e.onChallengeInvalidated,s=e.onModalChallengeAbandoned;return Hd(void 0,void 0,void 0,(function(){var e,d,f,p,h,v,y,m,g,E,b;return Bd(this,(function(S){switch(S.label){case 0:return null===(e=document.getElementById(t))?[3,2]:((0,Wi.unmountComponentAtNode)(e),d=new Gd(n,"FunCaptcha",r,zd,i),[4,zd.captcha.getMetadata()]);case 1:if((f=S.sent()).isError)return d.fireMetadataErrorEvent(),console.error(ud,"Got error code "+((null===(b=f.error)||void 0===b?void 0:b.toString())||"null")+" fetching metadata"),[2,!1];if(p=new Fd("FunCaptcha"),h="NotInExperiment",n===Ed.Signup||n===Ed.AppSignup){v=pi.Cookies.getBrowserTrackerId()||"",y="";try{y=String((C=v,(new Mi).finalize(C).toString()))}catch(e){console.error(ud,e)}m=y.slice(-2)||"00",(g=parseInt(m,16))%2==1&&(h=0===(E=g%3)?vd:1===E?hd:"Control"),p.sendCaptchaIframeRemovalExperimentEvent(n,i,v,h)}return(0,Wi.render)(ji().createElement(Vd,{actionType:n,appType:r,dataExchangeBlob:a,unifiedCaptchaId:i,renderInline:o,requestService:zd,metadataResponse:f.value,eventService:p,metricsService:d,captchaVersion:h,onChallengeDisplayed:u,onChallengeCompleted:l,onChallengeInvalidated:c,onModalChallengeAbandoned:s}),e),[2,!0];case 2:return[2,Promise.resolve(!1)]}var C}))}))},Zd="DeviceIntegrity",Kd="accountSecurityChallengeDeviceIntegrityEvent",Yd={challengeInitialized:"challengeInitialized",challengeCompleted:"challengeCompleted",challengeInvalidated:"challengeInvalidated",challengeAbandoned:"challengeAbandoned"},Jd={challengeInitialized:"ChallengeInitialized",challengeCompleted:"ChallengeCompleted",challengeInvalidated:"ChallengeInvalidated",challengeAbandoned:"ChallengeAbandoned"},Xd={challengeSolveTime:"ChallengeSolveTime"},Qd="NATIVE_EXCEPTION",$d="INVALID_NATIVE_RESPONSE",ef="NOT_IN_APP";!function(e){e[e.SET_CHALLENGE_COMPLETED=0]="SET_CHALLENGE_COMPLETED",e[e.SET_CHALLENGE_INVALIDATED=1]="SET_CHALLENGE_INVALIDATED"}(Nd||(Nd={}));var tf,nf=function(){return nf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},nf.apply(this,arguments)},rf=function(e,t){var n=nf({},e);switch(t.type){case Nd.SET_CHALLENGE_COMPLETED:return n.onChallengeCompletedData=t.onChallengeCompletedData,n;case Nd.SET_CHALLENGE_INVALIDATED:return n.onChallengeInvalidatedData=t.onChallengeInvalidatedData,n;default:return e}},af=(0,Fi.createContext)(null),of=function(e){var t=e.challengeId,n=e.requestHash,r=e.integrityType,a=e.renderInline,i=e.eventService,o=e.metricsService,u=e.translate,l=e.onChallengeDisplayed,c=e.onChallengeCompleted,s=e.onChallengeInvalidated,d=e.onModalChallengeAbandoned,f=e.children,p=(0,Fi.useState)((function(){return function(e){return{Description:{VerificationError:e("Description.VerificationError"),VerificationSuccess:e("Description.VerificationSuccess"),VerifyingYouAreNotBot:e("Description.VerifyingYouAreNotBot")}}}(u)}))[0],h=(0,Fi.useState)((function(){return{challengeId:t,requestHash:n,integrityType:r,renderInline:a,resources:p,eventService:i,metricsService:o,onChallengeDisplayed:l,onModalChallengeAbandoned:d,onChallengeCompletedData:null,onChallengeInvalidatedData:null,isModalVisible:!1}}))[0],v=(0,Fi.useReducer)(rf,h),y=v[0],m=v[1];return(0,Fi.useEffect)((function(){null!==y.onChallengeCompletedData&&null===y.onChallengeInvalidatedData&&c(y.onChallengeCompletedData)}),[y.onChallengeCompletedData,y.onChallengeInvalidatedData,c]),(0,Fi.useEffect)((function(){null===y.onChallengeCompletedData&&null!==y.onChallengeInvalidatedData&&s(y.onChallengeInvalidatedData)}),[i,o,y.onChallengeCompletedData,y.onChallengeInvalidatedData,s]),ji().createElement(af.Provider,{value:{state:y,dispatch:m}},f)},uf=function(){var e=(0,Fi.useContext)(af);if(null===e)throw new Error("DeviceIntegrityContext was not provided in the current scope");return e},lf=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},cf=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},sf=function(){var e=uf(),t=e.state,n=t.integrityType,r=t.requestHash,a=t.renderInline,i=t.resources,o=t.metricsService,u=t.eventService,l=e.dispatch,c=(0,Fi.useCallback)((function(){return lf(void 0,void 0,void 0,(function(){var e,t,a,i;return cf(this,(function(c){switch(c.label){case 0:return c.trys.push([0,4,,5]),pi.DeviceMeta&&(0,pi.DeviceMeta)().isInApp?(e={requestHash:r,timeoutMillis:450},[4,kl.hybridResponseService.getNativeResponse(kl.hybridResponseService.FeatureTarget.GET_INTEGRITY_TOKEN,{deviceIntegrityParams:JSON.stringify(e)},1200)]):[3,2];case 1:return null!==(t=c.sent())?(a=JSON.parse(t),l({type:Nd.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{integrityType:n,redemptionToken:a.token}}),u.sendChallengeCompletedEvent(a.result),o.fireChallengeCompletedEvent(),[2]):(u.sendChallengeInvalidatedEvent($d),o.fireChallengeInvalidatedEvent(),[3,3]);case 2:u.sendChallengeInvalidatedEvent(ef),o.fireChallengeInvalidatedEvent(),c.label=3;case 3:return[3,5];case 4:return i=c.sent(),console.error(i),u.sendChallengeInvalidatedEvent(Qd),o.fireChallengeInvalidatedEvent(),[3,5];case 5:return l({type:Nd.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{integrityType:n,redemptionToken:""}}),[2]}}))}))}),[l,n,r,u,o]);return(0,Fi.useEffect)((function(){c()}),[]),a?ji().createElement(md,{titleText:i.Description.VerifyingYouAreNotBot},ji().createElement(gd,null,ji().createElement("span",{className:"spinner spinner-default spinner-no-margin"}))):ji().createElement(yd.Modal,{className:"modal-modern",backdrop:"static"},ji().createElement(yd.Modal.Body,null,ji().createElement("span",{className:"spinner spinner-default spinner-no-margin"})))},df=(0,od.withTranslations)((function(e){var t=e.challengeId,n=e.requestHash,r=e.integrityType,a=e.renderInline,i=e.eventService,o=e.metricsService,u=e.translate,l=e.onChallengeDisplayed,c=e.onChallengeCompleted,s=e.onChallengeInvalidated,d=e.onModalChallengeAbandoned;return ji().createElement(of,{challengeId:t,requestHash:n,integrityType:r,renderInline:a,eventService:i,metricsService:o,translate:u,onChallengeDisplayed:l,onChallengeCompleted:c,onChallengeInvalidated:s,onModalChallengeAbandoned:d},ji().createElement(sf,null))}),{common:["CommonUI.Messages"],feature:"Feature.DeviceIntegrityChallenge"}),ff=function(){function e(e,t){this.challengeId=e,this.integrityType=t}return e.prototype.sendChallengeInitializedEvent=function(){hi().EventStream.SendEventWithTarget(Kd,Yd.challengeInitialized,{challengeId:this.challengeId,integrityType:this.integrityType},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeCompletedEvent=function(e){hi().EventStream.SendEventWithTarget(Kd,Yd.challengeCompleted,{challengeId:this.challengeId,integrityType:this.integrityType,result:e},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeInvalidatedEvent=function(e){hi().EventStream.SendEventWithTarget(Kd,Yd.challengeInvalidated,{challengeId:this.challengeId,integrityType:this.integrityType,result:e},hi().EventStream.TargetTypes.WWW)},e}(),pf=function(){function e(e,t){this.appType=e||"unknown",this.requestServiceDefault=t,this.eventTimer=new jd,this.challengeSolveTimeSequenceName=Zd+"_"+Xd.challengeSolveTime}return e.prototype.fireChallengeInitializedEvent=function(){this.fireEvent(Jd.challengeInitialized),this.eventTimer.start(this.challengeSolveTimeSequenceName)},e.prototype.fireChallengeCompletedEvent=function(){this.fireEvent(Jd.challengeCompleted),this.fireSolveTimeEvent(Jd.challengeCompleted)},e.prototype.fireChallengeInvalidatedEvent=function(){this.fireEvent(Jd.challengeInvalidated),this.fireSolveTimeEvent(Jd.challengeInvalidated)},e.prototype.fireChallengeAbandonedEvent=function(){this.fireEvent(Jd.challengeAbandoned),this.fireSolveTimeEvent(Jd.challengeAbandoned)},e.prototype.fireEvent=function(e){this.requestServiceDefault.metrics.recordMetric({name:Qc.EventDeviceIntegrity,value:1,labelValues:{event_type:Zd+"_"+e,application_type:this.appType}}).catch((function(){}))},e.prototype.fireSolveTimeEvent=function(e){var t=this.eventTimer.end(this.challengeSolveTimeSequenceName);null!==t&&this.requestServiceDefault.metrics.recordMetric({name:Qc.SolveTimeDeviceIntegrity,value:t,labelValues:{event_type:Zd+"_"+e,application_type:this.appType}}).catch((function(){}))},e}();!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(tf||(tf={}));var hf,vf,yf=new id,mf=function(e){var t=e.containerId,n=e.challengeId,r=e.requestHash,a=e.integrityType,i=e.appType,o=e.renderInline,u=e.onChallengeDisplayed,l=e.onChallengeCompleted,c=e.onChallengeInvalidated,s=e.onModalChallengeAbandoned,d=document.getElementById(t);if(null!==d){(0,Wi.unmountComponentAtNode)(d);var f=new ff(n,a),p=new pf(i,yf);return(0,Wi.render)(ji().createElement(df,{challengeId:n,requestHash:r,renderInline:o,integrityType:a,eventService:f,metricsService:p,onChallengeDisplayed:u,onChallengeCompleted:l,onChallengeInvalidated:c,onModalChallengeAbandoned:s}),d),f.sendChallengeInitializedEvent(),p.fireChallengeInitializedEvent(),!0}return!1};!function(e){e.Login="Login",e.AppLogin="AppLogin",e.Signup="Signup",e.AppSignup="AppSignup",e.JoinGroup="JoinGroup",e.GroupWallPost="GroupWallPost",e.ResetPassword="ResetPassword",e.ToyCodeRedeem="ToyCodeRedeem",e.GameCardRedeem="GameCardRedeem",e.FollowUser="FollowUser",e.Generic="Generic",e.SupportRequest="SupportRequest",e.AssetComment="AssetComment",e.Marketplace="Marketplace"}(hf||(hf={})),function(e){e[e.UNKNOWN=0]="UNKNOWN"}(vf||(vf={}));var gf;Object.freeze({__proto__:null,get ActionType(){return hf},get ErrorCode(){return vf}});!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.FAILED_PREP=1]="FAILED_PREP",e[e.FAILED_MIREPOIX=2]="FAILED_MIREPOIX",e[e.FAILED_SIMMER=3]="FAILED_SIMMER"}(gf||(gf={}));var Ef;Object.freeze({__proto__:null,get ErrorCode(){return gf}});!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(Ef||(Ef={}));var bf,Sf;Object.freeze({__proto__:null,get ErrorCode(){return Ef}});!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(bf||(bf={})),function(e){e.ForceAuthenticator="ForceAuthenticator",e.ForceTwoStepVerification="ForceTwoStepVerification",e.BlockSession="BlockSession"}(Sf||(Sf={}));var Cf,_f=Object.freeze({__proto__:null,BLOCK_SESSION_LANGUAGE_RESOURCES:["Denied.Header","Denied.Body","Denied.Action"],get ErrorCode(){return bf},FORCE_AUTHENTICATOR_LANGUAGE_RESOURCES:["Action.Setup","Description.Reason","Description.SetupAuthenticator","Header.TurnOnAuthenticator"],FORCE_TWO_STEP_VERIFICATION_LANGUAGE_RESOURCES:["ForceTwoStepVerification.Header","ForceTwoStepVerification.Body","ForceTwoStepVerification.Action"],get ForceActionRedirectChallengeType(){return Sf}});!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(Cf||(Cf={}));var If,Tf;Object.freeze({__proto__:null,get ErrorCode(){return Cf}});!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SESSION_INVALID=1]="SESSION_INVALID",e[e.ANSWER_INVALID=2]="ANSWER_INVALID",e[e.WORKER_LOAD_ERROR=3]="WORKER_LOAD_ERROR",e[e.TIMEOUT=4]="TIMEOUT"}(If||(If={})),function(e){e.INVALID="PROOF_OF_SPACE_PUZZLE_TYPE_INVALID",e.NONINTERACTIVE="PROOF_OF_SPACE_PUZZLE_TYPE_NONINTERACTIVE",e.INTERACTIVE="PROOF_OF_SPACE_PUZZLE_TYPE_INTERACTIVE"}(Tf||(Tf={}));var Af;Object.freeze({__proto__:null,get ErrorCode(){return If},get PuzzleType(){return Tf}});!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SESSION_INVALID=1]="SESSION_INVALID",e[e.ANSWER_INVALID=2]="ANSWER_INVALID",e[e.WORKER_LOAD_ERROR=3]="WORKER_LOAD_ERROR"}(Af||(Af={}));var wf,Nf;Object.freeze({__proto__:null,get ErrorCode(){return Af}});!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.OTP_CODE_EXPIRED=1]="OTP_CODE_EXPIRED"}(wf||(wf={})),function(e){e.Password="Password",e.OtpEmail="Otp_Email",e.Passkey="Passkey"}(Nf||(Nf={}));var Of,Lf;Object.freeze({__proto__:null,get ErrorCode(){return wf},get ReauthenticationType(){return Nf}});!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.INVALID_SESSION=1]="INVALID_SESSION"}(Of||(Of={})),function(e){e.INVALID="ROSTILE_PUZZLE_TYPE_INVALID",e.VISIBLE="ROSTILE_PUZZLE_TYPE_VISIBLE",e.INVISIBLE="ROSTILE_PUZZLE_TYPE_INVISIBLE"}(Lf||(Lf={}));var Df;Object.freeze({__proto__:null,get ErrorCode(){return Of},get PuzzleType(){return Lf}});!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SESSION_EXPIRED=1]="SESSION_EXPIRED",e[e.USER_WAS_FORCE_RESET=2]="USER_WAS_FORCE_RESET"}(Df||(Df={}));var Rf,kf,Pf;Object.freeze({__proto__:null,get ErrorCode(){return Df}});!function(e){e.Unknown="Unknown",e.Login="Login",e.RobuxSpend="RobuxSpend",e.ItemTrade="ItemTrade",e.Resale="Resale",e.PasswordReset="PasswordReset",e.RevertAccount="RevertAccount",e.Generic="Generic",e.GenericWithRecoveryCodes="GenericWithRecoveryCodes"}(Rf||(Rf={})),function(e){e.Email="Email",e.Authenticator="Authenticator",e.RecoveryCode="RecoveryCode",e.SMS="SMS",e.SecurityKey="SecurityKey",e.CrossDevice="CrossDevice",e.Password="Password",e.Passkey="Passkey"}(kf||(kf={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SESSION_EXPIRED=1]="SESSION_EXPIRED"}(Pf||(Pf={}));var xf;Object.freeze({__proto__:null,get ActionType(){return Rf},get ErrorCode(){return Pf},get MediaType(){return kf}});!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(xf||(xf={}));Object.freeze({__proto__:null,get ErrorCode(){return xf}});var Mf=function(e,t){return Mf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Mf(e,t)};"function"==typeof SuppressedError&&SuppressedError;var Uf,Vf;!function(e){e.UNKNOWN="unknown",e.INVALIDATED="invalidated",e.ABANDONED="abandoned",e.LOADFAILED="loadfailed"}(Uf||(Uf={})),function(e){e[e.UNKNOWN=0]="UNKNOWN"}(Vf||(Vf={}));var Ff;!function(e){function t(t){var n=e.call(this,"challenge error for challenge kind ".concat(t.kind))||this;return n.parameters=t,n}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Mf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.match=function(e){return this.parameters.kind===e.parameters.kind&&JSON.stringify(this.parameters.data)===JSON.stringify(e.parameters.data)},t.prototype.matchAbandoned=function(e){return this.match(e)&&e.parameters.kind===Uf.ABANDONED}}(Error);!function(e){e.UNKNOWN="unknown",e.CHEF="chef"}(Ff||(Ff={}));Object.freeze({__proto__:null}),Object.freeze({__proto__:null});var jf,Wf=function(e){var t=e.positiveButton,n=e.negativeButton,r=e.children;return ji().createElement("div",{className:"inline-challenge-footer"},ji().createElement("div",{className:"inline-challenge-footer-buttons"},null!==n&&ji().createElement("button",{type:"button",className:"btn-secondary-md inline-challenge-footer-button","aria-label":n.label,disabled:!n.enabled,onClick:n.action},n.content),ji().createElement("button",{type:"button",className:"btn-cta-md inline-challenge-footer-button","aria-label":t.label,disabled:!t.enabled,onClick:t.action},t.content)),r)},Gf=function(e){var t=e.positiveButton,n=e.negativeButton,r=e.children;return ji().createElement(yd.Modal.Footer,null,ji().createElement("div",{className:"modal-modern-footer-buttons"},null!==n&&ji().createElement("button",{type:"button",className:"btn-secondary-md modal-modern-footer-button","aria-label":n.label,disabled:!n.enabled,onClick:n.action},n.content),ji().createElement("button",{type:"button",className:"btn-cta-md modal-modern-footer-button","aria-label":t.label,disabled:!t.enabled,onClick:t.action},t.content)),r)};!function(e){e.BACK="BACK",e.CLOSE="CLOSE",e.HIDDEN="HIDDEN"}(jf||(jf={}));var Hf,Bf=function(e){var t=e.headerText,n=e.buttonType,r=e.buttonAction,a=e.buttonEnabled,i=e.headerInfo;return ji().createElement(yd.Modal.Header,{useBaseBootstrapComponent:!0},function(e,t,n){switch(e){case jf.BACK:return ji().createElement("button",{type:"button",className:"modal-modern-header-button",onClick:t,disabled:!n},ji().createElement("span",{className:"icon-back"}));case jf.CLOSE:return ji().createElement("button",{type:"button",className:"modal-modern-header-button",onClick:t,disabled:!n},ji().createElement("span",{className:"icon-close"}));case jf.HIDDEN:default:return ji().createElement("div",null)}}(n,r,a),ji().createElement(yd.Modal.Title,null,t),ji().createElement("div",{className:"modal-modern-header-info"},i))},zf="ForceActionRedirect",qf="ForceActionRedirect:",Zf="/my/account#!/security?src=",Kf={common:[],feature:"Feature.ForceAuthenticator"},Yf={common:[],feature:"Feature.ForceTwoStepVerification"},Jf={common:[],feature:"Feature.Denied"},Xf=["Action.Setup","Description.Reason","Description.SetupAuthenticator","Header.TurnOnAuthenticator"],Qf=["ForceTwoStepVerification.Header","ForceTwoStepVerification.Body","ForceTwoStepVerification.Action"],$f=["Denied.Header","Denied.Body","Denied.Action"],ep=function(e){return"Denied.AutomatedTampering.Body"===e?{linkStart:'<a href="https://en.help.roblox.com/hc/en-us/articles/204038784-General-Website-Issues" \n          class="text-link"\n          target="_blank">',linkEnd:"</a>"}:{}},tp=function(e){var t=e.forceActionRedirectChallengeType,n=e.actionTranslationKey,r=e.bodyTranslationKey,a=e.headerTranslationKey;switch(t){case _f.ForceActionRedirectChallengeType.ForceAuthenticator:return{redirectURLSignifier:"forceauthenticator",translationConfig:Kf,translationResourceKeys:_f.FORCE_AUTHENTICATOR_LANGUAGE_RESOURCES,getTranslationResources:function(e){return{Header:e("Header.TurnOnAuthenticator"),Body:e("Description.SetupAuthenticator")+"\n"+e("Description.Reason"),Action:e("Action.Setup")}}};case _f.ForceActionRedirectChallengeType.ForceTwoStepVerification:return{redirectURLSignifier:"forcetwostepverification",translationConfig:Yf,translationResourceKeys:_f.FORCE_TWO_STEP_VERIFICATION_LANGUAGE_RESOURCES,getTranslationResources:function(e){return{Header:e("ForceTwoStepVerification.Header"),Body:e("ForceTwoStepVerification.Body"),Action:e("ForceTwoStepVerification.Action")}}};case _f.ForceActionRedirectChallengeType.BlockSession:return{redirectURLSignifier:"blocksession",translationConfig:Jf,translationResourceKeys:_f.BLOCK_SESSION_LANGUAGE_RESOURCES,getTranslationResources:function(e){var t=a||"Denied.Header",i=r||"Denied.Body",o=n||"Denied.Action";return{Header:e(t,ep(t)),Body:e(i,ep(i)),Action:e(o,ep(o))}}};default:throw new Error("Invalid ForceActionRedirectChallengeType")}};!function(e){e[e.HIDE_MODAL_CHALLENGE=0]="HIDE_MODAL_CHALLENGE",e[e.SHOW_MODAL_CHALLENGE=1]="SHOW_MODAL_CHALLENGE"}(Hf||(Hf={}));var np=function(){return np=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},np.apply(this,arguments)},rp=function(e,t){var n=np({},e);switch(t.type){case Hf.HIDE_MODAL_CHALLENGE:return n.isModalVisible=!1,n;case Hf.SHOW_MODAL_CHALLENGE:return n.isModalVisible=!0,n;default:return e}},ap=(0,Fi.createContext)(null),ip=function(e){var t=e.forceActionRedirectChallengeConfig,n=e.renderInline,r=e.translate,a=e.onModalChallengeAbandoned,i=e.children,o=(0,Fi.useState)((function(){return t.getTranslationResources(r)}))[0],u=(0,Fi.useState)((function(){return{renderInline:n,resources:o,redirectURLSignifier:t.redirectURLSignifier,onModalChallengeAbandoned:a,isModalVisible:!0}}))[0],l=(0,Fi.useReducer)(rp,u),c=l[0],s=l[1];return ji().createElement(ap.Provider,{value:{state:c,dispatch:s}},i)},op=function(){var e=(0,Fi.useContext)(ap);if(null===e)throw new Error("ForceActionRedirectContext was not provided in the current scope");return e},up=function(){var e=op(),t=e.state,n=t.renderInline,r=t.redirectURLSignifier,a=t.resources,i=t.onModalChallengeAbandoned,o=t.isModalVisible,u=e.dispatch,l=function(){u({type:Hf.HIDE_MODAL_CHALLENGE}),null!==i&&i((function(){return u({type:Hf.SHOW_MODAL_CHALLENGE})}))},c={content:a.Action,label:a.Action,enabled:!0,action:function(){return function(e,t){if("blocksession"===e)t();else{var n=Zf+e;window.top&&window.top!==window.self?window.top.location.href=n:window.open(n,"_self")}}(r,l)}},s=function(){var e=n?gd:yd.Modal.Body,t=n?Wf:Gf,r=n?"inline-challenge-lock-icon":"modal-lock-icon";return ji().createElement(ji().Fragment,null,ji().createElement(e,null,ji().createElement("div",{className:r}),ji().createElement("p",null,a.Body)),ji().createElement(t,{positiveButton:c,negativeButton:null}))};return n?ji().createElement(md,{titleText:a.Header},s()):ji().createElement(yd.Modal,{className:"modal-modern",show:o,onHide:l,backdrop:"static"},ji().createElement(Bf,{headerText:a.Header,buttonType:jf.CLOSE,buttonAction:l,buttonEnabled:!0,headerInfo:null}),s())},lp=function(e){var t=e.renderInline,n=e.forceActionRedirectChallengeConfig,r=e.translate,a=e.onModalChallengeAbandoned;return ji().createElement(ip,{renderInline:t,forceActionRedirectChallengeConfig:n,translate:r,onModalChallengeAbandoned:a},ji().createElement(up,null))},cp=_f.ErrorCode,sp=_f.ForceActionRedirectChallengeType,dp=function(e){var t=e.containerId,n=e.renderInline,r=e.forceActionRedirectChallengeType,a=e.headerTranslationKey,i=e.bodyTranslationKey,o=e.actionTranslationKey,u=e.onModalChallengeAbandoned,l=document.getElementById(t),c=tp({forceActionRedirectChallengeType:r,headerTranslationKey:a,bodyTranslationKey:i,actionTranslationKey:o});if(null!==l){(0,Wi.unmountComponentAtNode)(l);var s=(0,od.withTranslations)(lp,c.translationConfig);return(0,Wi.render)(ji().createElement(s,{forceActionRedirectChallengeConfig:c,renderInline:n,onModalChallengeAbandoned:u}),l),!0}return!1};var fp=function(){return fp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},fp.apply(this,arguments)};function pp(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))}function hp(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=u(0),o.throw=u(1),o.return=u(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){i.label=u[1];break}if(6===u[0]&&i.label<a[1]){i.label=a[1],a=u;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(u);break}a[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}}Object.create;function vp(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var yp="3.4.2";function mp(e,t){return new Promise((function(n){return setTimeout(n,e,t)}))}function gp(e){return!!e&&"function"==typeof e.then}function Ep(e,t){try{var n=e();gp(n)?n.then((function(e){return t(!0,e)}),(function(e){return t(!1,e)})):t(!0,n)}catch(e){t(!1,e)}}function bp(e,t,n){return void 0===n&&(n=16),pp(this,void 0,void 0,(function(){var r,a,i,o;return hp(this,(function(u){switch(u.label){case 0:r=Array(e.length),a=Date.now(),i=0,u.label=1;case 1:return i<e.length?(r[i]=t(e[i],i),(o=Date.now())>=a+n?(a=o,[4,mp(0)]):[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return++i,[3,1];case 4:return[2,r]}}))}))}function Sp(e){e.then(void 0,(function(){}))}function Cp(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function _p(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function Ip(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function Tp(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function Ap(e,t){return[e[0]^t[0],e[1]^t[1]]}function wp(e){return e=Ap(e,[0,e[0]>>>1]),e=Ap(e=_p(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=Ap(e=_p(e,[3301882366,444984403]),[0,e[0]>>>1])}function Np(e,t){t=t||0;var n,r=(e=e||"").length%16,a=e.length-r,i=[0,t],o=[0,t],u=[0,0],l=[0,0],c=[2277735313,289559509],s=[1291169091,658871167];for(n=0;n<a;n+=16)u=[255&e.charCodeAt(n+4)|(255&e.charCodeAt(n+5))<<8|(255&e.charCodeAt(n+6))<<16|(255&e.charCodeAt(n+7))<<24,255&e.charCodeAt(n)|(255&e.charCodeAt(n+1))<<8|(255&e.charCodeAt(n+2))<<16|(255&e.charCodeAt(n+3))<<24],l=[255&e.charCodeAt(n+12)|(255&e.charCodeAt(n+13))<<8|(255&e.charCodeAt(n+14))<<16|(255&e.charCodeAt(n+15))<<24,255&e.charCodeAt(n+8)|(255&e.charCodeAt(n+9))<<8|(255&e.charCodeAt(n+10))<<16|(255&e.charCodeAt(n+11))<<24],u=Ip(u=_p(u,c),31),i=Cp(i=Ip(i=Ap(i,u=_p(u,s)),27),o),i=Cp(_p(i,[0,5]),[0,1390208809]),l=Ip(l=_p(l,s),33),o=Cp(o=Ip(o=Ap(o,l=_p(l,c)),31),i),o=Cp(_p(o,[0,5]),[0,944331445]);switch(u=[0,0],l=[0,0],r){case 15:l=Ap(l,Tp([0,e.charCodeAt(n+14)],48));case 14:l=Ap(l,Tp([0,e.charCodeAt(n+13)],40));case 13:l=Ap(l,Tp([0,e.charCodeAt(n+12)],32));case 12:l=Ap(l,Tp([0,e.charCodeAt(n+11)],24));case 11:l=Ap(l,Tp([0,e.charCodeAt(n+10)],16));case 10:l=Ap(l,Tp([0,e.charCodeAt(n+9)],8));case 9:l=_p(l=Ap(l,[0,e.charCodeAt(n+8)]),s),o=Ap(o,l=_p(l=Ip(l,33),c));case 8:u=Ap(u,Tp([0,e.charCodeAt(n+7)],56));case 7:u=Ap(u,Tp([0,e.charCodeAt(n+6)],48));case 6:u=Ap(u,Tp([0,e.charCodeAt(n+5)],40));case 5:u=Ap(u,Tp([0,e.charCodeAt(n+4)],32));case 4:u=Ap(u,Tp([0,e.charCodeAt(n+3)],24));case 3:u=Ap(u,Tp([0,e.charCodeAt(n+2)],16));case 2:u=Ap(u,Tp([0,e.charCodeAt(n+1)],8));case 1:u=_p(u=Ap(u,[0,e.charCodeAt(n)]),c),i=Ap(i,u=_p(u=Ip(u,31),s))}return i=Cp(i=Ap(i,[0,e.length]),o=Ap(o,[0,e.length])),o=Cp(o,i),i=Cp(i=wp(i),o=wp(o)),o=Cp(o,i),("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)+("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)}function Op(e){return parseInt(e)}function Lp(e){return parseFloat(e)}function Dp(e,t){return"number"==typeof e&&isNaN(e)?t:e}function Rp(e){return e.reduce((function(e,t){return e+(t?1:0)}),0)}function kp(e,t){if(void 0===t&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function Pp(e){return e&&"object"==typeof e&&"message"in e?e:{message:e}}function xp(e){return"function"!=typeof e}function Mp(e,t,n){var r=Object.keys(e).filter((function(e){return!function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return!0;return!1}(n,e)})),a=bp(r,(function(n){return function(e,t){var n=new Promise((function(n){var r=Date.now();Ep(e.bind(null,t),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=Date.now()-r;if(!e[0])return n((function(){return{error:Pp(e[1]),duration:a}}));var i=e[1];if(xp(i))return n((function(){return{value:i,duration:a}}));n((function(){return new Promise((function(e){var t=Date.now();Ep(i,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=a+Date.now()-t;if(!n[0])return e({error:Pp(n[1]),duration:i});e({value:n[1],duration:i})}))}))}))}))}));return Sp(n),function(){return n.then((function(e){return e()}))}}(e[n],t)}));return Sp(a),function(){return pp(this,void 0,void 0,(function(){var e,t,n,i;return hp(this,(function(o){switch(o.label){case 0:return[4,a];case 1:return[4,bp(o.sent(),(function(e){var t=e();return Sp(t),t}))];case 2:return e=o.sent(),[4,Promise.all(e)];case 3:for(t=o.sent(),n={},i=0;i<r.length;++i)n[r[i]]=t[i];return[2,n]}}))}))}}function Up(){var e=window,t=navigator;return Rp(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function Vp(){var e=window,t=navigator;return Rp(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,0===t.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function Fp(){var e=window,t=navigator;return Rp(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,0===t.vendor.indexOf("Apple"),"getStorageUpdates"in t,"WebKitMediaKeys"in e])>=4}function jp(){var e=window;return Rp(["safari"in e,!("DeviceMotionEvent"in e),!("ongestureend"in e),!("standalone"in navigator)])>=3}function Wp(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function Gp(){var e=Vp(),t=function(){var e,t,n=window;return Rp(["buildID"in navigator,"MozAppearance"in(null!==(t=null===(e=document.documentElement)||void 0===e?void 0:e.style)&&void 0!==t?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}();if(!e&&!t)return!1;var n=window;return Rp(["onorientationchange"in n,"orientation"in n,e&&!("SharedWorker"in n),t&&/android/i.test(navigator.appVersion)])>=2}function Hp(e){var t=new Error(e);return t.name=e,t}function Bp(e,t,n){var r,a,i;return void 0===n&&(n=50),pp(this,void 0,void 0,(function(){var o,u;return hp(this,(function(l){switch(l.label){case 0:o=document,l.label=1;case 1:return o.body?[3,3]:[4,mp(n)];case 2:return l.sent(),[3,1];case 3:u=o.createElement("iframe"),l.label=4;case 4:return l.trys.push([4,,10,11]),[4,new Promise((function(e,n){var r=!1,a=function(){r=!0,e()};u.onload=a,u.onerror=function(e){r=!0,n(e)};var i=u.style;i.setProperty("display","block","important"),i.position="absolute",i.top="0",i.left="0",i.visibility="hidden",t&&"srcdoc"in u?u.srcdoc=t:u.src="about:blank",o.body.appendChild(u);var l=function(){var e,t;r||("complete"===(null===(t=null===(e=u.contentWindow)||void 0===e?void 0:e.document)||void 0===t?void 0:t.readyState)?a():setTimeout(l,10))};l()}))];case 5:l.sent(),l.label=6;case 6:return(null===(a=null===(r=u.contentWindow)||void 0===r?void 0:r.document)||void 0===a?void 0:a.body)?[3,8]:[4,mp(n)];case 7:return l.sent(),[3,6];case 8:return[4,e(u,u.contentWindow)];case 9:return[2,l.sent()];case 10:return null===(i=u.parentNode)||void 0===i||i.removeChild(u),[7];case 11:return[2]}}))}))}function zp(e){for(var t=function(e){for(var t,n,r="Unexpected syntax '".concat(e,"'"),a=/^\s*([a-z-]*)(.*)$/i.exec(e),i=a[1]||void 0,o={},u=/([.:#][\w-]+|\[.+?\])/gi,l=function(e,t){o[e]=o[e]||[],o[e].push(t)};;){var c=u.exec(a[2]);if(!c)break;var s=c[0];switch(s[0]){case".":l("class",s.slice(1));break;case"#":l("id",s.slice(1));break;case"[":var d=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(s);if(!d)throw new Error(r);l(d[1],null!==(n=null!==(t=d[4])&&void 0!==t?t:d[5])&&void 0!==n?n:"");break;default:throw new Error(r)}}return[i,o]}(e),n=t[0],r=t[1],a=document.createElement(null!=n?n:"div"),i=0,o=Object.keys(r);i<o.length;i++){var u=o[i],l=r[u].join(" ");"style"===u?qp(a.style,l):a.setAttribute(u,l)}return a}function qp(e,t){for(var n=0,r=t.split(";");n<r.length;n++){var a=r[n],i=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(a);if(i){var o=i[1],u=i[2],l=i[4];e.setProperty(o,u,l||"")}}}var Zp=["monospace","sans-serif","serif"],Kp=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function Yp(e){return e.toDataURL()}var Jp,Xp;function Qp(){var e=this;return function(){if(void 0===Xp){var e=function(){var t=$p();eh(t)?Xp=setTimeout(e,2500):(Jp=t,Xp=void 0)};e()}}(),function(){return pp(e,void 0,void 0,(function(){var e;return hp(this,(function(t){switch(t.label){case 0:return eh(e=$p())?Jp?[2,vp([],Jp,!0)]:function(){var e=document;return e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||null}()?[4,Wp()]:[3,2]:[3,2];case 1:t.sent(),e=$p(),t.label=2;case 2:return eh(e)||(Jp=e),[2,e]}}))}))}}function $p(){var e=screen;return[Dp(Lp(e.availTop),null),Dp(Lp(e.width)-Lp(e.availWidth)-Dp(Lp(e.availLeft),0),null),Dp(Lp(e.height)-Lp(e.availHeight)-Dp(Lp(e.availTop),0),null),Dp(Lp(e.availLeft),null)]}function eh(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function th(e){var t;return pp(this,void 0,void 0,(function(){var n,r,a,i,o,u,l;return hp(this,(function(c){switch(c.label){case 0:for(n=document,r=n.createElement("div"),a=new Array(e.length),i={},nh(r),l=0;l<e.length;++l)"DIALOG"===(o=zp(e[l])).tagName&&o.show(),nh(u=n.createElement("div")),u.appendChild(o),r.appendChild(u),a[l]=o;c.label=1;case 1:return n.body?[3,3]:[4,mp(50)];case 2:return c.sent(),[3,1];case 3:n.body.appendChild(r);try{for(l=0;l<e.length;++l)a[l].offsetParent||(i[e[l]]=!0)}finally{null===(t=r.parentNode)||void 0===t||t.removeChild(r)}return[2,i]}}))}))}function nh(e){e.style.setProperty("display","block","important")}function rh(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function ah(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}function ih(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function oh(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function uh(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var lh=Math,ch=function(){return 0};var sh={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};var dh={fonts:function(){return Bp((function(e,t){var n=t.document,r=n.body;r.style.fontSize="48px";var a=n.createElement("div"),i={},o={},u=function(e){var t=n.createElement("span"),r=t.style;return r.position="absolute",r.top="0",r.left="0",r.fontFamily=e,t.textContent="mmMwWLliI0O&1",a.appendChild(t),t},l=Zp.map(u),c=function(){for(var e={},t=function(t){e[t]=Zp.map((function(e){return function(e,t){return u("'".concat(e,"',").concat(t))}(t,e)}))},n=0,r=Kp;n<r.length;n++){t(r[n])}return e}();r.appendChild(a);for(var s=0;s<Zp.length;s++)i[Zp[s]]=l[s].offsetWidth,o[Zp[s]]=l[s].offsetHeight;return Kp.filter((function(e){return t=c[e],Zp.some((function(e,n){return t[n].offsetWidth!==i[e]||t[n].offsetHeight!==o[e]}));var t}))}))},domBlockers:function(e){var t=(void 0===e?{}:e).debug;return pp(this,void 0,void 0,(function(){var e,n,r,a,i;return hp(this,(function(o){switch(o.label){case 0:return Fp()||Gp()?(u=atob,e={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',u("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",u("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",u("LnNwb25zb3JpdA=="),".ylamainos",u("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),u("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",u("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",u("LmhlYWRlci1ibG9ja2VkLWFk"),u("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",u("I2FkXzMwMFgyNTA="),u("I2Jhbm5lcmZsb2F0MjI="),u("I2NhbXBhaWduLWJhbm5lcg=="),u("I0FkLUNvbnRlbnQ=")],adGuardChinese:[u("LlppX2FkX2FfSA=="),u("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",u("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),u("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",u("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",u("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",u("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),u("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),u("LmFkZ29vZ2xl"),u("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[u("YW1wLWF1dG8tYWRz"),u("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",u("I2FkX2ludmlld19hcmVh")],adGuardRussian:[u("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),u("LnJlY2xhbWE="),'div[id^="smi2adblock"]',u("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[u("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),u("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",u("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),u("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),u("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",u("I3Jla2xhbWk="),u("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),u("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),u("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[u("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",u("LndpZGdldF9wb19hZHNfd2lkZ2V0"),u("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",u("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[u("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),u("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",u("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",u("I3Jla2xhbW5pLWJveA=="),u("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",u("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[u("I2FkdmVydGVudGll"),u("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",u("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",u("LnNwb25zb3JsaW5rZ3J1ZW4="),u("I3dlcmJ1bmdza3k="),u("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),u("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[u("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",u("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),u("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),u("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[u("LnJla2xhbW9zX3RhcnBhcw=="),u("LnJla2xhbW9zX251b3JvZG9z"),u("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),u("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),u("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[u("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[u("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),u("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",u("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[u("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),u("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),u("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",u("LmFkX19tYWlu"),u("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[u("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[u("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),u("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[u("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),u("I2xpdmVyZUFkV3JhcHBlcg=="),u("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),u("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[u("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",u("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),u("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),u("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[u("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),u("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),u("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",u("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),u("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),u("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),u("ZGl2I3NrYXBpZWNfYWQ=")],ro:[u("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),u("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),u("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),u("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[u("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),u("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),u("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",u("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),u("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",u("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]},n=Object.keys(e),[4,th((i=[]).concat.apply(i,n.map((function(t){return e[t]}))))]):[2,void 0];case 1:return r=o.sent(),t&&function(e,t){for(var n="DOM blockers debug:\n```",r=0,a=Object.keys(e);r<a.length;r++){var i=a[r];n+="\n".concat(i,":");for(var o=0,u=e[i];o<u.length;o++){var l=u[o];n+="\n  ".concat(t[l]?"🚫":"➡️"," ").concat(l)}}console.log("".concat(n,"\n```"))}(e,r),(a=n.filter((function(t){var n=e[t];return Rp(n.map((function(e){return r[e]})))>.6*n.length}))).sort(),[2,a]}var u}))}))},fontPreferences:function(){return function(e,t){void 0===t&&(t=4e3);return Bp((function(n,r){var a=r.document,i=a.body,o=i.style;o.width="".concat(t,"px"),o.webkitTextSizeAdjust=o.textSizeAdjust="none",Vp()?i.style.zoom="".concat(1/r.devicePixelRatio):Fp()&&(i.style.zoom="reset");var u=a.createElement("div");return u.textContent=vp([],Array(t/20|0),!0).map((function(){return"word"})).join(" "),i.appendChild(u),e(a,i)}),'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}((function(e,t){for(var n={},r={},a=0,i=Object.keys(sh);a<i.length;a++){var o=i[a],u=sh[o],l=u[0],c=void 0===l?{}:l,s=u[1],d=void 0===s?"mmMwWLliI0fiflO&1":s,f=e.createElement("span");f.textContent=d,f.style.whiteSpace="nowrap";for(var p=0,h=Object.keys(c);p<h.length;p++){var v=h[p],y=c[v];void 0!==y&&(f.style[v]=y)}n[o]=f,t.appendChild(e.createElement("br")),t.appendChild(f)}for(var m=0,g=Object.keys(sh);m<g.length;m++){r[o=g[m]]=n[o].getBoundingClientRect().width}return r}))},audio:function(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(Fp()&&!jp()&&!function(){var e=window;return Rp(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}())return-1;var n=new t(1,5e3,44100),r=n.createOscillator();r.type="triangle",r.frequency.value=1e4;var a=n.createDynamicsCompressor();a.threshold.value=-50,a.knee.value=40,a.ratio.value=12,a.attack.value=0,a.release.value=.25,r.connect(a),a.connect(n.destination),r.start(0);var i=function(e){var t=3,n=500,r=500,a=5e3,i=function(){},o=new Promise((function(o,u){var l=!1,c=0,s=0;e.oncomplete=function(e){return o(e.renderedBuffer)};var d=function(){setTimeout((function(){return u(Hp("timeout"))}),Math.min(r,s+a-Date.now()))},f=function(){try{var r=e.startRendering();switch(gp(r)&&Sp(r),e.state){case"running":s=Date.now(),l&&d();break;case"suspended":document.hidden||c++,l&&c>=t?u(Hp("suspended")):setTimeout(f,n)}}catch(e){u(e)}};f(),i=function(){l||(l=!0,s>0&&d())}}));return[o,i]}(n),o=i[0],u=i[1],l=o.then((function(e){return function(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}(e.getChannelData(0).subarray(4500))}),(function(e){if("timeout"===e.name||"suspended"===e.name)return-3;throw e}));return Sp(l),function(){return u(),l}},screenFrame:function(){var e=this,t=Qp();return function(){return pp(e,void 0,void 0,(function(){var e,n;return hp(this,(function(r){switch(r.label){case 0:return[4,t()];case 1:return e=r.sent(),[2,[(n=function(e){return null===e?null:kp(e,10)})(e[0]),n(e[1]),n(e[2]),n(e[3])]]}}))}))}},osCpu:function(){return navigator.oscpu},languages:function(){var e=navigator,t=[],n=e.language||e.userLanguage||e.browserLanguage||e.systemLanguage;if(void 0!==n&&t.push([n]),Array.isArray(e.languages))Vp()&&function(){var e=window;return Rp([!("MediaSettingsRange"in e),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3}()||t.push(e.languages);else if("string"==typeof e.languages){var r=e.languages;r&&t.push(r.split(","))}return t},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return Dp(Lp(navigator.deviceMemory),void 0)},screenResolution:function(){var e=screen,t=function(e){return Dp(Op(e),null)},n=[t(e.width),t(e.height)];return n.sort().reverse(),n},hardwareConcurrency:function(){return Dp(Op(navigator.hardwareConcurrency),void 0)},timezone:function(){var e,t=null===(e=window.Intl)||void 0===e?void 0:e.DateTimeFormat;if(t){var n=(new t).resolvedOptions().timeZone;if(n)return n}var r,a=(r=(new Date).getFullYear(),-Math.max(Lp(new Date(r,0,1).getTimezoneOffset()),Lp(new Date(r,6,1).getTimezoneOffset())));return"UTC".concat(a>=0?"+":"").concat(Math.abs(a))},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){if(!Up()&&!function(){var e=window,t=navigator;return Rp(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!Up()}())try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var e=navigator.platform;return"MacIntel"===e&&Fp()&&!jp()?function(){if("iPad"===navigator.platform)return!0;var e=screen,t=e.width/e.height;return Rp(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}()?"iPad":"iPhone":e},plugins:function(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if(r){for(var a=[],i=0;i<r.length;++i){var o=r[i];a.push({type:o.type,suffixes:o.suffixes})}t.push({name:r.name,description:r.description,mimeTypes:a})}}return t}},canvas:function(){var e,t,n=!1,r=function(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}(),a=r[0],i=r[1];if(function(e,t){return!(!t||!e.toDataURL)}(a,i)){n=function(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}(i),function(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835));t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45)}(a,i);var o=Yp(a);o!==Yp(a)?e=t="unstable":(t=o,function(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,r=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<r.length;n++){var a=r[n],i=a[0],o=a[1],u=a[2];t.fillStyle=i,t.beginPath(),t.arc(o,u,40,0,2*Math.PI,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,2*Math.PI,!0),t.arc(60,60,20,0,2*Math.PI,!0),t.fill("evenodd")}(a,i),e=Yp(a))}else e=t="";return{winding:n,geometry:e,text:t}},touchSupport:function(){var e,t=navigator,n=0;void 0!==t.maxTouchPoints?n=Op(t.maxTouchPoints):void 0!==t.msMaxTouchPoints&&(n=t.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return{maxTouchPoints:n,touchEvent:e,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var r=n[t],a=window[r];a&&"object"==typeof a&&e.push(r)}return e.sort()},cookiesEnabled:function(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=-1!==e.cookie.indexOf("cookietest=");return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(e){return!1}},colorGamut:function(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: ".concat(n,")")).matches)return n}},invertedColors:function(){return!!rh("inverted")||!rh("none")&&void 0},forcedColors:function(){return!!ah("active")||!ah("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=100;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}},contrast:function(){return ih("no-preference")?0:ih("high")||ih("more")?1:ih("low")||ih("less")?-1:ih("forced")?10:void 0},reducedMotion:function(){return!!oh("reduce")||!oh("no-preference")&&void 0},hdr:function(){return!!uh("high")||!uh("standard")&&void 0},math:function(){var e,t=lh.acos||ch,n=lh.acosh||ch,r=lh.asin||ch,a=lh.asinh||ch,i=lh.atanh||ch,o=lh.atan||ch,u=lh.sin||ch,l=lh.sinh||ch,c=lh.cos||ch,s=lh.cosh||ch,d=lh.tan||ch,f=lh.tanh||ch,p=lh.exp||ch,h=lh.expm1||ch,v=lh.log1p||ch;return{acos:t(.12312423423423424),acosh:n(1e308),acoshPf:(e=1e154,lh.log(e+lh.sqrt(e*e-1))),asin:r(.12312423423423424),asinh:a(1),asinhPf:function(e){return lh.log(e+lh.sqrt(e*e+1))}(1),atanh:i(.5),atanhPf:function(e){return lh.log((1+e)/(1-e))/2}(.5),atan:o(.5),sin:u(-1e300),sinh:l(1),sinhPf:function(e){return lh.exp(e)-1/lh.exp(e)/2}(1),cos:c(10.000000000123),cosh:s(1),coshPf:function(e){return(lh.exp(e)+1/lh.exp(e))/2}(1),tan:d(-1e300),tanh:f(1),tanhPf:function(e){return(lh.exp(2*e)-1)/(lh.exp(2*e)+1)}(1),exp:p(1),expm1:h(1),expm1Pf:function(e){return lh.exp(e)-1}(1),log1p:v(10),log1pPf:function(e){return lh.log(1+e)}(10),powPI:function(e){return lh.pow(lh.PI,e)}(-100)}},videoCard:function(){var e,t=document.createElement("canvas"),n=null!==(e=t.getContext("webgl"))&&void 0!==e?e:t.getContext("experimental-webgl");if(n&&"getExtension"in n){var r=n.getExtension("WEBGL_debug_renderer_info");if(r)return{vendor:(n.getParameter(r.UNMASKED_VENDOR_WEBGL)||"").toString(),renderer:(n.getParameter(r.UNMASKED_RENDERER_WEBGL)||"").toString()}}},pdfViewerEnabled:function(){return navigator.pdfViewerEnabled},architecture:function(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}};function fh(e){var t=function(e){if(Gp())return.4;if(Fp())return jp()?.5:.3;var t=e.platform.value||"";if(/^Win/.test(t))return.6;if(/^Mac/.test(t))return.5;return.7}(e),n=function(e){return kp(.99+.01*e,1e-4)}(t);return{score:t,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,"".concat(n))}}function ph(e){return JSON.stringify(e,(function(e,t){return t instanceof Error?function(e){var t;return fp({name:e.name,message:e.message,stack:null===(t=e.stack)||void 0===t?void 0:t.split("\n")},e)}(t):t}),2)}function hh(e){return Np(function(e){for(var t="",n=0,r=Object.keys(e).sort();n<r.length;n++){var a=r[n],i=e[a],o=i.error?"error":JSON.stringify(i.value);t+="".concat(t?"|":"").concat(a.replace(/([:|\\])/g,"\\$1"),":").concat(o)}return t}(e))}function vh(e){return void 0===e&&(e=50),function(e,t){void 0===t&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise((function(e){return n.call(window,(function(){return e()}),{timeout:t})})):mp(Math.min(e,t))}(e,2*e)}function yh(e,t){var n=Date.now();return{get:function(r){return pp(this,void 0,void 0,(function(){var a,i,o;return hp(this,(function(u){switch(u.label){case 0:return a=Date.now(),[4,e()];case 1:return i=u.sent(),o=function(e){var t,n=fh(e);return{get visitorId(){return void 0===t&&(t=hh(this.components)),t},set visitorId(e){t=e},confidence:n,components:e,version:yp}}(i),(t||(null==r?void 0:r.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(o.version,"\nuserAgent: ").concat(navigator.userAgent,"\ntimeBetweenLoadAndGet: ").concat(a-n,"\nvisitorId: ").concat(o.visitorId,"\ncomponents: ").concat(ph(i),"\n```")),[2,o]}}))}))}}}var mh={load:function(e){var t=void 0===e?{}:e,n=t.delayFallback,r=t.debug,a=t.monitoring,i=void 0===a||a;return pp(this,void 0,void 0,(function(){return hp(this,(function(e){switch(e.label){case 0:return i&&function(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(yp,"/npm-monitoring"),!0),e.send()}catch(e){console.error(e)}}(),[4,vh(n)];case 1:return e.sent(),[2,yh(Mp(dh,{debug:r},[]),r)]}}))}))},hashComponents:hh,componentsToDebugString:ph};function gh(e){return function(t,n){return e.chain(t,(function(t){return e.map(n(t),(function(){return t}))}))}}var Eh=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};function bh(e,t,n,r,a,i,o,u,l){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return a(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return i(a(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return o(i(a(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return u(o(i(a(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return l(u(o(i(a(r(n(t(e.apply(this,arguments)))))))))}}}function Sh(e,t,n,r,a,i,o,u,l){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return a(r(n(t(e))));case 6:return i(a(r(n(t(e)))));case 7:return o(i(a(r(n(t(e))))));case 8:return u(o(i(a(r(n(t(e)))))));case 9:return l(u(o(i(a(r(n(t(e))))))));default:for(var c=arguments[0],s=1;s<arguments.length;s++)c=arguments[s](c);return c}}var Ch=function(e,t){var n="number"==typeof e?function(t){return t.length>=e}:e;return function(){var e=Array.from(arguments);return n(arguments)?t.apply(this,e):function(n){return t.apply(void 0,Eh([n],e,!1))}}};function _h(e){return function(t){return bh(t,e.fromEither)}}function Ih(e,t){var n=_h(e),r=gh(t);return function(e,t){return r(e,n(t))}}function Th(e){return function(t,n){return e.map(t,(function(){return n}))}}Object.prototype.hasOwnProperty;var Ah={_tag:"None"},wh=function(e){return{_tag:"Some",value:e}};var Nh=function(e){return"Left"===e._tag?Ah:wh(e.right)},Oh=function(e,t){return Sh(e,Rh(t))},Lh=function(e,t){return Sh(e,Ph(t))},Dh="Option",Rh=function(e){return function(t){return jh(t)?Ah:wh(e(t.value))}},kh={URI:Dh,map:Oh},Ph=(Ch(2,Th(kh)),function(e){var t=Th(e)}(kh),function(e){return function(t){return jh(t)||jh(e)?Ah:wh(t.value(e.value))}}),xh=Ch(2,(function(e,t){return jh(e)?Ah:t(e.value)})),Mh={URI:Dh,map:Oh,ap:Lh,chain:xh},Uh=Ch(2,(function(e,t){return jh(e)?t():e})),Vh=Uh,Fh={URI:Dh,fromEither:Nh},jh=function(e){return"None"===e._tag},Wh=function(e){return function(t){return jh(t)?e():t.value}},Gh=Wh,Hh=(gh(Mh),Ih(Fh,Mh),function(e){return null==e?Ah:wh(e)});var Bh,zh,qh={url:(null!==(Bh=pi.EnvironmentUrls.apiGatewayUrl)&&void 0!==Bh?Bh:"URL_NOT_FOUND")+"/rotating-client-service"+"/v1/prelude/latest",timeout:1e3},Zh="EmailVerification",Kh="otp-challenge-container",Yh="accountSecurityChallengeEmailVerificationEvent",Jh={challengeInitialized:"challengeInitialized",challengeCompleted:"challengeCompleted",challengeInvalidated:"challengeInvalidated",challengeAbandoned:"challengeAbandoned"},Xh={challengeInitialized:"ChallengeInitialized",challengeCompleted:"ChallengeCompleted",challengeInvalidated:"ChallengeInvalidated",challengeAbandoned:"ChallengeAbandoned"},Qh={challengeSolveTime:"ChallengeSolveTime"};!function(e){e[e.SET_CHALLENGE_COMPLETED=0]="SET_CHALLENGE_COMPLETED",e[e.SET_CHALLENGE_INVALIDATED=1]="SET_CHALLENGE_INVALIDATED",e[e.HIDE_MODAL_CHALLENGE=2]="HIDE_MODAL_CHALLENGE",e[e.SHOW_MODAL_CHALLENGE=3]="SHOW_MODAL_CHALLENGE"}(zh||(zh={}));var $h,ev=function(){return ev=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ev.apply(this,arguments)},tv=function(e,t){var n,r=ev({},e);switch(t.type){case zh.SET_CHALLENGE_COMPLETED:return r.onChallengeCompletedData=t.onChallengeCompletedData,r.isModalVisible=!1,r;case zh.SET_CHALLENGE_INVALIDATED:return r.onChallengeInvalidatedData={errorCode:t.errorCode,errorMessage:(n=e.resources,t.errorCode,n.Message.Error.Default)},r.isModalVisible=!1,r;case zh.HIDE_MODAL_CHALLENGE:return r.isModalVisible=!1,r;case zh.SHOW_MODAL_CHALLENGE:return r.isModalVisible=!0,r;default:return e}},nv=(0,Fi.createContext)(null),rv=function(e){var t=e.challengeId,n=e.renderInline,r=e.eventService,a=e.metricsService,i=e.translate,o=e.onChallengeCompleted,u=e.onChallengeInvalidated,l=e.onModalChallengeAbandoned,c=e.children,s=(0,Fi.useState)((function(){return function(e){return{Header:{VerifyYourAccount:e("Header.VerifyYourAccount"),EnterCode:e("Header.EnterCode"),ConfirmAbandon:e("Header.ConfirmAbandon")},Description:{SuspiciousActivityEmailVerification:e("Description.SuspiciousActivityEmailVerificationV1"),EnterCode:e("Description.EnterCode"),ConfirmAbandon:e("Description.ConfirmAbandon")},Message:{Error:{Default:e("Message.Error.Default")}},Label:{ConfirmAbandon:e("Label.ConfirmAbandon"),RejectAbandon:e("Label.RejectAbandon")}}}(i)}))[0],d=(0,Fi.useState)((function(){return{challengeId:t,renderInline:n,translate:i,resources:s,eventService:r,metricsService:a,onModalChallengeAbandoned:l,onChallengeCompletedData:null,onChallengeInvalidatedData:null,isModalVisible:!0}}))[0],f=(0,Fi.useReducer)(tv,d),p=f[0],h=f[1];return(0,Fi.useEffect)((function(){null!==p.onChallengeCompletedData&&null===p.onChallengeInvalidatedData&&o(p.onChallengeCompletedData)}),[p.onChallengeCompletedData,p.onChallengeInvalidatedData,o]),(0,Fi.useEffect)((function(){null===p.onChallengeCompletedData&&null!==p.onChallengeInvalidatedData&&(r.sendChallengeInvalidatedEvent(),a.fireChallengeInvalidatedEvent(),u(p.onChallengeInvalidatedData))}),[r,a,p.onChallengeCompletedData,p.onChallengeInvalidatedData,u]),ji().createElement(nv.Provider,{value:{state:p,dispatch:h}},c)},av=function(){var e=(0,Fi.useContext)(nv);if(null===e)throw new Error("EmailVerificationContext was not provided in the current scope");return e},iv=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},ov=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},uv=function(e,t,n,r){var a=e?gd:yd.Modal.Body,i=e?Wf:Gf;return ji().createElement(ji().Fragment,null,ji().createElement(a,null,ji().createElement("p",null,t)),ji().createElement(i,{positiveButton:n,negativeButton:r}))},lv=function(e){var t=e.renderInline,n=e.confirmAbandonLabel,r=e.rejectAbandonLabel,a=e.abandonConfirmationTitle,i=e.abandonConfirmationDescription,o=e.isConfirmationModalVisible,u=e.handleContinue,l=e.handleConfirmAbandon,c={content:r,label:r,enabled:!0,action:u},s={content:n,label:n,enabled:!0,action:l};return ji().createElement(ji().Fragment,null,t?ji().createElement(md,{titleText:a},uv(t,i,s,c)):ji().createElement(yd.Modal,{className:"modal-modern",show:o,onHide:l,backdrop:"static"},ji().createElement(Bf,{headerText:a,buttonType:jf.CLOSE,buttonAction:l,buttonEnabled:!0,headerInfo:null}),uv(t,i,s,c)))},cv=function(){var e=av(),t=e.state,n=t.renderInline,r=t.resources,a=t.translate,i=t.eventService,o=t.metricsService,u=t.isModalVisible,l=e.dispatch,c=function(){var e=(0,Fi.useState)(6),t=e[0],n=e[1];return(0,Fi.useEffect)((function(){iv(void 0,void 0,Promise,(function(){var e;return ov(this,(function(t){switch(t.label){case 0:return[4,ko(Co.Challenge)];case 1:return(e=t.sent()).isError||n(e.value.OtpCodeLength),[2]}}))}))}),[]),t}(),s=(0,Fi.useState)(!1),d=s[0],f=s[1],p=(0,Fi.useCallback)((function(){f(!0),l({type:zh.HIDE_MODAL_CHALLENGE})}),[l]),h=(0,Fi.useCallback)((function(){f(!1),l({type:zh.SHOW_MODAL_CHALLENGE})}),[l]),v=(0,Fi.useCallback)((function(){f(!1),l({type:zh.SET_CHALLENGE_INVALIDATED,errorCode:0}),o.fireChallengeInvalidatedEvent(),i.sendChallengeInvalidatedEvent()}),[l,i,o]);(0,Fi.useEffect)((function(){u&&pi.EmailVerifyCodeModalService&&pi.EmailVerifyCodeModalService.renderEmailVerifyCodeModal({containerId:Kh,codeLength:c,onEmailCodeEntered:function(e,t){l({type:zh.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{otpSession:e}}),i.sendChallengeCompletedEvent(),o.fireChallengeCompletedEvent()},onModalAbandoned:p,enterEmailTitle:r.Header.VerifyYourAccount,enterEmailDescription:r.Description.SuspiciousActivityEmailVerification,enterCodeTitle:r.Header.EnterCode,enterCodeDescription:r.Description.EnterCode,origin:Co.Challenge,translate:a,renderInWebview:n})}),[u]);var y=function(){var e=n?gd:yd.Modal.Body;return ji().createElement(ji().Fragment,null,ji().createElement(e,null,ji().createElement("div",{id:Kh})))};return ji().createElement(ji().Fragment,null,d?ji().createElement(lv,{renderInline:n,confirmAbandonLabel:r.Label.ConfirmAbandon,rejectAbandonLabel:r.Label.RejectAbandon,abandonConfirmationTitle:r.Header.ConfirmAbandon,abandonConfirmationDescription:r.Description.ConfirmAbandon,isConfirmationModalVisible:d,handleContinue:h,handleConfirmAbandon:v}):n?ji().createElement(md,{titleText:""},y()):ji().createElement(yd.Modal,{className:"modal-modern",backdrop:"static",show:u},y()))},sv=(0,od.withTranslations)((function(e){var t=e.challengeId,n=e.renderInline,r=e.eventService,a=e.metricsService,i=e.translate,o=e.onChallengeCompleted,u=e.onChallengeInvalidated,l=e.onModalChallengeAbandoned;return ji().createElement(rv,{challengeId:t,renderInline:n,eventService:r,metricsService:a,translate:i,onChallengeCompleted:o,onChallengeInvalidated:u,onModalChallengeAbandoned:l},ji().createElement(cv,null))}),{common:["CommonUI.Messages"],feature:"Feature.EmailVerificationChallenge"}),dv=function(){function e(e){this.challengeId=e}return e.prototype.sendChallengeInitializedEvent=function(){hi().EventStream.SendEventWithTarget(Yh,Jh.challengeInitialized,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeCompletedEvent=function(){hi().EventStream.SendEventWithTarget(Yh,Jh.challengeCompleted,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeInvalidatedEvent=function(){hi().EventStream.SendEventWithTarget(Yh,Jh.challengeInvalidated,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e}(),fv=function(){function e(e,t){this.appType=e||"unknown",this.requestServiceDefault=t,this.eventTimer=new jd,this.challengeSolveTimeSequenceName=Zh+"_"+Qh.challengeSolveTime}return e.prototype.fireChallengeInitializedEvent=function(){this.fireEvent(Xh.challengeInitialized),this.eventTimer.start(this.challengeSolveTimeSequenceName)},e.prototype.fireChallengeCompletedEvent=function(){this.fireEvent(Xh.challengeCompleted),this.fireSolveTimeEvent(Xh.challengeCompleted)},e.prototype.fireChallengeInvalidatedEvent=function(){this.fireEvent(Xh.challengeInvalidated),this.fireSolveTimeEvent(Xh.challengeInvalidated)},e.prototype.fireChallengeAbandonedEvent=function(){this.fireEvent(Xh.challengeAbandoned),this.fireSolveTimeEvent(Xh.challengeAbandoned)},e.prototype.fireEvent=function(e){this.requestServiceDefault.metrics.recordMetric({name:Qc.EventEmailVerification,value:1,labelValues:{event_type:Zh+"_"+e,application_type:this.appType}}).catch((function(){}))},e.prototype.fireSolveTimeEvent=function(e){var t=this.eventTimer.end(this.challengeSolveTimeSequenceName);null!==t&&this.requestServiceDefault.metrics.recordMetric({name:Qc.SolveTimeEmailVerification,value:t,labelValues:{event_type:Zh+"_"+e,application_type:this.appType}}).catch((function(){}))},e}();!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ABANDONED=1]="ABANDONED"}($h||($h={}));var pv,hv=new id;!function(e){e.CAPTCHA="captcha",e.FORCE_AUTHENTICATOR="forceauthenticator",e.FORCE_TWO_STEP_VERIFICATION="forcetwostepverification",e.TWO_STEP_VERIFICATION="twostepverification",e.SECURITY_QUESTIONS="securityquestions",e.PROOF_OF_WORK="proofofwork",e.ROSTILE="rostile",e.PRIVATE_ACCESS_TOKEN="privateaccesstoken",e.DEVICE_INTEGRITY="deviceintegrity",e.PROOF_OF_SPACE="proofofspace",e.PHONE_VERIFICATION="phoneverification",e.EMAIL_VERIFICATION="emailverification",e.BLOCK_SESSION="blocksession",e.BIOMETRIC="biometric"}(pv||(pv={}));var vv,yv,mv,gv,Ev,bv,Sv,Cv,_v,Iv,Tv,Av,wv,Nv=pv;!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(vv||(vv={})),function(e){e.UNKNOWN="unknown",e.ABANDONED="abandoned",e.INVALIDATED="invalidated"}(yv||(yv={})),function(e){e.CHALLENGE_COMPLETED="challengeCompleted",e.CHALLENGE_DISPLAYED="challengeDisplayed",e.CHALLENGE_INITIALIZED="challengeInitialized",e.CHALLENGE_INVALIDATED="challengeInvalidated",e.CHALLENGE_PAGE_LOADED="challengePageLoaded",e.CHALLENGE_PARSED="challengeParsed"}(mv||(mv={})),function(e){e[e.UNKNOWN=0]="UNKNOWN"}(gv||(gv={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SESSION_INVALID=1]="SESSION_INVALID",e[e.ANSWER_INVALID=2]="ANSWER_INVALID",e[e.WORKER_LOAD_ERROR=3]="WORKER_LOAD_ERROR",e[e.TIMEOUT=4]="TIMEOUT"}(Ev||(Ev={})),function(e){e.INVALID="PROOF_OF_SPACE_PUZZLE_TYPE_INVALID",e.NONINTERACTIVE="PROOF_OF_SPACE_PUZZLE_TYPE_NONINTERACTIVE",e.INTERACTIVE="PROOF_OF_SPACE_PUZZLE_TYPE_INTERACTIVE"}(bv||(bv={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SESSION_INVALID=1]="SESSION_INVALID",e[e.ANSWER_INVALID=2]="ANSWER_INVALID",e[e.WORKER_LOAD_ERROR=3]="WORKER_LOAD_ERROR"}(Sv||(Sv={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.INVALID_SESSION=1]="INVALID_SESSION"}(Cv||(Cv={})),function(e){e.INVALID="ROSTILE_PUZZLE_TYPE_INVALID",e.VISIBLE="ROSTILE_PUZZLE_TYPE_VISIBLE",e.INVISIBLE="ROSTILE_PUZZLE_TYPE_INVISIBLE"}(_v||(_v={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SESSION_EXPIRED=1]="SESSION_EXPIRED",e[e.USER_WAS_FORCE_RESET=2]="USER_WAS_FORCE_RESET"}(Iv||(Iv={})),function(e){e.Unknown="Unknown",e.Login="Login",e.RobuxSpend="RobuxSpend",e.ItemTrade="ItemTrade",e.Resale="Resale",e.PasswordReset="PasswordReset",e.RevertAccount="RevertAccount",e.Generic="Generic",e.GenericWithRecoveryCodes="GenericWithRecoveryCodes"}(Tv||(Tv={})),function(e){e.Email="Email",e.Authenticator="Authenticator",e.RecoveryCode="RecoveryCode",e.SMS="SMS",e.SecurityKey="SecurityKey",e.CrossDevice="CrossDevice",e.Password="Password",e.Passkey="Passkey"}(Av||(Av={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SESSION_EXPIRED=1]="SESSION_EXPIRED"}(wv||(wv={}));var Ov,Lv="PhoneVerification",Dv="phoneverification-challenge-container",Rv={SuspiciousActivityPhoneVerification:"Description.SuspiciousActivityPhoneVerificationV1",LegalText:"Description.ChallengeLegalDisclaimerV1"},kv={VerifyYourAccountHeader:"Header.VerifyYourAccountHeader"},Pv="accountSecurityChallengePhoneVerificationEvent",xv={challengeInitialized:"challengeInitialized",challengeCompleted:"challengeCompleted",challengeInvalidated:"challengeInvalidated",challengeAbandoned:"challengeAbandoned"},Mv={challengeInitialized:"ChallengeInitialized",challengeCompleted:"ChallengeCompleted",challengeInvalidated:"ChallengeInvalidated",challengeAbandoned:"ChallengeAbandoned"},Uv={challengeSolveTime:"ChallengeSolveTime"};!function(e){e[e.SET_CHALLENGE_COMPLETED=0]="SET_CHALLENGE_COMPLETED",e[e.SET_CHALLENGE_INVALIDATED=1]="SET_CHALLENGE_INVALIDATED",e[e.HIDE_MODAL_CHALLENGE=2]="HIDE_MODAL_CHALLENGE",e[e.SHOW_MODAL_CHALLENGE=3]="SHOW_MODAL_CHALLENGE"}(Ov||(Ov={}));var Vv,Fv=function(){return Fv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Fv.apply(this,arguments)},jv=function(e,t){var n,r=Fv({},e);switch(t.type){case Ov.SET_CHALLENGE_COMPLETED:return r.onChallengeCompletedData=t.onChallengeCompletedData,r.isModalVisible=!1,r;case Ov.SET_CHALLENGE_INVALIDATED:return r.onChallengeInvalidatedData={errorCode:t.errorCode,errorMessage:(n=e.resources,t.errorCode,n.Message.Error.Default)},r.isModalVisible=!1,r;case Ov.HIDE_MODAL_CHALLENGE:return r.isModalVisible=!1,r;case Ov.SHOW_MODAL_CHALLENGE:return r.isModalVisible=!0,r;default:return e}},Wv=(0,Fi.createContext)(null),Gv=function(e){var t=e.challengeId,n=e.renderInline,r=e.eventService,a=e.metricsService,i=e.translate,o=e.onChallengeCompleted,u=e.onChallengeInvalidated,l=e.onModalChallengeAbandoned,c=e.children,s=(0,Fi.useState)((function(){return function(e){return{Header:{ConfirmAbandon:e("Header.ConfirmAbandon")},Description:{ConfirmAbandon:e("Description.ConfirmAbandon")},Message:{Error:{Default:e("Message.Error.Default")}},Label:{ConfirmAbandon:e("Label.ConfirmAbandon"),RejectAbandon:e("Label.RejectAbandon")}}}(i)}))[0],d=(0,Fi.useState)((function(){return{challengeId:t,renderInline:n,translate:i,resources:s,eventService:r,metricsService:a,onModalChallengeAbandoned:l,onChallengeCompletedData:null,onChallengeInvalidatedData:null,isModalVisible:!0}}))[0],f=(0,Fi.useReducer)(jv,d),p=f[0],h=f[1];return(0,Fi.useEffect)((function(){null!==p.onChallengeCompletedData&&null===p.onChallengeInvalidatedData&&o(p.onChallengeCompletedData)}),[p.onChallengeCompletedData,p.onChallengeInvalidatedData,o]),(0,Fi.useEffect)((function(){null===p.onChallengeCompletedData&&null!==p.onChallengeInvalidatedData&&(r.sendChallengeInvalidatedEvent(),a.fireChallengeInvalidatedEvent(),u(p.onChallengeInvalidatedData))}),[t,r,a,p.onChallengeCompletedData,p.onChallengeInvalidatedData,u]),ji().createElement(Wv.Provider,{value:{state:p,dispatch:h}},c)},Hv=function(){var e=(0,Fi.useContext)(Wv);if(null===e)throw new Error("PhoneVerificationContext was not provided in the current scope");return e},Bv=function(){var e=Hv(),t=e.state,n=t.renderInline,r=t.resources,a=t.metricsService,i=t.eventService,o=t.isModalVisible,u=e.dispatch,l=(0,Fi.useState)(!1),c=l[0],s=l[1],d=(0,Fi.useCallback)((function(e){if(e)return u({type:Ov.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{}}),i.sendChallengeCompletedEvent(),void a.fireChallengeCompletedEvent();s(!0),u({type:Ov.HIDE_MODAL_CHALLENGE})}),[u,i,a]),f=(0,Fi.useCallback)((function(){s(!1),u({type:Ov.SHOW_MODAL_CHALLENGE})}),[u]),p=(0,Fi.useCallback)((function(){s(!1),u({type:Ov.SET_CHALLENGE_INVALIDATED,errorCode:0}),i.sendChallengeInvalidatedEvent(),a.fireChallengeInvalidatedEvent()}),[u,i,a]);(0,Fi.useEffect)((function(){o&&pi.UpsellService.renderPhoneUpsell({onClose:d,origin:"challenge",addPhoneHeadingKey:kv.VerifyYourAccountHeader,addPhoneDescriptionKey:Rv.SuspiciousActivityPhoneVerification,containerId:Dv,addPhoneLegalTextKey:Rv.LegalText,renderInWebview:n})}),[d,o]);var h=function(){var e=n?gd:yd.Modal.Body;return ji().createElement(ji().Fragment,null,ji().createElement(e,null,ji().createElement("div",{id:Dv})))};return ji().createElement(ji().Fragment,null,c?ji().createElement(lv,{renderInline:n,confirmAbandonLabel:r.Label.ConfirmAbandon,rejectAbandonLabel:r.Label.RejectAbandon,abandonConfirmationTitle:r.Header.ConfirmAbandon,abandonConfirmationDescription:r.Description.ConfirmAbandon,isConfirmationModalVisible:c,handleContinue:f,handleConfirmAbandon:p}):n?ji().createElement(md,{titleText:""},h()):ji().createElement(yd.Modal,{className:"modal-modern",backdrop:"static",show:o},h()))},zv=(0,od.withTranslations)((function(e){var t=e.challengeId,n=e.renderInline,r=e.eventService,a=e.metricsService,i=e.translate,o=e.onChallengeCompleted,u=e.onChallengeInvalidated,l=e.onModalChallengeAbandoned;return ji().createElement(Gv,{challengeId:t,renderInline:n,eventService:r,metricsService:a,translate:i,onChallengeCompleted:o,onChallengeInvalidated:u,onModalChallengeAbandoned:l},ji().createElement(Bv,null))}),{common:["CommonUI.Messages"],feature:"Feature.PhoneVerificationChallenge"}),qv=function(){function e(e){this.challengeId=e}return e.prototype.sendChallengeInitializedEvent=function(){hi().EventStream.SendEventWithTarget(Pv,xv.challengeInitialized,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeCompletedEvent=function(){hi().EventStream.SendEventWithTarget(Pv,xv.challengeCompleted,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeInvalidatedEvent=function(){hi().EventStream.SendEventWithTarget(Pv,xv.challengeInvalidated,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e}(),Zv=function(){function e(e,t){this.appType=e||"unknown",this.requestServiceDefault=t,this.eventTimer=new jd,this.challengeSolveTimeSequenceName=Lv+"_"+Uv.challengeSolveTime}return e.prototype.fireChallengeInitializedEvent=function(){this.fireEvent(Mv.challengeInitialized),this.eventTimer.start(this.challengeSolveTimeSequenceName)},e.prototype.fireChallengeCompletedEvent=function(){this.fireEvent(Mv.challengeCompleted),this.fireSolveTimeEvent(Mv.challengeCompleted)},e.prototype.fireChallengeInvalidatedEvent=function(){this.fireEvent(Mv.challengeInvalidated),this.fireSolveTimeEvent(Mv.challengeInvalidated)},e.prototype.fireChallengeAbandonedEvent=function(){this.fireEvent(Mv.challengeAbandoned),this.fireSolveTimeEvent(Mv.challengeAbandoned)},e.prototype.fireEvent=function(e){this.requestServiceDefault.metrics.recordMetric({name:Qc.EventPhoneVerification,value:1,labelValues:{event_type:Lv+"_"+e,application_type:this.appType}}).catch((function(){}))},e.prototype.fireSolveTimeEvent=function(e){var t=this.eventTimer.end(this.challengeSolveTimeSequenceName);null!==t&&this.requestServiceDefault.metrics.recordMetric({name:Qc.SolveTimePhoneVerification,value:t,labelValues:{event_type:Lv+"_"+e,application_type:this.appType}}).catch((function(){}))},e}();!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(Vv||(Vv={}));var Kv,Yv,Jv=new id,Xv="PrivateAccessToken",Qv="accountSecurityChallengePrivateAccessTokenEvent",$v={challengeInitialized:"challengeInitialized",challengeCompleted:"challengeCompleted",challengeInvalidated:"challengeInvalidated",challengeAbandoned:"challengeAbandoned"},ey={challengeInitialized:"ChallengeInitialized",challengeCompleted:"ChallengeCompleted",challengeInvalidated:"ChallengeInvalidated",challengeAbandoned:"ChallengeAbandoned"},ty={challengeSolveTime:"ChallengeSolveTime"};!function(e){e[e.INITIAL=0]="INITIAL",e[e.COMPLETED_ERROR=1]="COMPLETED_ERROR",e[e.COMPLETED_SUCCESS=2]="COMPLETED_SUCCESS"}(Kv||(Kv={})),function(e){e[e.SET_CHALLENGE_COMPLETED=0]="SET_CHALLENGE_COMPLETED",e[e.SET_CHALLENGE_INVALIDATED=1]="SET_CHALLENGE_INVALIDATED"}(Yv||(Yv={}));var ny,ry=function(){return ry=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ry.apply(this,arguments)},ay=function(e,t){var n=ry({},e);switch(t.type){case Yv.SET_CHALLENGE_COMPLETED:return n.onChallengeCompletedData=t.onChallengeCompletedData,n;case Yv.SET_CHALLENGE_INVALIDATED:return n.onChallengeInvalidatedData=t.onChallengeInvalidatedData,n;default:return e}},iy=(0,Fi.createContext)(null),oy=function(e){var t=e.challengeId,n=e.renderInline,r=e.eventService,a=e.metricsService,i=e.requestService,o=e.translate,u=e.onChallengeDisplayed,l=e.onChallengeCompleted,c=e.onChallengeInvalidated,s=e.onModalChallengeAbandoned,d=e.children,f=(0,Fi.useState)((function(){return function(e){return{Description:{VerificationError:e("Description.VerificationError"),VerificationSuccess:e("Description.VerificationSuccess"),VerifyingYouAreNotBot:e("Description.VerifyingYouAreNotBot")}}}(o)}))[0],p=(0,Fi.useState)((function(){return{challengeId:t,renderInline:n,resources:f,eventService:r,metricsService:a,requestService:i,onChallengeDisplayed:u,onModalChallengeAbandoned:s,onChallengeCompletedData:null,onChallengeInvalidatedData:null,isModalVisible:!1}}))[0],h=(0,Fi.useReducer)(ay,p),v=h[0],y=h[1];return(0,Fi.useEffect)((function(){null!==v.onChallengeCompletedData&&null===v.onChallengeInvalidatedData&&l(v.onChallengeCompletedData)}),[v.onChallengeCompletedData,v.onChallengeInvalidatedData,l]),(0,Fi.useEffect)((function(){null!==v.onChallengeInvalidatedData&&null===v.onChallengeCompletedData&&(r.sendChallengeInvalidatedEvent(),a.fireChallengeInvalidatedEvent(),c(v.onChallengeInvalidatedData))}),[r,a,v.onChallengeCompletedData,v.onChallengeInvalidatedData,c]),ji().createElement(iy.Provider,{value:{state:v,dispatch:y}},d)},uy=function(){var e=(0,Fi.useContext)(iy);if(null===e)throw new Error("PrivateAccessTokenContext was not provided in the current scope");return e},ly=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},cy=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},sy=function(){var e=uy(),t=e.state,n=t.renderInline,r=t.challengeId,a=t.resources,i=t.requestService,o=t.metricsService,u=t.eventService,l=e.dispatch,c=(0,Fi.useState)(Kv.INITIAL),s=c[0],d=c[1],f="ChallengeId",p=(0,Fi.useCallback)((function(){return ly(void 0,void 0,void 0,(function(){var e,t;return cy(this,(function(n){switch(n.label){case 0:return s!==Kv.INITIAL?[2]:(e=kl.localStorageService.getLocalStorage(f),r===e?[2]:(kl.localStorageService.setLocalStorage(f,r),[4,i.privateAccessToken.getPatToken(r)]));case 1:if((t=n.sent()).isError){if(t.errorStatusCode===Gi.httpResponseCodes.unauthorized)return d(Kv.COMPLETED_SUCCESS),l({type:Yv.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{redemptionToken:""}}),u.sendChallengeCompletedEvent(!1),o.fireChallengeCompletedEvent(),[2];d(Kv.COMPLETED_ERROR),l({type:Yv.SET_CHALLENGE_INVALIDATED,onChallengeInvalidatedData:{errorCode:(t.error,gv.UNKNOWN),errorMessage:a.Description.VerificationError}})}else d(Kv.COMPLETED_SUCCESS),u.sendChallengeCompletedEvent(!0),o.fireChallengeCompletedEvent(),l({type:Yv.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{redemptionToken:t.value.redemptionToken}});return[2]}}))}))}),[a,l,i.privateAccessToken,s,o,u,r]);return(0,Fi.useEffect)((function(){p()}),[]),n?ji().createElement(md,{titleText:a.Description.VerifyingYouAreNotBot},ji().createElement(gd,null,ji().createElement("span",{className:"spinner spinner-default spinner-no-margin"}))):ji().createElement(yd.Modal,{className:"modal-modern",backdrop:"static"},ji().createElement(yd.Modal.Body,null,ji().createElement("span",{className:"spinner spinner-default spinner-no-margin"})))},dy=(0,od.withTranslations)((function(e){var t=e.challengeId,n=e.renderInline,r=e.eventService,a=e.metricsService,i=e.requestService,o=e.translate,u=e.onChallengeDisplayed,l=e.onChallengeCompleted,c=e.onChallengeInvalidated,s=e.onModalChallengeAbandoned;return ji().createElement(oy,{challengeId:t,renderInline:n,eventService:r,metricsService:a,requestService:i,translate:o,onChallengeDisplayed:u,onChallengeCompleted:l,onChallengeInvalidated:c,onModalChallengeAbandoned:s},ji().createElement(sy,null))}),{common:["CommonUI.Messages"],feature:"Feature.PrivateAccessTokenChallenge"}),fy=function(){function e(e){this.challengeId=e}return e.prototype.sendChallengeInitializedEvent=function(){hi().EventStream.SendEventWithTarget(Qv,$v.challengeInitialized,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeCompletedEvent=function(e){hi().EventStream.SendEventWithTarget(Qv,$v.challengeCompleted,{challengeId:this.challengeId,supportPAT:e},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeInvalidatedEvent=function(){hi().EventStream.SendEventWithTarget(Qv,$v.challengeInvalidated,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeAbandonedEvent=function(){hi().EventStream.SendEventWithTarget(Qv,$v.challengeAbandoned,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e}(),py=function(){function e(e,t){this.appType=e||"unknown",this.requestServiceDefault=t,this.eventTimer=new jd,this.challengeSolveTimeSequenceName=Xv+"_"+ty.challengeSolveTime}return e.prototype.fireChallengeInitializedEvent=function(){this.fireEvent(ey.challengeInitialized),this.eventTimer.start(this.challengeSolveTimeSequenceName)},e.prototype.fireChallengeCompletedEvent=function(){this.fireEvent(ey.challengeCompleted),this.fireSolveTimeEvent(ey.challengeCompleted)},e.prototype.fireChallengeInvalidatedEvent=function(){this.fireEvent(ey.challengeInvalidated),this.fireSolveTimeEvent(ey.challengeInvalidated)},e.prototype.fireChallengeAbandonedEvent=function(){this.fireEvent(ey.challengeAbandoned),this.fireSolveTimeEvent(ey.challengeAbandoned)},e.prototype.fireEvent=function(e){this.requestServiceDefault.metrics.recordMetric({name:Qc.EventPat,value:1,labelValues:{event_type:Xv+"_"+e,application_type:this.appType}}).catch((function(){}))},e.prototype.fireSolveTimeEvent=function(e){var t=this.eventTimer.end(this.challengeSolveTimeSequenceName);null!==t&&this.requestServiceDefault.metrics.recordMetric({name:Qc.SolveTimePat,value:t,labelValues:{event_type:Xv+"_"+e,application_type:this.appType}}).catch((function(){}))},e}(),hy=new id,vy=function(e){var t=e.containerId,n=e.challengeId,r=e.appType,a=e.renderInline,i=e.onChallengeDisplayed,o=e.onChallengeCompleted,u=e.onChallengeInvalidated,l=e.onModalChallengeAbandoned,c=document.getElementById(t);if(null!==c){(0,Wi.unmountComponentAtNode)(c);var s=new fy(n),d=new py(r,hy);return(0,Wi.render)(ji().createElement(dy,{challengeId:n,renderInline:a,eventService:s,metricsService:d,requestService:hy,onChallengeDisplayed:i,onChallengeCompleted:o,onChallengeInvalidated:u,onModalChallengeAbandoned:l}),c),s.sendChallengeInitializedEvent(),d.fireChallengeInitializedEvent(),!0}return!1},yy="ProofOfSpace",my="Proof-of-Space:",gy="accountSecurityChallengeProofOfSpaceEvent",Ey={challengeInitialized:"challengeInitialized",puzzleInitialized:"puzzleInitialized",puzzleCompleted:"puzzleCompleted",challengeCompleted:"challengeCompleted",challengeInvalidated:"challengeInvalidated",challengeAbandoned:"challengeAbandoned",challengeTimeout:"challengeTimeout"},by={challengeInitialized:"ChallengeInitialized",puzzleInitialized:"PuzzleInitialized",puzzleCompleted:"PuzzleCompleted",challengeCompleted:"ChallengeCompleted",challengeInvalidated:"ChallengeInvalidated",challengeAbandoned:"ChallengeAbandoned",challengeTimeout:"ChallengeTimeout"},Sy={puzzleWorkingTime:"PuzzleWorkingTime",challengeSolveTime:"ChallengeSolveTime"},Cy=function(){function e(e,t,n){this.blocks=[],this.length=e,this.blockSize=Math.pow(2,Math.floor(Math.log2(t))),this.blockIndexShift=Math.log2(this.blockSize)>>>0,this.blockOffsetMask=this.blockSize-1>>>0,this.head=0,n||this.allocate(this.length)}return e.prototype.allocate=function(e){for(var t=0;t<Math.ceil(e/this.blockSize);t++)this.blocks.push(new Uint32Array(this.blockSize))},e.prototype.destructor=function(){this.blocks=[]},e.prototype.push=function(e){this.blocks[this.head>>>this.blockIndexShift][this.head&this.blockOffsetMask]=e,this.head+=1},e.prototype.concat=function(e){for(var t=0;t<e.blocks.length;t++)this.blocks.push(e.blocks[t]),this.head+=this.blockSize},e.prototype.get=function(e){return this.blocks[e>>>this.blockIndexShift][e&this.blockOffsetMask]},e.prototype.getHead=function(){return this.head},e}(),_y=Cy,Iy=function(){function e(e){this.seed=parseInt(e,10)}return e.prototype.hash=function(e){for(var t=this.seed,n=0;n<e.length;n++){var r=e[n];r=(r=Math.imul(r,3432918353))<<15|r>>>17,t=(t^=r=Math.imul(r>>>0,461845907)>>>0)<<13|t>>>19,t=3864292196+(Math.imul(t>>>0,5)>>>0)>>>0}return t^=4*e.length,t^=t>>>16,t=Math.imul(t,2246822507),t^=t>>>13,t=Math.imul(t,3266489909),(t^=t>>>16)>>>0},e.prototype.hashOneValue=function(e){var t=this.seed,n=e;return n=(n=Math.imul(n,3432918353))<<15|n>>>17,t=(t^=n=Math.imul(n>>>0,461845907)>>>0)<<13|t>>>19,t=3864292196+(Math.imul(t>>>0,5)>>>0)>>>0,t^=4,t^=t>>>16,t=Math.imul(t,2246822507),t^=t>>>13,t=Math.imul(t,3266489909),(t^=t>>>16)>>>0},e.prototype.hashTwoValues=function(e,t){var n=this.seed,r=e;return r=(r=Math.imul(r,3432918353))<<15|r>>>17,n=(n^=r=Math.imul(r>>>0,461845907)>>>0)<<13|n>>>19,n=3864292196+(Math.imul(n>>>0,5)>>>0)>>>0,r=t,r=(r=Math.imul(r,3432918353))<<15|r>>>17,n=(n^=r=Math.imul(r>>>0,461845907)>>>0)<<13|n>>>19,n=3864292196+(Math.imul(n>>>0,5)>>>0)>>>0,n^=8,n^=n>>>16,n=Math.imul(n,2246822507),n^=n>>>13,n=Math.imul(n,3266489909),(n^=n>>>16)>>>0},e.prototype.hashThreeValues=function(e,t,n){var r=this.seed,a=e;return a=(a=Math.imul(a,3432918353))<<15|a>>>17,r=(r^=a=Math.imul(a>>>0,461845907)>>>0)<<13|r>>>19,r=3864292196+(Math.imul(r>>>0,5)>>>0)>>>0,a=t,a=(a=Math.imul(a,3432918353))<<15|a>>>17,r=(r^=a=Math.imul(a>>>0,461845907)>>>0)<<13|r>>>19,r=3864292196+(Math.imul(r>>>0,5)>>>0)>>>0,a=n,a=(a=Math.imul(a,3432918353))<<15|a>>>17,r=(r^=a=Math.imul(a>>>0,461845907)>>>0)<<13|r>>>19,r=3864292196+(Math.imul(r>>>0,5)>>>0)>>>0,r^=12,r^=r>>>16,r=Math.imul(r,2246822507),r^=r>>>13,r=Math.imul(r,3266489909),(r^=r>>>16)>>>0},e}(),Ty=Iy,Ay=Math.pow(2,18);!function(e){e[e.INIT_GRAPH=0]="INIT_GRAPH",e[e.PEBBLE_GRAPH=1]="PEBBLE_GRAPH",e[e.CREATE_MERKLE_TREE=2]="CREATE_MERKLE_TREE",e[e.GENERATE_SOLUTION=3]="GENERATE_SOLUTION"}(ny||(ny={}));var wy,Ny=function(){function e(e){this.layers=e.layers,this.rounds=e.rounds,this.hasher=new Ty(e.seed),this.merkleLayers=Math.pow(2,Math.floor(Math.log2(this.layers))),this.blockSize=Math.pow(2,Math.min(this.layers,17)),this.layerSize=Math.pow(2,this.layers),this.prevLayer=new _y(this.layerSize,this.blockSize,!0),this.curLayer=new _y(this.layerSize,this.blockSize,!0),this.merkleTree=new _y(2*this.merkleLayers*this.layerSize-1,this.blockSize,!0),this.step=ny.INIT_GRAPH,this.pebblingLayer=0,this.totalComputedNodes=(this.layers+this.merkleLayers+1)*this.layerSize-1,this.isCancelled=!1}return e.prototype.initPebbling=function(e){0===this.curLayer.getHead()&&this.curLayer.allocate(this.layerSize);for(var t=0;t<e&&this.curLayer.getHead()<this.layerSize;++t)this.curLayer.push(this.hasher.hashOneValue(this.curLayer.getHead()));this.curLayer.getHead()===this.layerSize&&(this.pebblingLayer+=1,this.prevLayer=this.curLayer,this.curLayer=new _y(this.layerSize,this.blockSize),this.step=ny.PEBBLE_GRAPH)},e.prototype.pebble=function(e){for(var t=0;t<e&&this.curLayer.getHead()<this.layerSize;++t){var n=this.curLayer.getHead()|1<<this.layers-this.pebblingLayer,r=this.curLayer.getHead()&~(1<<this.layers-this.pebblingLayer);this.curLayer.push(this.hasher.hashThreeValues(this.curLayer.getHead()+this.pebblingLayer*this.layerSize,this.prevLayer.get(n),this.prevLayer.get(r)))}this.curLayer.getHead()===this.layerSize&&(this.layers-this.pebblingLayer<this.merkleLayers&&this.merkleTree.concat(this.curLayer),this.pebblingLayer+=1,this.prevLayer=this.curLayer,this.curLayer=new _y(this.layerSize,this.blockSize)),this.pebblingLayer===this.layers+1&&(this.prevLayer.destructor(),this.curLayer.destructor(),this.step=ny.CREATE_MERKLE_TREE,this.merkleTree.allocate(this.merkleLayers*this.layerSize-1))},e.prototype.createMerkleTree=function(e){for(var t=2*(this.merkleTree.getHead()-Math.ceil(this.merkleTree.length/2)),n=0;n<e&&this.merkleTree.getHead()<this.merkleTree.length;n++)this.merkleTree.push(this.hasher.hashTwoValues(this.merkleTree.get(t),this.merkleTree.get(t+1))),t+=2;this.merkleTree.getHead()===this.merkleTree.length&&(this.step=ny.GENERATE_SOLUTION)},e.prototype.dispatch=function(e){try{switch(this.step){case ny.INIT_GRAPH:this.initPebbling(e);break;case ny.PEBBLE_GRAPH:this.pebble(e);break;case ny.CREATE_MERKLE_TREE:this.createMerkleTree(e)}}catch(e){return e instanceof Error?e.message:String(e)}return null},e.prototype.run=function(e,t,n){for(var r=Math.ceil(this.totalComputedNodes/1e3);!this.isDone();){var a=this.dispatch(r);if(null!==a)return void n(a);e(this.progress())}t(this.answer()),this.merkleTree.destructor()},e.prototype.runAsync=function(e,t,n,r){var a=this,i=function(){var o=a.dispatch(r||Ay);null===o?(e(a.progress()),a.isCancelled||(a.isDone()?t(a.answer()):setTimeout(i,0))):n(o)};setTimeout(i,0),this.merkleTree.destructor()},e.prototype.cancelRunAsync=function(){this.isCancelled=!0},e.prototype.generateChallenge=function(e){var t=this.hasher.hashOneValue(e),n=(this.layers-this.merkleLayers+1+1)*this.layerSize;return t%((this.merkleLayers-1)*this.layerSize)+n},e.prototype.open=function(e){var t=[],n=e-(this.layers-this.merkleLayers+1)*this.layerSize;t.push(this.merkleTree.get(n));for(var r=0;r<this.layers+Math.log2(this.merkleLayers);r++)n=n%2==0?n+1:n-1,t.push(this.merkleTree.get(n)),n=this.merkleTree.length-Math.floor((this.merkleTree.length-n)/2);return t},e.prototype.answer=function(){if(!this.isDone())return null;for(var e=[],t=this.merkleTree.get(this.merkleTree.length-1),n=this.generateChallenge(t),r=0;r<this.rounds;r++){var a=this.open(n),i=n>>>this.layers,o=(n|1<<this.layers-i)-this.layerSize,u=(n&~(1<<this.layers-i))-this.layerSize;a=(a=a.concat(this.open(o))).concat(this.open(u)),e.push(a.map((function(e){return e.toString()}))),n=this.generateChallenge(n)}return{commitment:t.toString(),solutions:e}},e.prototype.progress=function(){return(this.pebblingLayer*this.layerSize+this.curLayer.getHead()+Math.max(this.merkleTree.getHead()-this.merkleLayers*this.layerSize,0))/this.totalComputedNodes},e.prototype.isDone=function(){return this.step===ny.GENERATE_SOLUTION},e}();!function(e){e[e.TIME_LOCK_PUZZLE=0]="TIME_LOCK_PUZZLE",e[e.GRAPH_PEBBLING_PUZZLE=1]="GRAPH_PEBBLING_PUZZLE"}(wy||(wy={}));var Oy,Ly=1e4,Dy="PoSTChallengeId";!function(e){e[e.INITIAL=0]="INITIAL",e[e.READY_TO_COMPUTE=1]="READY_TO_COMPUTE",e[e.COMPUTING=2]="COMPUTING",e[e.COMPUTING_DONE=3]="COMPUTING_DONE",e[e.VERIFIED_CORRECT=4]="VERIFIED_CORRECT",e[e.VERIFIED_INCORRECT=5]="VERIFIED_INCORRECT"}(Oy||(Oy={}));var Ry,ky=function(e){return e===Su.INVALID_SESSION?Ev.SESSION_INVALID:Ev.UNKNOWN};!function(e){e[e.SET_CHALLENGE_COMPLETED=0]="SET_CHALLENGE_COMPLETED",e[e.SET_CHALLENGE_INVALIDATED=1]="SET_CHALLENGE_INVALIDATED",e[e.SET_CHALLENGE_ABANDONED=2]="SET_CHALLENGE_ABANDONED",e[e.SET_CHALLENGE_TIMEOUT=3]="SET_CHALLENGE_TIMEOUT",e[e.HIDE_MODAL_CHALLENGE=4]="HIDE_MODAL_CHALLENGE",e[e.SHOW_MODAL_CHALLENGE=5]="SHOW_MODAL_CHALLENGE"}(Ry||(Ry={}));var Py,xy,My,Uy=function(){return Uy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Uy.apply(this,arguments)},Vy=function(e,t){var n=Uy({},e);switch(t.type){case Ry.SET_CHALLENGE_COMPLETED:return n.onChallengeCompletedData=t.onChallengeCompletedData,n;case Ry.SET_CHALLENGE_INVALIDATED:return n.onChallengeInvalidatedData=t.onChallengeInvalidatedData,n;case Ry.SET_CHALLENGE_ABANDONED:return n.isAbandoned=!0,n;case Ry.SET_CHALLENGE_TIMEOUT:return n.progressWhenTimedOut=t.progress,n;case Ry.HIDE_MODAL_CHALLENGE:return n.isModalVisible=!1,n;case Ry.SHOW_MODAL_CHALLENGE:return n.isModalVisible=!0,n;default:return e}},Fy=(0,Fi.createContext)(null),jy=function(e){var t=e.challengeId,n=e.renderInline,r=e.artifacts,a=e.eventService,i=e.metricsService,o=e.requestService,u=e.translate,l=e.onChallengeDisplayed,c=e.onChallengeCompleted,s=e.onChallengeInvalidated,d=e.onModalChallengeAbandoned,f=e.children,p=(0,Fi.useState)((function(){return function(e){return{Description:{VerificationError:e("Description.VerificationError"),VerificationSuccess:e("Description.VerificationSuccess"),VerifyingYouAreNotBot:e("Description.VerifyingYouAreNotBot")}}}(u)}))[0],h=(0,Fi.useState)((function(){return{challengeId:t,renderInline:n,artifacts:r,resources:p,eventService:a,metricsService:i,requestService:o,onChallengeDisplayed:l,onModalChallengeAbandoned:d,onChallengeCompletedData:null,onChallengeInvalidatedData:null,isModalVisible:!1,isAbandoned:!1,progressWhenTimedOut:null}}))[0],v=(0,Fi.useReducer)(Vy,h),y=v[0],m=v[1];return(0,Fi.useEffect)((function(){null===y.onChallengeCompletedData||null!==y.onChallengeInvalidatedData||y.isAbandoned||null!==y.progressWhenTimedOut||(a.sendChallengeCompletedEvent(),i.fireChallengeCompletedEvent(),c(y.onChallengeCompletedData))}),[a,i,y.onChallengeCompletedData,y.onChallengeInvalidatedData,y.isAbandoned,y.progressWhenTimedOut,c]),(0,Fi.useEffect)((function(){null!==y.onChallengeCompletedData||null===y.onChallengeInvalidatedData||y.isAbandoned||null!==y.progressWhenTimedOut||(a.sendChallengeInvalidatedEvent(),i.fireChallengeInvalidatedEvent(),s(y.onChallengeInvalidatedData))}),[a,i,y.onChallengeCompletedData,y.onChallengeInvalidatedData,y.isAbandoned,y.progressWhenTimedOut,s]),(0,Fi.useEffect)((function(){null===y.onChallengeCompletedData&&null===y.onChallengeInvalidatedData&&y.isAbandoned&&null===y.progressWhenTimedOut&&(a.sendChallengeAbandonedEvent(),i.fireChallengeAbandonedEvent(),null!==d&&d((function(){return m({type:Ry.SHOW_MODAL_CHALLENGE})})))}),[a,i,y.onChallengeCompletedData,y.onChallengeInvalidatedData,y.isAbandoned,y.progressWhenTimedOut,d]),(0,Fi.useEffect)((function(){null!==y.onChallengeCompletedData||null!==y.onChallengeInvalidatedData||y.isAbandoned||null===y.progressWhenTimedOut||(a.sendChallengeTimeoutEvent(y.progressWhenTimedOut),i.fireChallengeTimeoutEvent(),c({redemptionToken:""}))}),[a,i,y.onChallengeCompletedData,y.onChallengeInvalidatedData,y.isAbandoned,y.progressWhenTimedOut,c]),ji().createElement(Fy.Provider,{value:{state:y,dispatch:m}},f)},Wy=function(){var e=(0,Fi.useContext)(Fy);if(null===e)throw new Error("ProofOfSpaceContext was not provided in the current scope");return e},Gy=(null!==(Py=pi.EnvironmentUrls.websiteUrl)&&void 0!==Py?Py:"URL_NOT_FOUND")+"/worker-resources/script/?component=ChallengeWebWorkers",Hy=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},By=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},zy=function(e){return e.toFixed(0)+"%"},qy=function(){var e=Wy(),t=e.state,n=t.challengeId,r=t.artifacts,a=t.renderInline,i=t.resources,o=t.eventService,u=t.metricsService,l=t.requestService,c=t.onChallengeDisplayed,s=t.isModalVisible,d=e.dispatch,f=(0,Fi.useState)(null),p=f[0],h=f[1],v=(0,Fi.useState)(Oy.INITIAL),y=v[0],m=v[1],g=(0,Fi.useState)(0),E=g[0],b=g[1],S=(0,Fi.useRef)(null),C=(0,Fi.useRef)(null),_=(0,Fi.useRef)(null),I=(0,Fi.useRef)(0),T=(0,Fi.useRef)(0),A=(0,Fi.useCallback)((function(){_.current=setTimeout((function(){d({type:Ry.SHOW_MODAL_CHALLENGE}),c({displayed:!0})}),5e3)}),[d,c]),w=function(){clearTimeout(_.current||void 0),S.current&&(S.current.terminate(),S.current=null),C.current&&(C.current.cancelRunAsync(),C.current=null),h(null),m(Oy.INITIAL)},N=function(){return d({type:Ry.HIDE_MODAL_CHALLENGE})},O=function(){d({type:Ry.SET_CHALLENGE_ABANDONED}),w(),N()},L=function(){d({type:Ry.SET_CHALLENGE_TIMEOUT,progress:I.current}),w(),N()},D=function(){1!==I.current&&(I.current<T.current+.33?L():(T.current=I.current,setTimeout(D,Ly)))},R=function(){w();try{S.current=new Worker(Gy)}catch(e){S.current=null}m(Oy.READY_TO_COMPUTE)},k=function(){return Hy(void 0,void 0,void 0,(function(){return By(this,(function(e){switch(e.label){case 0:switch(y){case Oy.READY_TO_COMPUTE:return[3,1];case Oy.COMPUTING_DONE:return[3,2]}return[3,4];case 1:return o.sendPuzzleInitializedEvent(),u.firePuzzleInitializedEvent(),A(),function(){if(y!==Oy.READY_TO_COMPUTE)return m(Oy.VERIFIED_INCORRECT),d({type:Ry.SET_CHALLENGE_INVALIDATED,onChallengeInvalidatedData:{errorCode:Ev.UNKNOWN,errorMessage:i.Description.VerificationError}}),void N();var e={seed:r.seed,layers:parseInt(r.layers,10),rounds:parseInt(r.rounds,10)};if(null==S.current)return C.current=new Ny(e),m(Oy.COMPUTING),C.current.runAsync((function(e){b(e),I.current=e}),(function(e){h(e),m(Oy.COMPUTING_DONE)}),(function(e){console.error(my,"exception caught in fallback solver:",e),L()})),void setTimeout(D,Ly);m(Oy.COMPUTING),S.current.onmessage=function(e){var t="object"==typeof e.data?e.data:JSON.parse(e.data);if(t.error)return console.error(my,"exception caught in worker:",t.error),void L();b(t.progress),I.current=t.progress,t.answer&&(h(t.answer),m(Oy.COMPUTING_DONE))},S.current.postMessage(JSON.stringify({solverType:wy.GRAPH_PEBBLING_PUZZLE,solverParameters:e})),setTimeout(D,Ly)}(),[3,5];case 2:return o.sendPuzzleCompletedEvent(),u.firePuzzleCompletedEvent(),[4,Hy(void 0,void 0,void 0,(function(){var e;return By(this,(function(t){switch(t.label){case 0:return null==p?[2]:[4,l.proofOfSpace.verifyPuzzle(n,p)];case 1:return(e=t.sent()).isError?(d({type:Ry.SET_CHALLENGE_INVALIDATED,onChallengeInvalidatedData:{errorCode:ky(e.error),errorMessage:i.Description.VerificationError}}),[2]):(e.value.redemptionToken?(m(Oy.VERIFIED_CORRECT),d({type:Ry.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{redemptionToken:e.value.redemptionToken}})):(m(Oy.VERIFIED_INCORRECT),d({type:Ry.SET_CHALLENGE_INVALIDATED,onChallengeInvalidatedData:{errorCode:Ev.ANSWER_INVALID,errorMessage:i.Description.VerificationError}})),[2])}}))}))];case 3:return e.sent(),w(),N(),[3,5];case 4:return[3,5];case 5:return[2]}}))}))};(0,Fi.useEffect)((function(){var e=kl.localStorageService.getLocalStorage(Dy);return n===e?function(){}:(kl.localStorageService.setLocalStorage(Dy,n),o.sendChallengeInitializedEvent(),u.fireChallengeInitializedEvent(),R(),w)}),[]),(0,Fi.useEffect)((function(){k()}),[y]);var P=function(){var e=a?gd:yd.Modal.Body,t=100*(E||0);return ji().createElement(ji().Fragment,null,ji().createElement(e,null,ji().createElement("div",{className:"computation-progress-body"},ji().createElement(yd.ProgressBar,{now:t,label:zy(t),striped:!0}))))};return a?ji().createElement(md,{titleText:i.Description.VerifyingYouAreNotBot},P()):ji().createElement(yd.Modal,{className:"modal-modern modal-modern-challenge-computation-progress",show:s,onHide:O,backdrop:"static"},ji().createElement(Bf,{headerText:i.Description.VerifyingYouAreNotBot,buttonType:jf.CLOSE,buttonAction:O,buttonEnabled:!0,headerInfo:null}),P())},Zy=(0,od.withTranslations)((function(e){var t=e.challengeId,n=e.renderInline,r=e.artifacts,a=e.eventService,i=e.metricsService,o=e.requestService,u=e.translate,l=e.onChallengeDisplayed,c=e.onChallengeCompleted,s=e.onChallengeInvalidated,d=e.onModalChallengeAbandoned;return ji().createElement(jy,{challengeId:t,renderInline:n,artifacts:r,eventService:a,metricsService:i,requestService:o,translate:u,onChallengeDisplayed:l,onChallengeCompleted:c,onChallengeInvalidated:s,onModalChallengeAbandoned:d},ji().createElement(qy,null))}),{common:["CommonUI.Messages"],feature:"Feature.ProofOfSpaceChallenge"}),Ky=function(){function e(e){this.challengeId=e,this.startTime=null}return e.prototype.sendChallengeInitializedEvent=function(){this.startTime=Date.now(),hi().EventStream.SendEventWithTarget(gy,Ey.challengeInitialized,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendPuzzleInitializedEvent=function(){hi().EventStream.SendEventWithTarget(gy,Ey.puzzleInitialized,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendPuzzleCompletedEvent=function(){hi().EventStream.SendEventWithTarget(gy,Ey.puzzleCompleted,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeCompletedEvent=function(){hi().EventStream.SendEventWithTarget(gy,Ey.challengeCompleted,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeInvalidatedEvent=function(){hi().EventStream.SendEventWithTarget(gy,Ey.challengeInvalidated,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeAbandonedEvent=function(){hi().EventStream.SendEventWithTarget(gy,Ey.challengeAbandoned,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeTimeoutEvent=function(e){hi().EventStream.SendEventWithTarget(gy,Ey.challengeTimeout,{challengeId:this.challengeId,timeoutProgress:e,timeoutElapsedTime:null!==this.startTime?Date.now()-this.startTime:0},hi().EventStream.TargetTypes.WWW)},e}(),Yy=function(){function e(e,t){this.appType=e||"unknown",this.requestServiceDefault=t,this.eventTimer=new jd,this.challengeSolveTimeSequenceName=yy+"_"+Sy.challengeSolveTime,this.puzzleWorkingTimeSequenceName=yy+"_"+Sy.puzzleWorkingTime}return e.prototype.fireChallengeInitializedEvent=function(){this.fireEvent(by.challengeInitialized),Wd&&Wd.start(this.challengeSolveTimeSequenceName,this.challengeSolveTimeSequenceName+"_"+this.appType),this.eventTimer.start(this.challengeSolveTimeSequenceName)},e.prototype.firePuzzleInitializedEvent=function(){this.fireEvent(by.puzzleInitialized),Wd&&Wd.start(this.puzzleWorkingTimeSequenceName,this.puzzleWorkingTimeSequenceName+"_"+this.appType),this.eventTimer.start(this.puzzleWorkingTimeSequenceName)},e.prototype.firePuzzleCompletedEvent=function(){this.fireEvent(by.puzzleCompleted),Wd&&Wd.endSuccess(this.puzzleWorkingTimeSequenceName,this.puzzleWorkingTimeSequenceName+"_"+this.appType);var e=this.eventTimer.end(this.puzzleWorkingTimeSequenceName);null!==e&&this.requestServiceDefault.metrics.recordMetric({name:Qc.PuzzleComputeTimePos,value:e,labelValues:{event_type:yy+"_"+by.puzzleCompleted,application_type:this.appType}}).catch((function(){}))},e.prototype.fireChallengeCompletedEvent=function(){this.fireEvent(by.challengeCompleted),Wd&&Wd.endSuccess(this.challengeSolveTimeSequenceName,this.challengeSolveTimeSequenceName+"_"+this.appType),this.fireSolveTimeEvent(by.challengeCompleted)},e.prototype.fireChallengeInvalidatedEvent=function(){this.fireEvent(by.challengeInvalidated),Wd&&Wd.endFailure(this.challengeSolveTimeSequenceName,this.challengeSolveTimeSequenceName+"_"+this.appType),this.fireSolveTimeEvent(by.challengeInvalidated)},e.prototype.fireChallengeAbandonedEvent=function(){this.fireEvent(by.challengeAbandoned),Wd&&Wd.endCancel(this.challengeSolveTimeSequenceName,this.puzzleWorkingTimeSequenceName,this.challengeSolveTimeSequenceName+"_"+this.appType,this.puzzleWorkingTimeSequenceName+"_"+this.appType),this.fireSolveTimeEvent(by.challengeAbandoned)},e.prototype.fireChallengeTimeoutEvent=function(){this.fireEvent(by.challengeTimeout),Wd&&Wd.endFailure(this.challengeSolveTimeSequenceName,this.challengeSolveTimeSequenceName+"_"+this.appType),this.fireSolveTimeEvent(by.challengeTimeout)},e.prototype.fireEvent=function(e){if(Wd){var t=yy+"_"+e;Wd.fireEvent(t,t+"_"+this.appType)}this.requestServiceDefault.metrics.recordMetric({name:Qc.EventPos,value:1,labelValues:{event_type:yy+"_"+e,application_type:this.appType}}).catch((function(){}))},e.prototype.fireSolveTimeEvent=function(e){var t=this.eventTimer.end(this.challengeSolveTimeSequenceName);null!==t&&this.requestServiceDefault.metrics.recordMetric({name:Qc.SolveTimePos,value:t,labelValues:{event_type:yy+"_"+e,application_type:this.appType}}).catch((function(){}))},e}(),Jy=new id,Xy=function(e){var t=e.containerId,n=e.challengeId,r=e.artifacts,a=e.appType,i=e.renderInline,o=e.onChallengeDisplayed,u=e.onChallengeCompleted,l=e.onChallengeInvalidated,c=e.onModalChallengeAbandoned,s=document.getElementById(t);if(null!==s){(0,Wi.unmountComponentAtNode)(s);var d=new Ky(n),f=new Yy(a,Jy);return(0,Wi.render)(ji().createElement(Zy,{challengeId:n,renderInline:i,artifacts:r,eventService:d,metricsService:f,requestService:Jy,onChallengeDisplayed:o,onChallengeCompleted:u,onChallengeInvalidated:l,onModalChallengeAbandoned:c}),s),!0}return!1},Qy="ProofOfWork",$y="accountSecurityChallengeProofOfWorkEvent",em={challengeInitialized:"challengeInitialized",puzzleInitialized:"puzzleInitialized",puzzleCompleted:"puzzleCompleted",challengeCompleted:"challengeCompleted",challengeInvalidated:"challengeInvalidated",challengeAbandoned:"challengeAbandoned",challengeTimeout:"challengeTimeout"},tm={challengeInitialized:"ChallengeInitialized",puzzleInitialized:"PuzzleInitialized",puzzleCompleted:"PuzzleCompleted",challengeCompleted:"ChallengeCompleted",challengeInvalidated:"ChallengeInvalidated",challengeAbandoned:"ChallengeAbandoned",challengeTimeout:"ChallengeTimeout"},nm={puzzleWorkingTime:"PuzzleWorkingTime",challengeSolveTime:"ChallengeSolveTime"},rm=n(724),am=n.n(rm),im=function(){function e(e){this.n=am()(e.N),this.a=am()(e.A),this.t=e.T,this.curBase=this.a,this.curT=0,this.isCancelled=!1}return e.prototype.run=function(e,t){for(var n=Math.max(1,this.t/1e3);!this.isDone();)this.doRepeatedSquaring(n),e(this.progress());t(this.answer())},e.prototype.runAsync=function(e,t,n){var r=this,a=function(){r.doRepeatedSquaring(n||200),e(r.progress()),r.isCancelled||(r.isDone()?t(r.answer()):setTimeout(a,0))};setTimeout(a,0)},e.prototype.cancelRunAsync=function(){this.isCancelled=!0},e.prototype.doRepeatedSquaring=function(e){for(var t=void 0!==e?Math.min(this.t,this.curT+e):this.t;this.curT<t;this.curT+=1)this.curBase=this.curBase.square().mod(this.n)},e.prototype.answer=function(){return this.isDone()?this.curBase.toString():null},e.prototype.progress=function(){return this.curT/this.t},e.prototype.isDone=function(){return this.curT===this.t},e}(),om=function(e){return e===Lu.SESSION_INACTIVE?Sv.SESSION_INVALID:Sv.UNKNOWN};!function(e){e[e.INITIAL=0]="INITIAL",e[e.READY_TO_COMPUTE=1]="READY_TO_COMPUTE",e[e.COMPUTING=2]="COMPUTING",e[e.COMPUTING_DONE=3]="COMPUTING_DONE",e[e.VERIFIED_CORRECT=4]="VERIFIED_CORRECT",e[e.VERIFIED_INCORRECT=5]="VERIFIED_INCORRECT"}(xy||(xy={})),function(e){e[e.SET_CHALLENGE_COMPLETED=0]="SET_CHALLENGE_COMPLETED",e[e.SET_CHALLENGE_INVALIDATED=1]="SET_CHALLENGE_INVALIDATED",e[e.SET_CHALLENGE_ABANDONED=2]="SET_CHALLENGE_ABANDONED",e[e.SET_CHALLENGE_TIMEOUT=3]="SET_CHALLENGE_TIMEOUT",e[e.HIDE_MODAL_CHALLENGE=4]="HIDE_MODAL_CHALLENGE",e[e.SHOW_MODAL_CHALLENGE=5]="SHOW_MODAL_CHALLENGE"}(My||(My={}));var um,lm,cm=function(){return cm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},cm.apply(this,arguments)},sm=function(e,t){var n=cm({},e);switch(t.type){case My.SET_CHALLENGE_COMPLETED:return n.onChallengeCompletedData=t.onChallengeCompletedData,n;case My.SET_CHALLENGE_INVALIDATED:return n.onChallengeInvalidatedData=t.onChallengeInvalidatedData,n;case My.SET_CHALLENGE_ABANDONED:return n.isAbandoned=!0,n;case My.SET_CHALLENGE_TIMEOUT:return n.isTimeout=!0,n;case My.HIDE_MODAL_CHALLENGE:return n.isModalVisible=!1,n;case My.SHOW_MODAL_CHALLENGE:return n.isModalVisible=!0,n;default:return e}},dm=(0,Fi.createContext)(null),fm=function(e){var t=e.sessionId,n=e.renderInline,r=e.eventService,a=e.metricsService,i=e.requestService,o=e.translate,u=e.onChallengeDisplayed,l=e.onChallengeCompleted,c=e.onChallengeInvalidated,s=e.onModalChallengeAbandoned,d=e.children,f=(0,Fi.useState)((function(){return function(e){return{Description:{VerificationError:e("Description.VerificationError"),VerificationSuccess:e("Description.VerificationSuccess"),VerifyingYouAreNotBot:e("Description.VerifyingYouAreNotBot")}}}(o)}))[0],p=(0,Fi.useState)((function(){return{sessionId:t,renderInline:n,resources:f,eventService:r,metricsService:a,requestService:i,onChallengeDisplayed:u,onModalChallengeAbandoned:s,onChallengeCompletedData:null,onChallengeInvalidatedData:null,isModalVisible:!1,isAbandoned:!1,isTimeout:!1}}))[0],h=(0,Fi.useReducer)(sm,p),v=h[0],y=h[1];return(0,Fi.useEffect)((function(){null===v.onChallengeCompletedData||null!==v.onChallengeInvalidatedData||v.isAbandoned||v.isTimeout||(r.sendChallengeCompletedEvent(),a.fireChallengeCompletedEvent(),l(v.onChallengeCompletedData))}),[r,a,v.onChallengeCompletedData,v.onChallengeInvalidatedData,v.isAbandoned,v.isTimeout,l]),(0,Fi.useEffect)((function(){null!==v.onChallengeCompletedData||null===v.onChallengeInvalidatedData||v.isAbandoned||v.isTimeout||(r.sendChallengeInvalidatedEvent(),a.fireChallengeInvalidatedEvent(),c(v.onChallengeInvalidatedData))}),[r,a,v.onChallengeCompletedData,v.onChallengeInvalidatedData,v.isAbandoned,v.isTimeout,c]),(0,Fi.useEffect)((function(){null===v.onChallengeCompletedData&&null===v.onChallengeInvalidatedData&&v.isAbandoned&&!v.isTimeout&&(r.sendChallengeAbandonedEvent(),a.fireChallengeAbandonedEvent(),null!==s&&s((function(){return y({type:My.SHOW_MODAL_CHALLENGE})})))}),[r,a,v.onChallengeCompletedData,v.onChallengeInvalidatedData,v.isAbandoned,c,s]),(0,Fi.useEffect)((function(){null===v.onChallengeCompletedData&&null===v.onChallengeInvalidatedData&&!v.isAbandoned&&v.isTimeout&&(r.sendChallengeTimeoutEvent(),a.fireChallengeTimeoutEvent(),l({redemptionToken:""}))}),[r,a,v.onChallengeCompletedData,v.onChallengeInvalidatedData,v.isAbandoned,v.isTimeout,l]),ji().createElement(dm.Provider,{value:{state:v,dispatch:y}},d)},pm=function(){var e=(0,Fi.useContext)(dm);if(null===e)throw new Error("ProofOfWorkContext was not provided in the current scope");return e},hm=(null!==(um=pi.EnvironmentUrls.websiteUrl)&&void 0!==um?um:"URL_NOT_FOUND")+"/worker-resources/script/?component=ChallengeWebWorkers",vm=1e4,ym="PoWSessionId",mm=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},gm=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Em=function(e){return e.toFixed(0)+"%"},bm=function(){var e=pm(),t=e.state,n=t.sessionId,r=t.renderInline,a=t.resources,i=t.eventService,o=t.metricsService,u=t.requestService,l=t.onChallengeDisplayed,c=t.isModalVisible,s=e.dispatch,d=(0,Fi.useState)(null),f=d[0],p=d[1],h=(0,Fi.useState)(null),v=h[0],y=h[1],m=(0,Fi.useState)(xy.INITIAL),g=m[0],E=m[1],b=(0,Fi.useState)(0),S=b[0],C=b[1],_=(0,Fi.useRef)(null),I=(0,Fi.useRef)(null),T=(0,Fi.useRef)(null),A=(0,Fi.useRef)(0),w=((0,Fi.useRef)(0),(0,Fi.useCallback)((function(){T.current=setTimeout((function(){s({type:My.SHOW_MODAL_CHALLENGE}),l({displayed:!0})}),5e3)}),[s,l])),N=function(){clearTimeout(T.current||void 0),_.current&&(_.current.terminate(),_.current=null),I.current&&(I.current.cancelRunAsync(),I.current=null),p(null),y(null),E(xy.INITIAL)},O=function(){return s({type:My.HIDE_MODAL_CHALLENGE})},L=function(){s({type:My.SET_CHALLENGE_ABANDONED}),N(),O()},D=function(){A.current},R=function(){return mm(void 0,void 0,void 0,(function(){var e;return gm(this,(function(t){switch(t.label){case 0:N();try{_.current=new Worker(hm)}catch(e){_.current=null}return[4,u.proofOfWork.getPuzzle(n)];case 1:return(e=t.sent()).isError?(s({type:My.SET_CHALLENGE_INVALIDATED,onChallengeInvalidatedData:{errorCode:Sv.UNKNOWN,errorMessage:a.Description.VerificationError}}),O(),[2]):(p(e.value.artifacts),E(xy.READY_TO_COMPUTE),[2])}}))}))},k=function(){return mm(void 0,void 0,void 0,(function(){return gm(this,(function(e){switch(e.label){case 0:switch(g){case xy.READY_TO_COMPUTE:return[3,1];case xy.COMPUTING_DONE:return[3,2]}return[3,4];case 1:return i.sendPuzzleInitializedEvent(),o.firePuzzleInitializedEvent(),w(),function(){if(null==f||g!==xy.READY_TO_COMPUTE)return E(xy.VERIFIED_INCORRECT),s({type:My.SET_CHALLENGE_INVALIDATED,onChallengeInvalidatedData:{errorCode:Sv.UNKNOWN,errorMessage:a.Description.VerificationError}}),void O();var e=JSON.parse(f);if(null==_.current)return I.current=new im(e),E(xy.COMPUTING),I.current.runAsync((function(e){C(e),A.current=e}),(function(e){y(e),E(xy.COMPUTING_DONE)})),void setTimeout(D,vm);E(xy.COMPUTING),_.current.onmessage=function(e){var t="object"==typeof e.data?e.data:JSON.parse(e.data);C(t.progress),A.current=t.progress,t.answer&&(y(t.answer),E(xy.COMPUTING_DONE))},_.current.postMessage(JSON.stringify({solverType:wy.TIME_LOCK_PUZZLE,solverParameters:e})),setTimeout(D,vm)}(),[3,5];case 2:return i.sendPuzzleCompletedEvent(),o.firePuzzleCompletedEvent(),[4,mm(void 0,void 0,void 0,(function(){var e;return gm(this,(function(t){switch(t.label){case 0:return null==v?[2]:[4,u.proofOfWork.verifyPuzzle(n,v)];case 1:return(e=t.sent()).isError?(s({type:My.SET_CHALLENGE_INVALIDATED,onChallengeInvalidatedData:{errorCode:om(e.error),errorMessage:a.Description.VerificationError}}),[2]):(e.value.answerCorrect?(E(xy.VERIFIED_CORRECT),s({type:My.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{redemptionToken:e.value.redemptionToken}})):(E(xy.VERIFIED_INCORRECT),s({type:My.SET_CHALLENGE_INVALIDATED,onChallengeInvalidatedData:{errorCode:Sv.ANSWER_INVALID,errorMessage:a.Description.VerificationError}})),[2])}}))}))];case 3:return e.sent(),N(),O(),[3,5];case 4:return[3,5];case 5:return[2]}}))}))};(0,Fi.useEffect)((function(){var e=kl.localStorageService.getLocalStorage(ym);return n===e?function(){}:(kl.localStorageService.setLocalStorage(ym,n),i.sendChallengeInitializedEvent(),o.fireChallengeInitializedEvent(),R(),N)}),[]),(0,Fi.useEffect)((function(){k()}),[g]);var P=function(){var e=r?gd:yd.Modal.Body,t=100*(S||0);return ji().createElement(ji().Fragment,null,ji().createElement(e,null,ji().createElement("div",{className:"computation-progress-body"},ji().createElement(yd.ProgressBar,{now:t,label:Em(t),striped:!0}))))};return r?ji().createElement(md,{titleText:a.Description.VerifyingYouAreNotBot},P()):ji().createElement(yd.Modal,{className:"modal-modern modal-modern-challenge-computation-progress",show:c,onHide:L,backdrop:"static"},ji().createElement(Bf,{headerText:a.Description.VerifyingYouAreNotBot,buttonType:jf.CLOSE,buttonAction:L,buttonEnabled:!0,headerInfo:null}),P())},Sm=(0,od.withTranslations)((function(e){var t=e.sessionId,n=e.renderInline,r=e.eventService,a=e.metricsService,i=e.requestService,o=e.translate,u=e.onChallengeDisplayed,l=e.onChallengeCompleted,c=e.onChallengeInvalidated,s=e.onModalChallengeAbandoned;return ji().createElement(fm,{sessionId:t,renderInline:n,eventService:r,metricsService:a,requestService:i,translate:o,onChallengeDisplayed:u,onChallengeCompleted:l,onChallengeInvalidated:c,onModalChallengeAbandoned:s},ji().createElement(bm,null))}),{common:["CommonUI.Messages"],feature:"Feature.ProofOfWorkChallenge"}),Cm=function(){function e(e){this.sessionId=e}return e.prototype.sendChallengeInitializedEvent=function(){hi().EventStream.SendEventWithTarget($y,em.challengeInitialized,{sessionId:this.sessionId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendPuzzleInitializedEvent=function(){hi().EventStream.SendEventWithTarget($y,em.puzzleInitialized,{sessionId:this.sessionId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendPuzzleCompletedEvent=function(){hi().EventStream.SendEventWithTarget($y,em.puzzleCompleted,{sessionId:this.sessionId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeCompletedEvent=function(){hi().EventStream.SendEventWithTarget($y,em.challengeCompleted,{sessionId:this.sessionId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeInvalidatedEvent=function(){hi().EventStream.SendEventWithTarget($y,em.challengeInvalidated,{sessionId:this.sessionId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeAbandonedEvent=function(){hi().EventStream.SendEventWithTarget($y,em.challengeAbandoned,{sessionId:this.sessionId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeTimeoutEvent=function(){hi().EventStream.SendEventWithTarget($y,em.challengeTimeout,{sessionId:this.sessionId},hi().EventStream.TargetTypes.WWW)},e}(),_m=function(){function e(e,t){this.appType=e||"unknown",this.requestServiceDefault=t,this.eventTimer=new jd,this.challengeSolveTimeSequenceName=Qy+"_"+nm.challengeSolveTime,this.puzzleWorkingTimeSequenceName=Qy+"_"+nm.puzzleWorkingTime}return e.prototype.fireChallengeInitializedEvent=function(){this.fireEvent(tm.challengeInitialized),Wd&&Wd.start(this.challengeSolveTimeSequenceName,this.challengeSolveTimeSequenceName+"_"+this.appType),this.eventTimer.start(this.challengeSolveTimeSequenceName)},e.prototype.firePuzzleInitializedEvent=function(){this.fireEvent(tm.puzzleInitialized),Wd&&Wd.start(this.puzzleWorkingTimeSequenceName,this.puzzleWorkingTimeSequenceName+"_"+this.appType),this.eventTimer.start(this.puzzleWorkingTimeSequenceName)},e.prototype.firePuzzleCompletedEvent=function(){this.fireEvent(tm.puzzleCompleted),Wd&&Wd.endSuccess(this.puzzleWorkingTimeSequenceName,this.puzzleWorkingTimeSequenceName+"_"+this.appType);var e=this.eventTimer.end(this.puzzleWorkingTimeSequenceName);null!==e&&this.requestServiceDefault.metrics.recordMetric({name:Qc.PuzzleComputeTimePow,value:e,labelValues:{event_type:Qy+"_"+tm.puzzleCompleted,application_type:this.appType}}).catch((function(){}))},e.prototype.fireChallengeCompletedEvent=function(){this.fireEvent(tm.challengeCompleted),Wd&&Wd.endSuccess(this.challengeSolveTimeSequenceName,this.challengeSolveTimeSequenceName+"_"+this.appType),this.fireSolveTimeEvent(tm.challengeCompleted)},e.prototype.fireChallengeInvalidatedEvent=function(){this.fireEvent(tm.challengeInvalidated),Wd&&Wd.endFailure(this.challengeSolveTimeSequenceName,this.challengeSolveTimeSequenceName+"_"+this.appType),this.fireSolveTimeEvent(tm.challengeInvalidated)},e.prototype.fireChallengeAbandonedEvent=function(){this.fireEvent(tm.challengeAbandoned),Wd&&Wd.endCancel(this.challengeSolveTimeSequenceName,this.puzzleWorkingTimeSequenceName,this.challengeSolveTimeSequenceName+"_"+this.appType,this.puzzleWorkingTimeSequenceName+"_"+this.appType),this.fireSolveTimeEvent(tm.challengeAbandoned)},e.prototype.fireChallengeTimeoutEvent=function(){this.fireEvent(tm.challengeTimeout),Wd&&Wd.endFailure(this.challengeSolveTimeSequenceName,this.challengeSolveTimeSequenceName+"_"+this.appType),this.fireSolveTimeEvent(tm.challengeTimeout)},e.prototype.fireEvent=function(e){if(Wd){var t=Qy+"_"+e;Wd.fireEvent(t,t+"_"+this.appType)}this.requestServiceDefault.metrics.recordMetric({name:Qc.EventPow,value:1,labelValues:{event_type:Qy+"_"+e,application_type:this.appType}}).catch((function(){}))},e.prototype.fireSolveTimeEvent=function(e){var t=this.eventTimer.end(this.challengeSolveTimeSequenceName);null!==t&&this.requestServiceDefault.metrics.recordMetric({name:Qc.SolveTimePow,value:t,labelValues:{event_type:Qy+"_"+e,application_type:this.appType}}).catch((function(){}))},e}(),Im=new id,Tm=function(e){var t=e.containerId,n=e.sessionId,r=e.appType,a=e.renderInline,i=e.onChallengeDisplayed,o=e.onChallengeCompleted,u=e.onChallengeInvalidated,l=e.onModalChallengeAbandoned,c=document.getElementById(t);if(null!==c){(0,Wi.unmountComponentAtNode)(c);var s=new Cm(n),d=new _m(r,Im);return(0,Wi.render)(ji().createElement(Sm,{sessionId:n,renderInline:a,eventService:s,metricsService:d,requestService:Im,onChallengeDisplayed:i,onChallengeCompleted:o,onChallengeInvalidated:u,onModalChallengeAbandoned:l}),c),!0}return!1},Am="Rostile",wm="accountSecurityChallengeRostileEvent",Nm={challengeInitialized:"challengeInitialized",challengeCompleted:"challengeCompleted",challengeInvalidated:"challengeInvalidated",challengeAbandoned:"challengeAbandoned"},Om={challengeInitialized:"ChallengeInitialized",challengeCompleted:"ChallengeCompleted",challengeInvalidated:"ChallengeInvalidated",challengeAbandoned:"ChallengeAbandoned"},Lm={challengeSolveTime:"ChallengeSolveTime"},Dm=function(e){return new Promise((function(t){return setTimeout((function(){return t(void 0)}),e)}))},Rm="RostileChallengeId";!function(e){e[e.INITIAL=0]="INITIAL",e[e.COMPLETED_UNRESOLVED=1]="COMPLETED_UNRESOLVED",e[e.COMPLETED_SUCCESS=2]="COMPLETED_SUCCESS",e[e.COMPLETED_ERROR=3]="COMPLETED_ERROR"}(lm||(lm={}));var km,Pm=function(e){return e===Vu.INVALID_SESSION?Cv.INVALID_SESSION:Cv.UNKNOWN};!function(e){e[e.SET_CHALLENGE_COMPLETED=0]="SET_CHALLENGE_COMPLETED",e[e.SET_CHALLENGE_INVALIDATED=1]="SET_CHALLENGE_INVALIDATED",e[e.SET_CHALLENGE_ABANDONED=2]="SET_CHALLENGE_ABANDONED",e[e.HIDE_MODAL_CHALLENGE=3]="HIDE_MODAL_CHALLENGE",e[e.SHOW_MODAL_CHALLENGE=4]="SHOW_MODAL_CHALLENGE"}(km||(km={}));var xm,Mm=function(){return Mm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Mm.apply(this,arguments)},Um=function(e,t){var n=Mm({},e);switch(t.type){case km.SET_CHALLENGE_COMPLETED:return n.onChallengeCompletedData=t.onChallengeCompletedData,n;case km.SET_CHALLENGE_INVALIDATED:return n.onChallengeInvalidatedData=t.onChallengeInvalidatedData,n;case km.SET_CHALLENGE_ABANDONED:return n.isAbandoned=!0,n;case km.HIDE_MODAL_CHALLENGE:return n.isModalVisible=!1,n;case km.SHOW_MODAL_CHALLENGE:return n.isModalVisible=!0,n;default:return e}},Vm=(0,Fi.createContext)(null),Fm=function(e){var t=e.challengeId,n=e.puzzleType,r=e.renderInline,a=e.eventService,i=e.metricsService,o=e.requestService,u=e.translate,l=e.onChallengeDisplayed,c=e.onChallengeCompleted,s=e.onChallengeInvalidated,d=e.onModalChallengeAbandoned,f=e.children,p=(0,Fi.useState)((function(){return function(e){return{Description:{VerificationError:e("Description.VerificationError"),VerificationSuccess:e("Description.VerificationSuccess"),VerificationPrompt:e("Description.VerificationPrompt"),VerificationHeader:e("Description.VerificationHeader"),VerificationErrorHeader:e("Description.VerificationErrorHeader"),ImAHuman:e("Description.ImAHuman"),Ok:e("Description.Ok")}}}(u)}))[0],h=(0,Fi.useState)((function(){return{challengeId:t,puzzleType:n,renderInline:r,resources:p,eventService:a,metricsService:i,requestService:o,onChallengeDisplayed:l,onModalChallengeAbandoned:d,onChallengeCompletedData:null,onChallengeInvalidatedData:null,isAbandoned:!1,isModalVisible:!1}}))[0],v=(0,Fi.useReducer)(Um,h),y=v[0],m=v[1];return(0,Fi.useEffect)((function(){null!==y.onChallengeCompletedData&&null===y.onChallengeInvalidatedData&&(a.sendChallengeCompletedEvent(),i.fireChallengeCompletedEvent(),c(y.onChallengeCompletedData))}),[a,i,y.onChallengeCompletedData,y.onChallengeInvalidatedData,c]),(0,Fi.useEffect)((function(){y.isAbandoned||null===y.onChallengeInvalidatedData||null!==y.onChallengeCompletedData||(a.sendChallengeInvalidatedEvent(),i.fireChallengeInvalidatedEvent(),s(y.onChallengeInvalidatedData))}),[a,i,y.onChallengeCompletedData,y.onChallengeInvalidatedData,s,y.isAbandoned]),(0,Fi.useEffect)((function(){y.isAbandoned&&null===y.onChallengeCompletedData&&null===y.onChallengeInvalidatedData&&(a.sendChallengeAbandonedEvent(),i.fireChallengeAbandonedEvent(),null!==d&&d((function(){return m({type:km.SHOW_MODAL_CHALLENGE})})))}),[a,i,y.onChallengeCompletedData,y.onChallengeInvalidatedData,y.isAbandoned,s,d]),ji().createElement(Vm.Provider,{value:{state:y,dispatch:m}},f)},jm=function(){var e=(0,Fi.useContext)(Vm);if(null===e)throw new Error("RostileContext was not provided in the current scope");return e},Wm=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},Gm=function(){var e=jm().state.puzzleType,t=(0,Fi.useRef)([]);return(0,Fi.useEffect)((function(){var e,n=(e=0,function(n){n.timeStamp-e>20&&(t.current=Wm(Wm([],t.current.slice(-99)),[{x:n.clientX,y:n.clientY,timestamp:n.timeStamp}]),e=n.timeStamp)});return window.addEventListener("mousemove",n),function(){window.removeEventListener("mousemove",n)}}),[e]),t},Hm=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},Bm=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},zm=function(e){var t=e.answerState,n=e.checkAnswer,r=jm(),a=r.state,i=a.isModalVisible,o=a.renderInline,u=a.resources,l=r.dispatch,c=(0,Fi.useState)(!1),s=c[0],d=c[1],f=(0,Fi.useRef)(null),p=(0,Fi.useState)(null),h=p[0],v=p[1],y=(0,Fi.useState)(null),m=y[0],g=y[1],E=Gm(),b=function(){l({type:km.HIDE_MODAL_CHALLENGE})},S=function(){var e=window.matchMedia;return!!e&&e("(pointer:coarse)").matches},C=function(e){return Hm(void 0,void 0,void 0,(function(){var t,r,a,i,o;return Bm(this,(function(u){switch(u.label){case 0:return e.preventDefault(),t=performance.now(),r={width:window.screen.width,height:window.screen.height},a={width:window.innerWidth,height:window.innerHeight},f.current?(i=f.current.getBoundingClientRect(),o={x:i.x,y:i.y,width:i.width,height:i.height},null==h||null==m?[3,2]:(d(!0),[4,Dm(200)])):[2];case 1:u.sent(),n({buttonClicked:!0,click:{x:e.clientX,y:e.clientY,timestamp:e.timeStamp,duration:e.timeStamp-m},completionTime:t-h,mouseMovements:E.current,screenSize:r,buttonLocation:o,windowSize:a,isMobile:S()}).then((function(){return d(!1)}),(function(){return d(!1)})),u.label=2;case 2:return[2]}}))}))},_=function(e){g(e.timeStamp)};(0,Fi.useEffect)((function(){i&&v(performance.now())}),[i]);return ji().createElement("div",{className:"rostile-visible-puzzle"},function(){if(s)return ji().createElement(yd.Loading,null);switch(t){case lm.INITIAL:return ji().createElement(ji().Fragment,null,ji().createElement("span",null,u.Description.VerificationPrompt),ji().createElement("br",null),ji().createElement("span",{ref:f},ji().createElement(yd.Button,{className:"rostile-verify-button",onClick:C,onMouseDown:_},u.Description.ImAHuman)));case lm.COMPLETED_UNRESOLVED:return ji().createElement(yd.Loading,null);case lm.COMPLETED_SUCCESS:return ji().createElement(ji().Fragment,null,ji().createElement("div",{className:"icon-checkmark"}),ji().createElement("br",null),ji().createElement("span",null,u.Description.VerificationSuccess));case lm.COMPLETED_ERROR:return ji().createElement(ji().Fragment,null,ji().createElement("span",null,u.Description.VerificationError),ji().createElement("br",null),!o&&ji().createElement(yd.Button,{className:"rostile-verify-button",onClick:b},u.Description.Ok));default:return null}}())},qm=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},Zm=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Km=function(){var e=jm(),t=e.state,n=t.challengeId,r=t.puzzleType,a=t.renderInline,i=t.resources,o=t.requestService,u=t.eventService,l=t.metricsService,c=t.onChallengeDisplayed,s=t.isModalVisible,d=e.dispatch,f=(0,Fi.useState)(lm.INITIAL),p=f[0],h=f[1],v=function(){d({type:km.HIDE_MODAL_CHALLENGE})},y=function(){h(lm.INITIAL),d({type:km.SET_CHALLENGE_ABANDONED}),v()},m=function(e,t){return void 0===t&&(t=!1),qm(void 0,void 0,Promise,(function(){var r;return Zm(this,(function(a){switch(a.label){case 0:return h(lm.COMPLETED_UNRESOLVED),[4,o.rostile.verifyPuzzle(n,e)];case 1:if((r=a.sent()).isError){if(r.error!==Vu.INVALID_SESSION&&!t)return[2,m(e,!0)];h(lm.COMPLETED_ERROR),d({type:km.SET_CHALLENGE_INVALIDATED,onChallengeInvalidatedData:{errorCode:Pm(r.error),errorMessage:i.Description.VerificationError}})}else h(lm.COMPLETED_SUCCESS),d({type:km.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{redemptionToken:r.value.redemptionToken}}),setTimeout((function(){return s&&v()}),2e3);return[2,void 0]}}))}))};(0,Fi.useEffect)((function(){var e=kl.localStorageService.getLocalStorage(Rm);if(n!==e)switch(kl.localStorageService.setLocalStorage(Rm,n),u.sendChallengeInitializedEvent(),l.fireChallengeInitializedEvent(),r){case _v.VISIBLE:d({type:km.SHOW_MODAL_CHALLENGE}),c({displayed:!0});break;case _v.INVISIBLE:qm(void 0,void 0,void 0,(function(){return Zm(this,(function(e){switch(e.label){case 0:return[4,m({})];case 1:return e.sent(),[2]}}))})).then((function(){}),(function(){}));break;default:d({type:km.SET_CHALLENGE_INVALIDATED,onChallengeInvalidatedData:{errorCode:Cv.UNKNOWN,errorMessage:i.Description.VerificationError}}),s&&v()}}),[d,c,r]);var g=function(){var e=a?gd:yd.Modal.Body;switch(r){case _v.VISIBLE:return ji().createElement(ji().Fragment,null,ji().createElement(e,null,ji().createElement(zm,{answerState:p,checkAnswer:m})));case _v.INVISIBLE:default:return null}};return a?ji().createElement(md,{titleText:p!==lm.COMPLETED_ERROR?i.Description.VerificationHeader:i.Description.VerificationErrorHeader},g()):ji().createElement(yd.Modal,{className:"modal-modern modal-modern-challenge-rostile",show:s,onHide:p===lm.COMPLETED_ERROR?v:y,backdrop:"static"},ji().createElement(Bf,{headerText:p!==lm.COMPLETED_ERROR?i.Description.VerificationHeader:i.Description.VerificationErrorHeader,buttonType:p===lm.COMPLETED_ERROR?jf.HIDDEN:jf.CLOSE,buttonAction:y,buttonEnabled:p!==lm.COMPLETED_ERROR,headerInfo:null}),g())},Ym=(0,od.withTranslations)((function(e){var t=e.challengeId,n=e.puzzleType,r=e.renderInline,a=e.eventService,i=e.metricsService,o=e.requestService,u=e.translate,l=e.onChallengeDisplayed,c=e.onChallengeCompleted,s=e.onChallengeInvalidated,d=e.onModalChallengeAbandoned;return ji().createElement(Fm,{challengeId:t,puzzleType:n,renderInline:r,eventService:a,metricsService:i,requestService:o,translate:u,onChallengeDisplayed:l,onChallengeCompleted:c,onChallengeInvalidated:s,onModalChallengeAbandoned:d},ji().createElement(Km,null))}),{common:["CommonUI.Messages"],feature:"Feature.RostileChallenge"}),Jm=function(){function e(e){this.challengeId=e}return e.prototype.sendChallengeInitializedEvent=function(){hi().EventStream.SendEventWithTarget(wm,Nm.challengeInitialized,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeCompletedEvent=function(){hi().EventStream.SendEventWithTarget(wm,Nm.challengeCompleted,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeInvalidatedEvent=function(){hi().EventStream.SendEventWithTarget(wm,Nm.challengeInvalidated,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeAbandonedEvent=function(){hi().EventStream.SendEventWithTarget(wm,Nm.challengeAbandoned,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e}(),Xm=function(e){switch(e){case _v.VISIBLE:return"Visible";case _v.INVISIBLE:return"Invisible";case _v.INVALID:default:return"Invalid"}},Qm=function(){function e(e,t,n){this.appType=e||"unknown",this.puzzleType=t||_v.INVALID,this.requestServiceDefault=n,this.eventTimer=new jd,this.challengeSolveTimeSequenceName=Am+"_"+Lm.challengeSolveTime}return e.prototype.fireChallengeInitializedEvent=function(){this.fireEvent(Om.challengeInitialized),this.eventTimer.start(this.challengeSolveTimeSequenceName)},e.prototype.fireChallengeCompletedEvent=function(){this.fireEvent(Om.challengeCompleted),this.fireSolveTimeEvent(Om.challengeCompleted)},e.prototype.fireChallengeInvalidatedEvent=function(){this.fireEvent(Om.challengeInvalidated),this.fireSolveTimeEvent(Om.challengeInvalidated)},e.prototype.fireChallengeAbandonedEvent=function(){this.fireEvent(Om.challengeAbandoned),this.fireSolveTimeEvent(Om.challengeAbandoned)},e.prototype.fireEvent=function(e){this.requestServiceDefault.metrics.recordMetric({name:Qc.EventRostile,value:1,labelValues:{event_type:Am+"_"+e,application_type:this.appType,puzzle_type:Xm(this.puzzleType)}}).catch((function(){}))},e.prototype.fireSolveTimeEvent=function(e){var t=this.eventTimer.end(this.challengeSolveTimeSequenceName);null!==t&&this.requestServiceDefault.metrics.recordMetric({name:Qc.SolveTimeRostile,value:t,labelValues:{event_type:Am+"_"+e,application_type:this.appType,puzzle_type:Xm(this.puzzleType)}}).catch((function(){}))},e}(),$m=new id,eg=function(e){var t=e.containerId,n=e.challengeId,r=e.puzzleType,a=e.appType,i=e.renderInline,o=e.onChallengeDisplayed,u=e.onChallengeCompleted,l=e.onChallengeInvalidated,c=e.onModalChallengeAbandoned,s=document.getElementById(t);if(null!==s){(0,Wi.unmountComponentAtNode)(s);var d=new Jm(n),f=new Qm(a,r,$m);return(0,Wi.render)(ji().createElement(Ym,{challengeId:n,puzzleType:r,renderInline:i,eventService:d,metricsService:f,requestService:$m,onChallengeDisplayed:o,onChallengeCompleted:u,onChallengeInvalidated:l,onModalChallengeAbandoned:c}),s),!0}return!1},tg="securityQuestionsEvent",ng={answerChoicesFailedToLoad:"answerChoicesFailedToLoad"},rg={initialized:"Initialized",errored:"Errored",solved:"Solved",incorrect:"Incorrect",failed:"Failed"},ag=function(e,t){switch(t){case Iv.USER_WAS_FORCE_RESET:return e.Message.Error.SecurityQuestions.UserWasForceReset;case Iv.SESSION_EXPIRED:return e.Message.Error.SecurityQuestions.SessionInactive;default:return e.Message.Error.Default}},ig=function(e,t){return t===Zu.SESSION_INACTIVE?e.Message.Error.SecurityQuestions.SessionInactive:e.Message.Error.Default},og=function(e){return e===Zu.SESSION_INACTIVE?Iv.SESSION_EXPIRED:Iv.UNKNOWN};!function(e){e[e.SET_CHALLENGE_COMPLETED=0]="SET_CHALLENGE_COMPLETED",e[e.SET_CHALLENGE_INVALIDATED=1]="SET_CHALLENGE_INVALIDATED",e[e.HIDE_MODAL_CHALLENGE=2]="HIDE_MODAL_CHALLENGE",e[e.SHOW_MODAL_CHALLENGE=3]="SHOW_MODAL_CHALLENGE"}(xm||(xm={}));var ug,lg=function(){return lg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},lg.apply(this,arguments)},cg=function(e,t){var n=lg({},e);switch(t.type){case xm.SET_CHALLENGE_COMPLETED:return n.onChallengeCompletedData=t.onChallengeCompletedData,n.isModalVisible=!1,n;case xm.SET_CHALLENGE_INVALIDATED:return n.onChallengeInvalidatedData={errorCode:t.errorCode,errorMessage:ag(e.resources,t.errorCode)},n.isModalVisible=!1,n;case xm.HIDE_MODAL_CHALLENGE:return n.isModalVisible=!1,n;case xm.SHOW_MODAL_CHALLENGE:return n.isModalVisible=!0,n;default:return e}},sg=(0,Fi.createContext)(null),dg=function(e){var t=e.userId,n=e.sessionId,r=e.renderInline,a=e.eventService,i=e.metricsService,o=e.requestService,u=e.translate,l=e.onChallengeCompleted,c=e.onChallengeInvalidated,s=e.onModalChallengeAbandoned,d=e.children,f=(0,Fi.useState)((function(){return function(e){return{Action:{Confirm:e("Action.Confirm"),Continue:e("Action.Continue"),Ok:e("Action.OK"),PickN:function(t){return e("Action.PickN",{count:t})},PleaseTryAgain:e("Action.PleaseTryAgain"),Reload:e("Action.Reload"),SelectAllThatApply:e("Action.SelectAllThatApply")},Description:{RegainAccessGeneric:function(t){return e("Description.RegainAccessGeneric",{styledLinkText:t})},UnknownChoice:e("Description.UnknownChoice"),VerifyYourIdentity:e("Description.VerifyYourIdentity"),WhichGames:e("Description.WhichGames",{days:7}),YourPasswordHasBeenReset:e("Description.YourPasswordHasBeenReset")},Header:{PleaseConfirmYourIdentity:e("Header.PleaseConfirmYourIdentity")},Message:{Error:{AnswerIncorrect:e("Message.Error.AnswerIncorrect"),Default:e("Message.Error.Default"),MustPickN:e("Message.Error.MustPickN"),SecurityQuestions:{SessionInactive:e("Message.Error.SecurityQuestions.SessionInactive"),UserWasForceReset:e("Message.Error.SecurityQuestions.UserWasForceReset")}}}}}(u)}))[0],p=(0,Fi.useState)((function(){return{userId:t,sessionId:n,renderInline:r,resources:f,eventService:a,metricsService:i,requestService:o,onModalChallengeAbandoned:s,onChallengeCompletedData:null,onChallengeInvalidatedData:null,isModalVisible:!0}}))[0],h=(0,Fi.useReducer)(cg,p),v=h[0],y=h[1];return(0,Fi.useEffect)((function(){null!==v.onChallengeCompletedData&&null===v.onChallengeInvalidatedData&&l(v.onChallengeCompletedData)}),[v.onChallengeCompletedData,v.onChallengeInvalidatedData,l]),(0,Fi.useEffect)((function(){null!==v.onChallengeInvalidatedData&&null===v.onChallengeCompletedData&&c(v.onChallengeInvalidatedData)}),[v.onChallengeCompletedData,v.onChallengeInvalidatedData,c]),ji().createElement(sg.Provider,{value:{state:v,dispatch:y}},d)},fg=function(){var e=(0,Fi.useContext)(sg);if(null===e)throw new Error("SecurityQuestionsContext was not provided in the current scope");return e},pg=function(e){var t=e.setSelected,n=e.caption,r=e.imageUrl,a=e.selected,i=fg().state.resources,o="answer-choice-image"+(a?" answer-choice-selected":""),u=n||i.Description.UnknownChoice,l=function(){return t(!a)};return ji().createElement("div",{className:"answer-choice"},ji().createElement("div",{className:o,role:"checkbox","aria-checked":a,onClick:function(e){l(),e.currentTarget.blur()},onKeyDown:function(e){"Enter"===e.key&&l()},tabIndex:0},null!==r?ji().createElement("img",{src:r,alt:u}):ji().createElement("div",{className:"answer-choice-img-placeholder"},u)),ji().createElement("div",{className:"answer-choice-caption xsmall"},u))},hg=function(){return hg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},hg.apply(this,arguments)},vg=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},yg=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},mg=function(){var e,t=fg(),n=t.state,r=n.userId,a=n.sessionId,i=n.renderInline,o=n.resources,u=n.eventService,l=n.metricsService,c=n.requestService,s=n.onModalChallengeAbandoned,d=n.isModalVisible,f=t.dispatch,p=(0,Fi.useState)(),h=p[0],v=p[1],y=(0,Fi.useState)(null),m=y[0],g=y[1],E=(0,Fi.useState)(null),b=E[0],S=E[1],C=(0,Fi.useState)(null),_=C[0],I=C[1],T=(0,Fi.useState)(!1),A=T[0],w=T[1],N=(0,Fi.useState)(null),O=N[0],L=N[1],D=(0,Fi.useState)(!1),R=D[0],k=D[1],P=(0,Fi.useState)(!1),x=P[0],M=P[1],U=function(){v(null),g(null),S(null)},V=function(){f({type:xm.HIDE_MODAL_CHALLENGE}),null!==s&&s((function(){return f({type:xm.SHOW_MODAL_CHALLENGE})}))},F=function(e){return function(t){var n;null!==b&&void 0!==b[e]&&S(hg(hg({},b),((n={})[e]=hg(hg({},b[e]),{selected:t}),n)))}};e=function(){return vg(void 0,void 0,void 0,(function(){var e,t,n,i,l,s,d,p,h;return yg(this,(function(y){switch(y.label){case 0:return I(null),[4,c.securityQuestions.getQuestion(r,a)];case 1:return(e=y.sent()).isError?(e.error===Zu.SESSION_INACTIVE?f({type:xm.SET_CHALLENGE_INVALIDATED,errorCode:og(e.error)}):I(ig(o,e.error)+" "+o.Action.PleaseTryAgain),[2]):(v(e.value.questionType),e.value.answerPrompt===Yu.PICK_ALL_CORRECT_CHOICES?g({answerPrompt:Yu.PICK_ALL_CORRECT_CHOICES}):g({answerPrompt:Yu.PICK_C_CORRECT_CHOICES,correctAnswerChoiceCount:e.value.correctAnswerChoiceCount}),t={},n=e.value.answerChoices,i=new Set(n),l=new Set(n),[4,c.games.getDetailsForUniverseIds(n)]);case 2:return(s=y.sent()).isError?(I(function(e){return e.Message.Error.Default}(o,s.error)+" "+o.Action.PleaseTryAgain),[2]):(d={},s.value.data.forEach((function(e){d[e.id]=e.name,i.delete(e.id.toString())})),[4,c.thumbnails.getIconsForUniverseIds(n,"256x256",yl.PNG,!1)]);case 3:return(p=y.sent()).isError?(I(function(e){return e.Message.Error.Default}(o,p.error)+" "+o.Action.PleaseTryAgain),[2]):(h={},p.value.data.forEach((function(e){e.state===ml.COMPLETED&&(h[e.targetId]=e.imageUrl,l.delete(e.targetId.toString()))})),n.forEach((function(e){t[e]={caption:d[e]||null,imageUrl:h[e]||null,selected:!1}})),S(t),(i.size>0||l.size>0)&&u.sendAnswerChoicesFailedToLoadEvent(Array.from(i),Array.from(l)),[2])}}))}))},(0,Fi.useEffect)((function(){return e(),function(){U()}}),[]);var j=null!==b?Object.entries(b).filter((function(e){return e[1].selected})).length:0,W=null!==m&&(m.answerPrompt===Yu.PICK_ALL_CORRECT_CHOICES||m.correctAnswerChoiceCount===j),G={content:A?ji().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):o.Action.Confirm,label:o.Action.Confirm,enabled:!A&&W,action:function(){return vg(void 0,void 0,void 0,(function(){var t,n;return yg(this,(function(i){switch(i.label){case 0:return null===b?[2]:(t=Object.entries(b).filter((function(e){return e[1].selected})).map((function(e){return e[0]})),w(!0),[4,c.securityQuestions.answerQuestion(r,t,a)]);case 1:return(n=i.sent()).isError?n.error===Zu.SESSION_INACTIVE?(f({type:xm.SET_CHALLENGE_INVALIDATED,errorCode:og(n.error)}),[2]):(l.fireErroredEvent(),L(ig(o,n.error)+" "+o.Action.PleaseTryAgain),w(!1),[2]):(L(null),n.value.answerCorrect?(l.fireSolvedEvent(),f({type:xm.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{redemptionToken:n.value.redemptionToken}}),[3,6]):[3,2]);case 2:return n.value.shouldRequestNewQuestion?(l.fireIncorrectEvent(),U(),[4,Dm(250)]):[3,5];case 3:return i.sent(),k(!0),[4,e()];case 4:return i.sent(),w(!1),[3,6];case 5:n.value.userWasForceReset?(l.fireFailedEvent(),M(!0)):(l.fireErroredEvent(),l.fireFailedEvent(),f({type:xm.SET_CHALLENGE_INVALIDATED,errorCode:Iv.UNKNOWN})),i.label=6;case 6:return[2]}}))}))}},H={content:o.Action.Reload,label:o.Action.Reload,enabled:null!==_,action:e},B={content:o.Action.Continue,label:o.Action.Continue,enabled:!0,action:function(){window.location.href=pi.Endpoints.getAbsoluteUrl("/login/securityNotification")}},z=function(){var e=i?gd:yd.Modal.Body,t=i?Wf:Gf,n=i?"inline-challenge-lock-icon":"modal-lock-icon",r=i?"inline-challenge-margin-bottom-sm":"modal-margin-bottom-sm",a=i?"inline-challenge-margin-bottom":"modal-margin-bottom",u=i?"inline-challenge-margin-bottom-xlarge":"modal-margin-bottom-xlarge";if(x)return ji().createElement(ji().Fragment,null,ji().createElement(e,null,ji().createElement("div",{className:n}),ji().createElement("p",{className:a+" font-bold"},o.Description.YourPasswordHasBeenReset),ji().createElement("p",{dangerouslySetInnerHTML:{__html:o.Description.RegainAccessGeneric('<span class="font-bold">'+o.Action.Continue+"</span>")}})),ji().createElement(t,{positiveButton:B,negativeButton:null}));if(null!==_)return ji().createElement(ji().Fragment,null,ji().createElement(e,null,ji().createElement("p",null,_)),ji().createElement(t,{positiveButton:H,negativeButton:null}));if(null===h||null===m||null===b)return ji().createElement(e,null,ji().createElement("span",{className:"spinner spinner-default spinner-no-margin modal-margin-bottom-large"}));var l=Object.keys(b).length%3==1;return ji().createElement(ji().Fragment,null,ji().createElement(e,null,ji().createElement("div",{className:n}),ji().createElement("p",{className:r},o.Description.WhichGames),ji().createElement("p",{className:u+" font-bold"},m.answerPrompt===Yu.PICK_ALL_CORRECT_CHOICES?o.Action.SelectAllThatApply:o.Action.PickN(m.correctAnswerChoiceCount)),ji().createElement("p",{className:(R?r:u)+" small"},o.Description.VerifyYourIdentity),R&&ji().createElement("p",{className:u+" text-error"},o.Message.Error.AnswerIncorrect," ",o.Action.PleaseTryAgain),ji().createElement("div",{className:u+" answer-choice-area"},Object.keys(b).map((function(e,t){return ji().createElement(ji().Fragment,{key:e},ji().createElement(pg,hg({key:e,setSelected:F(e)},b[e])),l&&t===Object.keys(b).length-3?ji().createElement("br",null):null)}))),ji().createElement("p",{className:"text-error xsmall"},O)),ji().createElement(t,{positiveButton:G,negativeButton:null}))};return i?ji().createElement(md,{titleText:o.Header.PleaseConfirmYourIdentity},z()):ji().createElement(yd.Modal,{className:"modal-modern",show:d,onHide:V,backdrop:"static"},ji().createElement(Bf,{headerText:o.Header.PleaseConfirmYourIdentity,buttonType:x?jf.HIDDEN:jf.CLOSE,buttonAction:V,buttonEnabled:!A,headerInfo:null}),z())},gg=(0,od.withTranslations)((function(e){var t=e.userId,n=e.sessionId,r=e.renderInline,a=e.eventService,i=e.metricsService,o=e.requestService,u=e.translate,l=e.onChallengeCompleted,c=e.onChallengeInvalidated,s=e.onModalChallengeAbandoned;return ji().createElement(dg,{userId:t,sessionId:n,renderInline:r,eventService:a,metricsService:i,requestService:o,translate:u,onChallengeCompleted:l,onChallengeInvalidated:c,onModalChallengeAbandoned:s},ji().createElement(mg,null))}),{common:["CommonUI.Messages"],feature:"Feature.SecurityQuestions"}),Eg=function(){function e(e){this.sessionId=e}return e.prototype.sendAnswerChoicesFailedToLoadEvent=function(e,t){hi().EventStream.SendEventWithTarget(tg,ng.answerChoicesFailedToLoad,{sessionId:this.sessionId,answerChoicesWithNoCaption:JSON.stringify(e),answerChoicesWithNoIcon:JSON.stringify(t)},hi().EventStream.TargetTypes.WWW)},e}(),bg=function(){function e(e){var t=e.appType,n=e.requestServiceDefault;this.appType=t||"unknown",this.requestServiceDefault=n}return e.prototype.fireInitializedEvent=function(){this.requestServiceDefault.metrics.recordMetric({name:Qc.EventSecurityQuestion,value:1,labelValues:{event_type:rg.initialized,application_type:this.appType}}).catch((function(){}))},e.prototype.fireErroredEvent=function(){this.requestServiceDefault.metrics.recordMetric({name:Qc.EventSecurityQuestion,value:1,labelValues:{event_type:rg.errored,application_type:this.appType}}).catch((function(){}))},e.prototype.fireSolvedEvent=function(){this.requestServiceDefault.metrics.recordMetric({name:Qc.EventSecurityQuestion,value:1,labelValues:{event_type:rg.solved,application_type:this.appType}}).catch((function(){}))},e.prototype.fireIncorrectEvent=function(){this.requestServiceDefault.metrics.recordMetric({name:Qc.EventSecurityQuestion,value:1,labelValues:{event_type:rg.incorrect,application_type:this.appType}}).catch((function(){}))},e.prototype.fireFailedEvent=function(){this.requestServiceDefault.metrics.recordMetric({name:Qc.EventSecurityQuestion,value:1,labelValues:{event_type:rg.failed,application_type:this.appType}}).catch((function(){}))},e}(),Sg=new id,Cg=function(e){var t=e.containerId,n=e.userId,r=e.sessionId,a=e.appType,i=e.renderInline,o=e.onChallengeCompleted,u=e.onChallengeInvalidated,l=e.onModalChallengeAbandoned;n=n.toString();var c=document.getElementById(t);if(null!==c){(0,Wi.unmountComponentAtNode)(c);var s=new Eg(r),d=new bg({appType:a,requestServiceDefault:Sg});return(0,Wi.render)(ji().createElement(gg,{userId:n,sessionId:r,renderInline:i,eventService:s,metricsService:d,requestService:Sg,onChallengeCompleted:o,onChallengeInvalidated:u,onModalChallengeAbandoned:l}),c),d.fireInitializedEvent(),!0}return!1},_g=ReactRouterDOM,Ig="TwoStepVerification",Tg=100,Ag="accountSecurityChallengeTwoStepVerificationEvent",wg={challengeInitialized:"challengeInitialized",userConfigurationLoaded:"userConfigurationLoaded",challengeInvalidated:"challengeInvalidated",challengeAbandoned:"challengeAbandoned",emailResendRequested:"emailResendRequested",smsResendRequested:"smsResendRequested",mediaTypeChanged:"mediaTypeChanged",codeSubmitted:"codeSubmitted",codeVerificationFailed:"codeVerificationFailed",codeVerified:"codeVerified",noEnabledMethodsReturned:"noEnabledMethodsReturned",tryToSwitchMediaType:"switchMediaType"},Ng={initialized:"Initialized",verified:"Verified",invalidated:"Invalidated",abandoned:"Abandoned"},Og={solveTime:"SolveTime"},Lg=ReactRouter,Dg=function(e,t){switch(t){case Ll.FEATURE_DISABLED:return e.Response.FeatureNotAvailable;case Ll.INVALID_CODE:return e.Response.InvalidCode;case Ll.TOO_MANY_REQUESTS:return e.Response.TooManyAttempts;case Ll.INVALID_CHALLENGE_ID:return e.Response.SessionExpired;case Ll.AUTHENTICATOR_CODE_ALREADY_USED:return e.Response.AuthenticatorCodeAlreadyUsed;case Ll.INVALID_PASSWORD:return e.Response.InvalidPassword;default:return e.Response.DefaultError}},Rg=function(e){return e===Ll.INVALID_CHALLENGE_ID?wv.SESSION_EXPIRED:wv.UNKNOWN},kg=function(){var e=(0,Lg.useLocation)(),t=(0,Lg.matchPath)(e.pathname,{path:"/:activeMediaType",exact:!0,strict:!1});return(null==t?void 0:t.params)?null==t?void 0:t.params.activeMediaType:null},Pg=function(e){return"/"+(e||"")};!function(e){e[e.SET_METADATA=0]="SET_METADATA",e[e.SET_USER_CONFIGURATION=1]="SET_USER_CONFIGURATION",e[e.SET_CHALLENGE_COMPLETED=2]="SET_CHALLENGE_COMPLETED",e[e.SET_CHALLENGE_INVALIDATED=3]="SET_CHALLENGE_INVALIDATED",e[e.HIDE_MODAL_CHALLENGE=4]="HIDE_MODAL_CHALLENGE",e[e.SHOW_MODAL_CHALLENGE=5]="SHOW_MODAL_CHALLENGE"}(ug||(ug={}));var xg=function(){return xg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},xg.apply(this,arguments)},Mg=function(e,t){var n,r,a=xg({},e);switch(t.type){case ug.SET_METADATA:return a.metadata=t.metadata,a;case ug.SET_USER_CONFIGURATION:return a.userConfiguration=t.userConfiguration,a.enabledMediaTypes=t.enabledMediaTypes,a;case ug.SET_CHALLENGE_COMPLETED:return a.onChallengeCompletedData=t.onChallengeCompletedData,a.isModalVisible=!1,a;case ug.SET_CHALLENGE_INVALIDATED:return a.onChallengeInvalidatedData={errorCode:t.errorCode,errorMessage:(n=e.resources,r=t.errorCode,r===wv.SESSION_EXPIRED?n.Response.SessionExpired:n.Response.DefaultError)},a.isModalVisible=!1,a;case ug.HIDE_MODAL_CHALLENGE:return a.isModalVisible=!1,a;case ug.SHOW_MODAL_CHALLENGE:return a.isModalVisible=!0,a;default:return e}},Ug=(0,Fi.createContext)(null),Vg=function(e){var t=e.userId,n=e.challengeId,r=e.actionType,a=e.renderInline,i=e.shouldShowRememberDeviceCheckbox,o=e.eventService,u=e.metricsService,l=e.requestService,c=e.translate,s=e.onChallengeCompleted,d=e.onChallengeInvalidated,f=e.onModalChallengeAbandoned,p=e.children,h=(0,Fi.useState)((function(){return function(e){return{Action:{ChangeMediaType:e("Action.ChangeMediaType"),Okay:e("Action.Okay"),Reload:e("Action.Reload"),Resend:e("Action.Resend"),Retry:e("Action.Retry"),Verify:e("Action.Verify")},Description:{Denied:e("Description.Denied"),Expired:e("Description.Expired"),LoginDenied:e("Description.LoginDenied"),LoginExpired:e("Description.LoginExpired"),SecurityWarningShort:e("Description.SecurityWarningShort",{boldStart:"",boldEnd:""}),SecurityWarningShortBackupCodes:e("Description.SecurityWarningShortBackupCodes",{boldStart:"",boldEnd:""})},Heading:{LoginDenied:e("Heading.LoginDenied"),LoginError:e("Heading.LoginError")},Label:{ApproveWithDevice:e("Label.ApproveWithDevice"),AuthenticatorMediaType:e("Label.AuthenticatorMediaType"),CrossDeviceMediaType:e("Label.UseYourDevice"),ChooseAlternateMediaType:e("Label.ChooseAlternateMediaType"),CharacterCodeInputPlaceholderText:function(t){return e("Label.CharacterCodeInputPlaceholderText",{codeLength:t})},CodeInputPlaceholderText:function(t){return e("Label.CodeInputPlaceholderText",{codeLength:t})},EmailMediaType:e("Label.EmailMediaType"),EnterAuthenticatorCode:e("Label.EnterAuthenticatorCode"),EnterEmailCode:e("Label.EnterEmailCode"),EnterPassword:e("Label.EnterPassword"),EnterRecoveryCode:e("Label.EnterRecoveryCode"),EnterTextCode:e("Label.EnterTextCode"),LearnMore:e("Label.LearnMore"),HelpCenter:e("Label.HelpCenter"),HelpCenterLink:function(t){return e("Label.HelpCenterLink",{helpCenterLink:t})},NeedHelpContactSupport:function(t){return e("Label.NeedHelpContactSupport",{supportLink:t})},NewLogin:e("Label.NewLogin"),PasskeyDirections:e("Label.PasskeyDirections"),PasskeyMediaType:e("Label.PasskeyMediaType"),PasswordMediaType:e("Label.Password"),PasswordPlaceholder:e("Label.PasswordPlaceholder"),RecoveryCodeMediaType:e("Label.RecoveryCodeMediaType"),RobloxSupport:e("Label.RobloxSupport"),SecurityKeyDirections:e("Label.SecurityKeyDirections"),SecurityKeyMediaType:e("Label.SecurityKeyMediaType"),SmsMediaType:e("Label.SmsMediaType"),TrustThisDevice:e("Label.TrustThisDevice"),TwoStepVerification:e("Label.TwoStepVerification"),VerifyWithPasskey:e("Label.VerifyWithPasskey"),VerifyWithSecurityKey:e("Label.VerifyWithSecurityKey")},Response:{AuthenticatorCodeAlreadyUsed:e("Response.AuthenticatorCodeAlreadyUsed"),CodeSent:e("Response.CodeSent"),DefaultError:e("Response.DefaultError"),FeatureNotAvailable:e("Response.FeatureNotAvailable"),InvalidCode:e("Response.InvalidCode"),InvalidPassword:e("Response.InvalidPassword"),SessionExpired:e("Response.SessionExpired"),SystemErrorSwitchingToEmail:e("Response.SystemErrorSwitchingToEmail"),TooManyAttempts:e("Response.TooManyAttempts"),VerificationError:e("Response.VerificationError")}}}(c)}))[0],v=(0,Fi.useState)((function(){return{userId:t,challengeId:n,actionType:r,renderInline:a,shouldShowRememberDeviceCheckbox:i,resources:h,eventService:o,metricsService:u,requestService:l,onModalChallengeAbandoned:f,metadata:null,userConfiguration:null,enabledMediaTypes:[],onChallengeCompletedData:null,onChallengeInvalidatedData:null,isModalVisible:!0}}))[0],y=kg(),m=(0,Fi.useReducer)(Mg,v),g=m[0],E=m[1];return(0,Fi.useEffect)((function(){if(null!==g.onChallengeCompletedData&&null===g.onChallengeInvalidatedData){var e=g.onChallengeCompletedData;setTimeout((function(){return s(e)}),Tg)}}),[g.onChallengeCompletedData,g.onChallengeInvalidatedData,s]),(0,Fi.useEffect)((function(){if(null!==g.onChallengeInvalidatedData&&null===g.onChallengeCompletedData){o.sendChallengeInvalidatedEvent(y,r),u.fireInvalidatedEvent();var e=g.onChallengeInvalidatedData;setTimeout((function(){return d(e)}),Tg)}}),[g.onChallengeCompletedData,g.onChallengeInvalidatedData,d,o,u,y]),(0,Fi.useEffect)((function(){null!==y&&o.sendMediaTypeChangedEvent(y,r)}),[o,y]),ji().createElement(Ug.Provider,{value:{state:g,dispatch:E}},p)},Fg=function(){var e=(0,Fi.useContext)(Ug);if(null===e)throw new Error("TwoStepVerificationContext was not provided in the current scope");return e},jg=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},Wg=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Gg=function(e){var t=e.hasSentEmailCode,n=e.setHasSentEmailCode,r=e.hasSentSmsCode,a=e.setHasSentSmsCode,i=e.requestInFlight,o=e.setRequestInFlight,u=e.setModalTitleText,l=e.children,c=Fg(),s=c.state,d=s.userId,f=s.challengeId,p=s.actionType,h=s.renderInline,v=s.resources,y=s.requestService,m=s.enabledMediaTypes,g=c.dispatch,E=(0,Lg.useHistory)(),b=(0,Fi.useState)(null),S=b[0],C=b[1],_=function(e){switch(e){case Av.Authenticator:return"icon-menu-mobile";case Av.Email:return"icon-menu-email";case Av.RecoveryCode:return"icon-menu-recover";case Av.SMS:return"icon-menu-mobile";case Av.SecurityKey:return"icon-menu-usb";case Av.CrossDevice:return"icon-menu-mobile";case Av.Passkey:return"icon-menu-fingerprint";case Av.Password:return"icon-status-private";default:return"icon-brokenpage"}},I=function(e,u,l){var c=function(e){switch(e){case Av.Authenticator:return v.Label.AuthenticatorMediaType;case Av.Email:return v.Label.EmailMediaType;case Av.RecoveryCode:return v.Label.RecoveryCodeMediaType;case Av.SMS:return v.Label.SmsMediaType;case Av.SecurityKey:return v.Label.SecurityKeyMediaType;case Av.CrossDevice:return v.Label.CrossDeviceMediaType;case Av.Passkey:return v.Label.PasskeyMediaType;case Av.Password:return v.Label.PasswordMediaType;default:return null}}(e);return c?ji().createElement("tr",{tabIndex:u,ref:l,key:u,onClick:i?void 0:function(){return function(e){return jg(void 0,void 0,void 0,(function(){var u;return Wg(this,(function(l){switch(l.label){case 0:return i?[2]:e!==Av.CrossDevice&&m.includes(Av.CrossDevice)?[4,y.twoStepVerification.retractCrossDevice(d,{challengeId:f,actionType:p})]:[3,2];case 1:l.sent(),l.label=2;case 2:return e!==Av.Email||t?[3,4]:(o(!0),[4,y.twoStepVerification.sendEmailCode(d,{challengeId:f,actionType:p})]);case 3:if(u=l.sent(),o(!1),u.isError)return u.error===Ll.INVALID_USER_ID||u.error===Ll.INVALID_CHALLENGE_ID?g({type:ug.SET_CHALLENGE_INVALIDATED,errorCode:Rg(u.error)}):C(Dg(v,u.error)),[2];n(!0),l.label=4;case 4:return e!==Av.SMS||r?[3,6]:(o(!0),[4,y.twoStepVerification.sendSmsCode(d,{challengeId:f,actionType:p})]);case 5:if(u=l.sent(),o(!1),u.isError)return u.error===Ll.INVALID_USER_ID||u.error===Ll.INVALID_CHALLENGE_ID?g({type:ug.SET_CHALLENGE_INVALIDATED,errorCode:Rg(u.error)}):C(Dg(v,u.error)),[2];a(!0),l.label=6;case 6:return e!==Av.CrossDevice?[3,8]:(o(!0),[4,y.twoStepVerification.retryCrossDevice(d,{challengeId:f,actionType:p})]);case 7:if(u=l.sent(),o(!1),u.isError){if(u.error===Ll.INVALID_USER_ID||u.error===Ll.INVALID_CHALLENGE_ID)return g({type:ug.SET_CHALLENGE_INVALIDATED,errorCode:Rg(u.error)}),[2];C(Dg(v,u.error))}l.label=8;case 8:return E.push(Pg(e)),[2]}}))}))}(e)},className:i?"media-type-row disabled":"media-type-row"},ji().createElement("td",null,ji().createElement("span",{className:_(e)})),ji().createElement("td",{className:"media-type-label"},c),ji().createElement("td",{className:"media-type-selector"},ji().createElement("span",{className:"icon-next"}),ji().createElement("div",{className:"icon-placeholder"}))):null};u(v.Label.TwoStepVerification);var T=h?gd:yd.Modal.Body,A=h?"inline-challenge-lock-icon":"modal-lock-icon",w=h?"inline-challenge-margin-bottom-xlarge":"modal-margin-bottom-xlarge",N=h?"":"modal-margin-bottom-large",O=h?"inline-challenge-margin-top-large":"modal-margin-bottom-large",L=(0,Fi.useRef)(null);return(0,Fi.useEffect)((function(){var e;null===(e=L.current)||void 0===e||e.focus()}),[]),ji().createElement(T,null,ji().createElement("div",{className:A}),ji().createElement("p",{className:w},v.Label.ChooseAlternateMediaType),ji().createElement("table",{className:"table table-striped media-type-list "+N},ji().createElement("tbody",null,m.map((function(e,t){return I(e,t,0===t?L:null)})))),S?ji().createElement("p",{className:"text-error xsmall "+O},S):null,l)},Hg=function(e){var t=e.requestInFlight,n=e.originalMediaType,r=e.actionType,a=e.className,i=Fg().state,o=i.renderInline,u=i.eventService,l=i.resources,c=(0,Lg.useHistory)(),s=o?"inline-challenge-body-button-link":"modal-body-button-link";return ji().createElement("p",{className:a},ji().createElement("button",{type:"button",className:s+" small",onClick:function(){u.sendTryToSwitchMediaTypeEvent(n,r),c.push(Pg(null))},disabled:t},l.Action.ChangeMediaType))},Bg=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},zg=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},qg=function(e,t){return function(n){return Bg(void 0,void 0,Promise,(function(){return zg(this,(function(r){switch(r.label){case 0:return"Enter"===n.key&&t?(n.preventDefault(),n.stopPropagation(),[4,e()]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))}},Zg=function(){return Promise.resolve(null)},Kg=function(e,t,n,r,a,i){return function(o){return Bg(void 0,void 0,Promise,(function(){var u,l;return zg(this,(function(c){switch(c.label){case 0:return u=o.currentTarget.value,void 0===t||t.test(u)||(u=e),void 0!==i&&i(u),r(u),l=a,[4,n(u)];case 1:return l.apply(void 0,[c.sent()]),[2]}}))}))}},Yg=function(e){var t=e.id,n=e.inputType,r=e.placeholder,a=e.disabled,i=e.value,o=e.error,u=e.canSubmit,l=e.validate,c=e.setValue,s=e.setError,d=e.handleSubmit,f=e.onChange,p=e.label,h=e.bottomLabel,v=e.inputMode,y=e.autoComplete,m=e.maxLength,g=e.validCharactersRegEx,E=e.hideFeedback,b=e.concealInput,S=e.autoFocus,C=""!==i&&null===o,_=""!==i&&null!==o,I=C||_;return ji().createElement("div",{className:"input-control-wrapper"},p&&ji().createElement("label",{className:"text-label xsmall",htmlFor:t},p),ji().createElement(yd.FormGroup,{controlId:t,className:(I?"form-has-feedback":"")+" "+(C?"form-has-success":"")+" "+(_?"form-has-error":"")},ji().createElement(yd.FormControl,{as:"input",className:"input-field"+(b&&i.length>0?" input-field-concealed":""),type:n,inputMode:v,autoComplete:y,maxLength:m,disabled:a,value:i,placeholder:r,onChange:Kg(i,g,l,c,s,f),onKeyDown:qg(d,u),autoFocus:S}),!a&&!E&&C&&ji().createElement("span",{className:"icon-checkmark-on"}),!a&&!E&&_&&ji().createElement("span",{className:"icon-close"}),ji().createElement("div",{className:"form-control-label bottom-label xsmall"},!a&&_?o:h||" ")))},Jg=function(e){var t=e.disabled,n=e.rememberDevice,r=e.setRememberDevice,a=e.className,i=Fg().state.resources;return ji().createElement("p",{className:a},ji().createElement("input",{id:"remember-device",type:"checkbox",onChange:function(e){r(e.target.checked)},checked:n,disabled:t,tabIndex:0})," ",ji().createElement("label",{htmlFor:"remember-device"},i.Label.TrustThisDevice))},Xg=function(e){var t=e.className,n=Fg().state.resources,r=n.Label.NeedHelpContactSupport('<a class="text-name text-footer contact" href="https://www.roblox.com/info/2sv" target="_blank" rel="noopener noreferrer">'+n.Label.RobloxSupport+"</a>");return ji().createElement("p",{className:"text-footer"+(t?" "+t:""),dangerouslySetInnerHTML:{__html:r}})},Qg=/^[0-9]*$/,$g=/^[A-Za-z0-9]*$/,eE=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},tE=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},nE=function(e){var t=e.requestInFlight,n=e.setRequestInFlight,r=e.children,a=Fg(),i=a.state,o=i.userId,u=i.challengeId,l=i.actionType,c=i.renderInline,s=i.shouldShowRememberDeviceCheckbox,d=i.metadata,f=i.resources,p=i.eventService,h=i.metricsService,v=i.requestService,y=a.dispatch,m=kg(),g=(0,Fi.useState)(""),E=g[0],b=g[1],S=(0,Fi.useState)(null),C=S[0],_=S[1],I=(0,Fi.useState)(null),T=I[0],A=I[1],w=(0,Fi.useState)(!1),N=w[0],O=w[1],L=function(){return eE(void 0,void 0,void 0,(function(){var e;return tE(this,(function(t){switch(t.label){case 0:return n(!0),A(null),p.sendCodeSubmittedEvent(m,l),[4,v.twoStepVerification.verifyAuthenticatorCode(o,{challengeId:u,actionType:l,code:E})];case 1:return(e=t.sent()).isError?(p.sendCodeVerificationFailedEvent(m,l,Ll[e.error||Ll.UNKNOWN]),e.error===Ll.INVALID_USER_ID||e.error===Ll.INVALID_CHALLENGE_ID?(y({type:ug.SET_CHALLENGE_INVALIDATED,errorCode:Rg(e.error)}),[2]):(n(!1),A(Dg(f,e.error)),[2])):(p.sendCodeVerifiedEvent(m,l),h.fireVerifiedEvent(m),y({type:ug.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{verificationToken:e.value.verificationToken,rememberDevice:N}}),[2])}}))}))},D=null===C&&E.length===(null==d?void 0:d.authenticatorCodeLength),R={content:t?ji().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):f.Action.Verify,label:f.Action.Verify,enabled:!t&&D,action:L},k=c?gd:yd.Modal.Body,P=c?Wf:Gf,x=c?"inline-challenge-lock-icon":"modal-lock-icon",M=c?"inline-challenge-margin-bottom":"modal-margin-bottom",U=c?"inline-challenge-margin-bottom-xlarge":"modal-margin-bottom-xlarge";return d&&ji().createElement(ji().Fragment,null,ji().createElement(k,null,ji().createElement("div",{className:x}),ji().createElement("p",{className:U},f.Label.EnterAuthenticatorCode),ji().createElement(Yg,{id:"two-step-verification-code-input",inputType:"text",disabled:t,value:E,setValue:b,error:T||C,setError:_,validate:Zg,canSubmit:D,handleSubmit:L,onChange:function(){return A(null)},inputMode:"numeric",autoComplete:"off",placeholder:f.Label.CodeInputPlaceholderText(d.authenticatorCodeLength),maxLength:d.authenticatorCodeLength,validCharactersRegEx:Qg,hideFeedback:!0,concealInput:!0,autoFocus:!0}),s&&ji().createElement(Jg,{disabled:t,rememberDevice:N,setRememberDevice:O,className:U}),r),ji().createElement(P,{positiveButton:R,negativeButton:null},ji().createElement(Xg,{className:M}),ji().createElement("p",{className:"text-footer"},f.Description.SecurityWarningShort)))},rE=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},aE=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},iE=function(e){var t=e.disabled,n=e.setCodeError,r=e.mediaType,a=e.className,i=Fg(),o=i.state,u=o.userId,l=o.challengeId,c=o.actionType,s=o.renderInline,d=o.resources,f=o.eventService,p=o.requestService,h=i.dispatch,v=(0,Fi.useState)(!1),y=v[0],m=v[1];if(y)return ji().createElement("p",{className:a},ji().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}));var g=s?"inline-challenge-body-button-link":"modal-body-button-link";return ji().createElement("p",{className:a},ji().createElement("button",{type:"button",className:g+" small",onClick:function(){return rE(void 0,void 0,void 0,(function(){var e,t,a;return aE(this,(function(i){switch(i.label){case 0:return e=null,m(!0),r!==Av.Email?[3,2]:(f.sendEmailResendRequestedEvent(),[4,p.twoStepVerification.sendEmailCode(u,{challengeId:l,actionType:c})]);case 1:return(t=i.sent()).isError&&(e=t.error),[3,4];case 2:return r!==Av.SMS?[3,4]:(f.sendSmsResendRequestedEvent(),[4,p.twoStepVerification.sendSmsCode(u,{challengeId:l,actionType:c})]);case 3:(a=i.sent()).isError&&(e=a.error),i.label=4;case 4:return m(!1),null!=e&&(e===Ll.INVALID_USER_ID||e===Ll.INVALID_CHALLENGE_ID?h({type:ug.SET_CHALLENGE_INVALIDATED,errorCode:Rg(e)}):n(Dg(d,e))),[2]}}))}))},disabled:t||y},d.Action.Resend))},oE=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},uE=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},lE=function(e){var t=e.requestInFlight,n=e.setRequestInFlight,r=e.children,a=Fg(),i=a.state,o=i.userId,u=i.challengeId,l=i.actionType,c=i.renderInline,s=i.shouldShowRememberDeviceCheckbox,d=i.resources,f=i.metadata,p=i.eventService,h=i.metricsService,v=i.requestService,y=a.dispatch,m=kg(),g=(0,Fi.useState)(""),E=g[0],b=g[1],S=(0,Fi.useState)(null),C=S[0],_=S[1],I=(0,Fi.useState)(null),T=I[0],A=I[1],w=(0,Fi.useState)(!1),N=w[0],O=w[1],L=function(){return oE(void 0,void 0,void 0,(function(){var e;return uE(this,(function(t){switch(t.label){case 0:return n(!0),A(null),p.sendCodeSubmittedEvent(m,l),[4,v.twoStepVerification.verifyEmailCode(o,{challengeId:u,actionType:l,code:E})];case 1:return(e=t.sent()).isError?(p.sendCodeVerificationFailedEvent(m,l,Ll[e.error||Ll.UNKNOWN]),e.error===Ll.INVALID_USER_ID||e.error===Ll.INVALID_CHALLENGE_ID?(y({type:ug.SET_CHALLENGE_INVALIDATED,errorCode:Rg(e.error)}),[2]):(n(!1),A(Dg(d,e.error)),[2])):(p.sendCodeVerifiedEvent(m,l),h.fireVerifiedEvent(m),y({type:ug.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{verificationToken:e.value.verificationToken,rememberDevice:N}}),[2])}}))}))},D=null===C&&E.length===(null==f?void 0:f.emailCodeLength),R={content:t?ji().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):d.Action.Verify,label:d.Action.Verify,enabled:!t&&D,action:L},k=c?gd:yd.Modal.Body,P=c?Wf:Gf,x=c?"inline-challenge-lock-icon":"modal-lock-icon",M=c?"inline-challenge-margin-bottom":"modal-margin-bottom",U=c?"inline-challenge-margin-bottom-xlarge":"modal-margin-bottom-xlarge";return f&&ji().createElement(ji().Fragment,null,ji().createElement(k,null,ji().createElement("div",{className:x}),ji().createElement("p",{className:U},d.Label.EnterEmailCode),ji().createElement(Yg,{id:"two-step-verification-code-input",inputType:"text",disabled:t,value:E,setValue:b,error:T||C,setError:_,validate:Zg,canSubmit:D,handleSubmit:L,onChange:function(){return A(null)},inputMode:"numeric",autoComplete:"off",placeholder:d.Label.CodeInputPlaceholderText(f.emailCodeLength),maxLength:f.emailCodeLength,validCharactersRegEx:Qg,hideFeedback:!0,concealInput:!0,autoFocus:!0}),s&&ji().createElement(Jg,{disabled:t,rememberDevice:N,setRememberDevice:O,className:U}),ji().createElement(iE,{disabled:t,setCodeError:_,mediaType:m}),r),ji().createElement(P,{positiveButton:R,negativeButton:null},ji().createElement(Xg,{className:M}),ji().createElement("p",{className:"text-footer"},d.Description.SecurityWarningShort)))},cE=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},sE=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},dE=function(e){var t=e.requestInFlight,n=e.setRequestInFlight,r=e.children,a=Fg(),i=a.state,o=i.userId,u=i.challengeId,l=i.actionType,c=i.renderInline,s=i.shouldShowRememberDeviceCheckbox,d=i.resources,f=i.eventService,p=i.metricsService,h=i.requestService,v=a.dispatch,y=kg(),m=(0,Fi.useState)(""),g=m[0],E=m[1],b=(0,Fi.useState)(null),S=b[0],C=b[1],_=(0,Fi.useState)(null),I=_[0],T=_[1],A=(0,Fi.useState)(!1),w=A[0],N=A[1],O=function(){return cE(void 0,void 0,void 0,(function(){var e;return sE(this,(function(t){switch(t.label){case 0:return n(!0),T(null),f.sendCodeSubmittedEvent(y,l),[4,h.twoStepVerification.verifyRecoveryCode(o,{challengeId:u,actionType:l,code:g})];case 1:return(e=t.sent()).isError?(f.sendCodeVerificationFailedEvent(y,l,Ll[e.error||Ll.UNKNOWN]),e.error===Ll.INVALID_USER_ID||e.error===Ll.INVALID_CHALLENGE_ID?(v({type:ug.SET_CHALLENGE_INVALIDATED,errorCode:Rg(e.error)}),[2]):(n(!1),T(Dg(d,e.error)),[2])):(f.sendCodeVerifiedEvent(y,l),p.fireVerifiedEvent(y),v({type:ug.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{verificationToken:e.value.verificationToken,rememberDevice:w}}),[2])}}))}))},L=null===S&&9===g.length,D={content:t?ji().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):d.Action.Verify,label:d.Action.Verify,enabled:!t&&L,action:O},R=c?gd:yd.Modal.Body,k=c?Wf:Gf,P=c?"inline-challenge-lock-icon":"modal-lock-icon",x=c?"inline-challenge-margin-bottom":"modal-margin-bottom",M=c?"inline-challenge-margin-bottom-xlarge":"modal-margin-bottom-xlarge";return ji().createElement(ji().Fragment,null,ji().createElement(R,null,ji().createElement("div",{className:P}),ji().createElement("p",{className:M},d.Label.EnterRecoveryCode),ji().createElement(Yg,{id:"two-step-verification-code-input",inputType:"text",disabled:t,value:g,setValue:E,error:I||S,setError:C,validate:Zg,canSubmit:L,handleSubmit:O,onChange:function(){return T(null)},autoComplete:"off",placeholder:d.Label.CodeInputPlaceholderText(9),maxLength:9,validCharactersRegEx:$g,hideFeedback:!0,concealInput:!0,autoFocus:!0}),s&&ji().createElement(Jg,{disabled:t,rememberDevice:w,setRememberDevice:N,className:M}),r),ji().createElement(k,{positiveButton:D,negativeButton:null},ji().createElement(Xg,{className:x}),ji().createElement("p",{className:"text-footer"},d.Description.SecurityWarningShortBackupCodes)))},fE=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},pE=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},hE=function(e){var t=e.requestInFlight,n=e.setRequestInFlight,r=e.children,a=Fg(),i=a.state,o=i.userId,u=i.challengeId,l=i.actionType,c=i.renderInline,s=i.shouldShowRememberDeviceCheckbox,d=i.resources,f=i.metadata,p=i.eventService,h=i.metricsService,v=i.requestService,y=a.dispatch,m=kg(),g=(0,Fi.useState)(null),E=g[0],b=g[1],S=(0,Fi.useState)(!1),C=S[0],_=S[1],I=function(e,t){t&&p.sendCodeVerificationFailedEvent(m,l,Ll[e||Ll.UNKNOWN]),e!==Ll.INVALID_USER_ID&&e!==Ll.INVALID_CHALLENGE_ID?(n(!1),b(Dg(d,e))):y({type:ug.SET_CHALLENGE_INVALIDATED,errorCode:Rg(e)})},T=c?gd:yd.Modal.Body,A=c?"inline-challenge-lock-icon":"modal-lock-icon",w=c?"inline-challenge-margin-bottom":"modal-margin-bottom",N=c?"inline-challenge-action-button":"modal-action-button";N=(N=N.concat(" ","btn-cta-md")).concat(" ",w);var O=(c?"inline-margin-bottom-xlarge":"modal-margin-bottom-xlarge").concat(" ","text-error xsmall"),L=c?"inline-challenge-margin-bottom-sm":"modal-margin-bottom-sm",D=(0,Fi.useRef)(null);return(0,Fi.useEffect)((function(){var e;null===(e=D.current)||void 0===e||e.focus()}),[]),f&&ji().createElement(ji().Fragment,null,ji().createElement(T,null,ji().createElement("div",{className:A}),ji().createElement("p",{className:L},d.Label.VerifyWithSecurityKey),ji().createElement("p",{className:w},d.Label.SecurityKeyDirections),ji().createElement("button",{ref:D,type:"button",className:N,"aria-label":d.Action.Verify,disabled:t,onClick:function(){return fE(void 0,void 0,void 0,(function(){var e,t,r,a,i,c,s;return pE(this,(function(d){switch(d.label){case 0:return n(!0),b(null),[4,v.twoStepVerification.getSecurityKeyOptions(o,{challengeId:u,actionType:l})];case 1:return(e=d.sent()).isError?(I(e.error,!0),[2]):(t=!(pi.DeviceMeta&&(0,pi.DeviceMeta)().isInApp&&(0,pi.DeviceMeta)().isAndroidApp),(r=t?kl.fido2Util.convertPublicKeyParametersToStandardBase64(e.value.authenticationOptions):JSON.parse(e.value.authenticationOptions)).publicKey?(a="",pi.DeviceMeta&&(0,pi.DeviceMeta)().isInApp?[4,kl.hybridResponseService.getNativeResponse(kl.hybridResponseService.FeatureTarget.GET_CREDENTIALS,{authenticationOptionsJSON:JSON.stringify(r)},3e5).catch((function(){I(Ll.UNKNOWN,!1)}))]:[3,3]):(I(Ll.UNKNOWN,!1),[2]));case 2:if(null==(i=d.sent()))return I(Ll.UNKNOWN,!1),[2];if(void 0!==(c=JSON.parse(i)).errorCode)return I(Ll.UNKNOWN,!1),[2];try{a=t?kl.fido2Util.formatCredentialAuthenticationResponseApp(i):i}catch(e){return I(Ll.UNKNOWN,!1),[2]}return[3,5];case 3:return[4,navigator.credentials.get({publicKey:kl.fido2Util.formatCredentialRequestWeb(JSON.stringify(r))}).catch((function(){I(Ll.UNKNOWN,!1)}))];case 4:c=d.sent();try{a=kl.fido2Util.formatCredentialAuthenticationResponseWeb(c)}catch(e){return I(Ll.UNKNOWN,!1),[2]}d.label=5;case 5:return[4,v.twoStepVerification.verifySecurityKeyCredential(o,{challengeId:u,actionType:l,code:a})];case 6:return(s=d.sent()).isError?(I(s.error,!0),[2]):(p.sendCodeVerifiedEvent(m,l),h.fireVerifiedEvent(m),y({type:ug.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{verificationToken:s.value.verificationToken,rememberDevice:C}}),[2])}}))}))}},t?ji().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):d.Action.Verify),s&&ji().createElement(Jg,{disabled:t,rememberDevice:C,setRememberDevice:_,className:w}),r,ji().createElement(Xg,{className:w}),ji().createElement("p",{className:O},E)))},vE=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},yE=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},mE=function(e){var t=e.requestInFlight,n=e.setRequestInFlight,r=e.children,a=Fg(),i=a.state,o=i.userId,u=i.challengeId,l=i.actionType,c=i.renderInline,s=i.shouldShowRememberDeviceCheckbox,d=i.resources,f=i.metadata,p=i.eventService,h=i.metricsService,v=i.requestService,y=a.dispatch,m=kg(),g=(0,Fi.useState)(""),E=g[0],b=g[1],S=(0,Fi.useState)(null),C=S[0],_=S[1],I=(0,Fi.useState)(null),T=I[0],A=I[1],w=(0,Fi.useState)(!1),N=w[0],O=w[1],L=function(){return vE(void 0,void 0,void 0,(function(){var e;return yE(this,(function(t){switch(t.label){case 0:return n(!0),A(null),p.sendCodeSubmittedEvent(m,l),[4,v.twoStepVerification.verifySmsCode(o,{challengeId:u,actionType:l,code:E})];case 1:return(e=t.sent()).isError?(p.sendCodeVerificationFailedEvent(m,l,Ll[e.error||Ll.UNKNOWN]),e.error===Ll.INVALID_USER_ID||e.error===Ll.INVALID_CHALLENGE_ID?(y({type:ug.SET_CHALLENGE_INVALIDATED,errorCode:Rg(e.error)}),[2]):(n(!1),A(Dg(d,e.error)),[2])):(p.sendCodeVerifiedEvent(m,l),h.fireVerifiedEvent(m),y({type:ug.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{verificationToken:e.value.verificationToken,rememberDevice:N}}),[2])}}))}))},D=null===C&&E.length===(null==f?void 0:f.emailCodeLength),R={content:t?ji().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):d.Action.Verify,label:d.Action.Verify,enabled:!t&&D,action:L},k=c?gd:yd.Modal.Body,P=c?Wf:Gf,x=c?"inline-challenge-lock-icon":"modal-lock-icon",M=c?"inline-challenge-margin-bottom":"modal-margin-bottom",U=c?"inline-challenge-margin-bottom-xlarge":"modal-margin-bottom-xlarge";return f&&ji().createElement(ji().Fragment,null,ji().createElement(k,null,ji().createElement("div",{className:x}),ji().createElement("p",{className:U},d.Label.EnterTextCode),ji().createElement(Yg,{id:"two-step-verification-code-input",inputType:"text",disabled:t,value:E,setValue:b,error:T||C,setError:_,validate:Zg,canSubmit:D,handleSubmit:L,onChange:function(){return A(null)},inputMode:"numeric",autoComplete:"off",placeholder:d.Label.CodeInputPlaceholderText(f.emailCodeLength),maxLength:f.emailCodeLength,validCharactersRegEx:Qg,hideFeedback:!0,concealInput:!0,autoFocus:!0}),s&&ji().createElement(Jg,{disabled:t,rememberDevice:N,setRememberDevice:O,className:U}),ji().createElement(iE,{disabled:t,setCodeError:_,mediaType:m}),r),ji().createElement(P,{positiveButton:R,negativeButton:null},ji().createElement(Xg,{className:M}),ji().createElement("p",{className:"text-footer"},d.Description.SecurityWarningShort)))},gE=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},EE=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},bE=function(e){var t=e.requestInFlight,n=e.setRequestInFlight,r=e.setModalTitleText,a=e.setShowChangeMediaType,i=e.children,o=Fg(),u=o.state,l=u.userId,c=u.challengeId,s=u.actionType,d=u.renderInline,f=u.resources,p=u.metadata,h=u.eventService,v=u.metricsService,y=u.requestService,m=u.onModalChallengeAbandoned,g=o.dispatch,E=kg(),b=(0,Fi.useState)(null),S=b[0],C=b[1],_=(0,Fi.useState)(f.Label.ApproveWithDevice),I=_[0],T=_[1],A=(0,Fi.useState)(!0),w=A[0],N=A[1],O=(0,Fi.useState)(!1),L=O[0],D=O[1],R=(0,Fi.useState)(0),k=R[0],P=R[1],x=(0,Fi.useState)(!1),M=x[0],U=x[1],V=function(){return gE(void 0,void 0,void 0,(function(){var e;return EE(this,(function(t){switch(t.label){case 0:return k>=4?[4,y.twoStepVerification.retractCrossDevice(l,{challengeId:c,actionType:s})]:[3,2];case 1:return t.sent(),r(f.Label.TwoStepVerification),T(f.Description.LoginExpired),a(!1),N(!1),D(!0),[2];case 2:return P(k+1),n(!0),C(null),r(f.Label.TwoStepVerification),T(f.Label.ApproveWithDevice),[4,y.twoStepVerification.retryCrossDevice(l,{challengeId:c,actionType:s})];case 3:return(e=t.sent()).isError?(h.sendCodeVerificationFailedEvent(E,s,Ll[e.error||Ll.UNKNOWN]),e.error===Ll.INVALID_USER_ID||e.error===Ll.INVALID_CHALLENGE_ID?(g({type:ug.SET_CHALLENGE_INVALIDATED,errorCode:Rg(e.error)}),[2]):(n(!1),C(Dg(f,e.error)),[2])):(k>0&&U(!0),n(!1),[2])}}))}))},F=d?gd:yd.Modal.Body,j=d?"inline-challenge-margin-bottom":"modal-margin-bottom",W=d?"inline-challenge-action-button":"modal-action-button";W=(W=W.concat(" ","btn-secondary-md")).concat(" ",j);var G=d?"inline-challenge-action-button":"modal-action-button";G=(G=G.concat(" ","btn-cta-md")).concat(" ",j);var H=(d?"inline-margin-bottom-xlarge":"modal-margin-bottom-xlarge").concat(" ","text-error xsmall"),B=d?"inline-challenge-lock-icon":"modal-lock-icon";return(0,Fi.useEffect)((function(){if(M){var e=setTimeout((function(){U(!1)}),3e3);return function(){return clearTimeout(e)}}}),[M]),(0,Fi.useEffect)((function(){V().then((function(){return C(null)})).catch((function(){return C(Dg(f,Ll.UNKNOWN))}));var e=setInterval((function(){y.twoStepVerification.verifyCrossDevice(l,{challengeId:c,actionType:s}).then((function(t){if(t.isError){if(h.sendCodeVerificationFailedEvent(E,s,Ll[t.error||Ll.UNKNOWN]),t.error===Ll.CHALLENGE_DENIED)return r(f.Label.TwoStepVerification),T(f.Description.Denied),a(!1),N(!1),void clearInterval(e);if(t.error===Ll.CROSS_DEVICE_DIALOG_EXPIRED)return r(f.Label.TwoStepVerification),T(f.Description.Expired),a(!1),N(!1),D(!0),void clearInterval(e);if(t.error===Ll.INVALID_USER_ID||t.error===Ll.INVALID_CHALLENGE_ID)return void g({type:ug.SET_CHALLENGE_INVALIDATED,errorCode:Rg(t.error)});C(Dg(f,t.error))}else t.value.verificationToken&&(h.sendCodeVerifiedEvent(E,s),v.fireVerifiedEvent(E),g({type:ug.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{verificationToken:t.value.verificationToken,rememberDevice:!1}}))})).catch((function(){return C(Dg(f,Ll.UNKNOWN))}))}),3e3);return function(){clearInterval(e)}}),[]),p&&ji().createElement(ji().Fragment,null,ji().createElement(F,null,ji().createElement("div",{className:B}),ji().createElement("p",{className:j},I),w?ji().createElement("button",{type:"button",className:W,"aria-label":f.Action.Retry,disabled:t,onClick:V},t||M?ji().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):f.Action.Retry):ji().createElement("button",{type:"button",className:G,"aria-label":f.Action.Okay,disabled:t,onClick:function(){g({type:ug.HIDE_MODAL_CHALLENGE}),h.sendChallengeAbandonedEvent(E,s),v.fireAbandonedEvent(),null!==m&&setTimeout((function(){return m((function(){return g({type:ug.SHOW_MODAL_CHALLENGE})}))}),Tg)}},t?ji().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):f.Action.Okay),w?i:null,w||L?ji().createElement("p",{className:"text-footer "+j,dangerouslySetInnerHTML:{__html:f.Label.HelpCenterLink('<a class="text-name text-footer contact" href="https://www.roblox.com/info/2sv" target="_blank" rel="noopener noreferrer">'+f.Label.HelpCenter+"</a>")}}):null,ji().createElement("p",{className:H},S)))},SE=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},CE=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},_E=function(e){var t=e.requestInFlight,n=e.setRequestInFlight,r=e.children,a=Fg(),i=a.state,o=i.userId,u=i.challengeId,l=i.actionType,c=i.renderInline,s=i.shouldShowRememberDeviceCheckbox,d=i.resources,f=i.metadata,p=i.eventService,h=i.metricsService,v=i.requestService,y=a.dispatch,m=kg(),g=(0,Fi.useState)(null),E=g[0],b=g[1],S=(0,Fi.useState)(!1),C=S[0],_=S[1],I=function(e,t){t&&p.sendCodeVerificationFailedEvent(m,l,Ll[e||Ll.UNKNOWN]),e!==Ll.INVALID_USER_ID&&e!==Ll.INVALID_CHALLENGE_ID?(n(!1),b(Dg(d,e))):y({type:ug.SET_CHALLENGE_INVALIDATED,errorCode:Rg(e)})},T=c?gd:yd.Modal.Body,A=c?"inline-challenge-lock-icon":"modal-lock-icon",w=c?"inline-challenge-margin-bottom":"modal-margin-bottom",N=c?"inline-challenge-action-button":"modal-action-button";N=(N=N.concat(" ","btn-cta-md")).concat(" ",w);var O=(c?"inline-margin-bottom-xlarge":"modal-margin-bottom-xlarge").concat(" ","text-error xsmall"),L=c?"inline-challenge-margin-bottom-sm":"modal-margin-bottom-sm",D=(0,Fi.useRef)(null);return(0,Fi.useEffect)((function(){var e;null===(e=D.current)||void 0===e||e.focus()}),[]),f&&ji().createElement(ji().Fragment,null,ji().createElement(T,null,ji().createElement("div",{className:A}),ji().createElement("p",{className:L},d.Label.VerifyWithPasskey),ji().createElement("p",{className:w},d.Label.PasskeyDirections),ji().createElement("button",{ref:D,type:"button",className:N,"aria-label":d.Action.Verify,disabled:t,onClick:function(){return SE(void 0,void 0,void 0,(function(){var e,t,r,a,i,c,s;return CE(this,(function(d){switch(d.label){case 0:return n(!0),b(null),[4,v.twoStepVerification.getPasskeyOptions(o,{challengeId:u,actionType:l})];case 1:return(e=d.sent()).isError?(I(e.error,!0),[2]):(t=!(pi.DeviceMeta&&(0,pi.DeviceMeta)().isInApp&&(0,pi.DeviceMeta)().isAndroidApp),(r=t?kl.fido2Util.convertPublicKeyParametersToStandardBase64(e.value.authenticationOptions):JSON.parse(e.value.authenticationOptions)).publicKey?(a="",pi.DeviceMeta&&(0,pi.DeviceMeta)().isInApp?(r.keyType="platform",[4,kl.hybridResponseService.getNativeResponse(kl.hybridResponseService.FeatureTarget.GET_CREDENTIALS,{authenticationOptionsJSON:JSON.stringify(r)},3e5).catch((function(){I(Ll.UNKNOWN,!1)}))]):[3,3]):(I(Ll.UNKNOWN,!1),[2]));case 2:if(null==(i=d.sent()))return I(Ll.UNKNOWN,!1),[2];if(void 0!==(c=JSON.parse(i)).errorCode)return I(Ll.UNKNOWN,!1),[2];try{a=t?kl.fido2Util.formatCredentialAuthenticationResponseApp(i):i}catch(e){return I(Ll.UNKNOWN,!1),[2]}return[3,5];case 3:return[4,navigator.credentials.get({publicKey:kl.fido2Util.formatCredentialRequestWeb(JSON.stringify(r))}).catch((function(){I(Ll.UNKNOWN,!1)}))];case 4:c=d.sent();try{a=kl.fido2Util.formatCredentialAuthenticationResponseWeb(c)}catch(e){return I(Ll.UNKNOWN,!1),[2]}d.label=5;case 5:return[4,v.twoStepVerification.verifyPasskeyCredential(o,{challengeId:u,actionType:l,code:a})];case 6:return(s=d.sent()).isError?(I(s.error,!0),[2]):(p.sendCodeVerifiedEvent(m,l),h.fireVerifiedEvent(m),y({type:ug.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{verificationToken:s.value.verificationToken,rememberDevice:C}}),[2])}}))}))}},t?ji().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):d.Action.Verify),s&&ji().createElement(Jg,{disabled:t,rememberDevice:C,setRememberDevice:_,className:w}),r,ji().createElement(Xg,{className:w}),ji().createElement("p",{className:O},E)))},IE=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},TE=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},AE=function(e){var t=e.requestInFlight,n=e.setRequestInFlight,r=e.children,a=Fg(),i=a.state,o=i.userId,u=i.challengeId,l=i.actionType,c=i.renderInline,s=i.shouldShowRememberDeviceCheckbox,d=i.resources,f=i.metadata,p=i.eventService,h=i.metricsService,v=i.requestService,y=a.dispatch,m=kg(),g=(0,Fi.useState)(""),E=g[0],b=g[1],S=(0,Fi.useState)(null),C=S[0],_=S[1],I=(0,Fi.useState)(null),T=I[0],A=I[1],w=(0,Fi.useState)(!1),N=w[0],O=w[1],L=function(){return IE(void 0,void 0,void 0,(function(){var e;return TE(this,(function(t){switch(t.label){case 0:return n(!0),A(null),p.sendCodeSubmittedEvent(m,l),[4,v.twoStepVerification.verifyPasswordCode(o,{challengeId:u,actionType:l,code:E})];case 1:return(e=t.sent()).isError?(p.sendCodeVerificationFailedEvent(m,l,Ll[e.error||Ll.UNKNOWN]),e.error===Ll.INVALID_USER_ID||e.error===Ll.INVALID_CHALLENGE_ID?(y({type:ug.SET_CHALLENGE_INVALIDATED,errorCode:Rg(e.error)}),[2]):(n(!1),A(Dg(d,e.error)),[2])):(p.sendCodeVerifiedEvent(m,l),h.fireVerifiedEvent(m),y({type:ug.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{verificationToken:e.value.verificationToken,rememberDevice:N}}),[2])}}))}))},D={content:t?ji().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):d.Action.Verify,label:d.Action.Verify,enabled:!t,action:L},R=c?gd:yd.Modal.Body,k=c?Wf:Gf,P=c?"inline-challenge-lock-icon":"modal-lock-icon",x=c?"inline-challenge-margin-bottom":"modal-margin-bottom",M=c?"inline-challenge-margin-bottom-xlarge":"modal-margin-bottom-xlarge";return f&&ji().createElement(ji().Fragment,null,ji().createElement(R,null,ji().createElement("div",{className:P}),ji().createElement("p",{className:M},d.Label.EnterPassword),ji().createElement(Yg,{id:"two-step-verification-code-input",inputType:"text",disabled:t,value:E,setValue:b,error:T||C,setError:_,validate:Zg,handleSubmit:L,onChange:function(){return A(null)},canSubmit:!0,autoComplete:"off",placeholder:d.Label.PasswordPlaceholder,hideFeedback:!0,concealInput:!0,autoFocus:!0}),s&&ji().createElement(Jg,{disabled:t,rememberDevice:N,setRememberDevice:O,className:M}),r),ji().createElement(k,{positiveButton:D,negativeButton:null},ji().createElement(Xg,{className:x})))},wE=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},NE=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},OE=function(){var e=Fg(),t=e.state,n=t.userId,r=t.challengeId,a=t.actionType,i=t.renderInline,o=t.metadata,u=t.enabledMediaTypes,l=t.resources,c=t.eventService,s=t.metricsService,d=t.requestService,f=t.onModalChallengeAbandoned,p=t.isModalVisible,h=e.dispatch,v=kg(),y=(0,Lg.useHistory)(),m=(0,Fi.useState)(!1),g=m[0],E=m[1],b=(0,Fi.useState)(!1),S=b[0],C=b[1],_=(0,Fi.useState)(null),I=_[0],T=_[1],A=(0,Fi.useState)(!1),w=A[0],N=A[1],O=(0,Fi.useState)(l.Label.TwoStepVerification),L=O[0],D=O[1],R=(0,Fi.useState)(!0),k=R[0],P=R[1],x=function(){h({type:ug.HIDE_MODAL_CHALLENGE}),c.sendChallengeAbandonedEvent(v,a),s.fireAbandonedEvent(),v===Av.CrossDevice&&d.twoStepVerification.retractCrossDevice(n,{challengeId:r,actionType:a}),null!==f&&setTimeout((function(){return f((function(){return h({type:ug.SHOW_MODAL_CHALLENGE})}))}),Tg)},M=function(){return wE(void 0,void 0,void 0,(function(){var e,t,i,u,s,f,p,v,m,g,b;return NE(this,(function(S){switch(S.label){case 0:return T(null),null!==o?[2]:[4,d.twoStepVerification.getMetadata({userId:n,challengeId:r,actionType:a})];case 1:return(e=S.sent()).isError?(e.error===Ll.INVALID_USER_ID||e.error===Ll.INVALID_CHALLENGE_ID?h({type:ug.SET_CHALLENGE_INVALIDATED,errorCode:Rg(e.error)}):T(Dg(l,e.error)),[2]):[4,d.twoStepVerification.getUserConfiguration(n,{challengeId:r,actionType:a})];case 2:if((t=S.sent()).isError)return t.error===Ll.INVALID_USER_ID||t.error===Ll.INVALID_CHALLENGE_ID?h({type:ug.SET_CHALLENGE_INVALIDATED,errorCode:Rg(t.error)}):T(Dg(l,t.error)),[2];h({type:ug.SET_METADATA,metadata:e.value}),i=Av[t.value.primaryMediaType]||null,u=t.value.methods.filter((function(e){return e.enabled})).map((function(e){var t=e.mediaType;return Av[t]||null})),s=pi.DeviceMeta&&(0,pi.DeviceMeta)().isInApp,f=!0;try{(s||void 0===PublicKeyCredential)&&(f=!1)}catch(e){f=!1}return p=s&&pi.DeviceMeta&&((0,pi.DeviceMeta)().isIosApp||(0,pi.DeviceMeta)().isAndroidApp&&e.value.isAndroidSecurityKeyEnabled),v=s&&pi.DeviceMeta&&((0,pi.DeviceMeta)().isIosApp||(0,pi.DeviceMeta)().isAndroidApp),m=!1,i===Av.SecurityKey&&p||i===Av.Passkey&&v?[4,kl.hybridResponseService.getNativeResponse(kl.hybridResponseService.FeatureTarget.CREDENTIALS_PROTOCOL_AVAILABLE,{},2e3)]:[3,4];case 3:"true"===S.sent()&&(m=!0),S.label=4;case 4:return i!==Av.SecurityKey||f||m||(i=Av.Authenticator),g=!1,i!==Av.Passkey||f||m||(u.includes(Av.Passkey)&&u.splice(u.indexOf(Av.Passkey),1),u.length>0&&(g=!0,i=u[0])),y.replace(Pg(i)),i!==Av.Email?[3,7]:g?(c.sendEmailResendRequestedEvent(),[4,d.twoStepVerification.sendEmailCode(n,{challengeId:r,actionType:a})]):[3,6];case 5:(b=S.sent()).isError&&((null==b?void 0:b.error)!==Ll.INVALID_USER_ID&&(null==b?void 0:b.error)!==Ll.INVALID_CHALLENGE_ID||h({type:ug.SET_CHALLENGE_INVALIDATED,errorCode:Rg(b.error)})),S.label=6;case 6:E(!g),S.label=7;case 7:return 0!==u.length&&i||c.sendNoEnabledMethodsReturnedEvent(i,a,t.value.methods.length),!u.includes(Av.SecurityKey)||f||m||u.splice(u.indexOf(Av.SecurityKey),1),u.length>0&&a===Tv.Login&&!u.includes(Av.RecoveryCode)&&u.push(Av.RecoveryCode),h({type:ug.SET_USER_CONFIGURATION,userConfiguration:t.value,enabledMediaTypes:u}),c.sendUserConfigurationLoadedEvent(i,a),[2]}}))}))};(0,Fi.useEffect)((function(){M()}),[]);var U={content:l.Action.Reload,label:l.Action.Reload,enabled:null!==I,action:M},V=function(){var e,t=i?gd:yd.Modal.Body,n=i?Wf:Gf;return I?ji().createElement(ji().Fragment,null,ji().createElement(t,null,ji().createElement("p",null,I)),ji().createElement(n,{positiveButton:U,negativeButton:null})):o?(e=ji().createElement(ji().Fragment,null,v&&u.length>1&&k&&ji().createElement(Hg,{requestInFlight:w,originalMediaType:v,actionType:a})),ji().createElement(Lg.Switch,null,ji().createElement(Lg.Route,{path:Pg(Av.Authenticator)},ji().createElement(nE,{requestInFlight:w,setRequestInFlight:N},e)),ji().createElement(Lg.Route,{path:Pg(Av.Email)},ji().createElement(lE,{requestInFlight:w,setRequestInFlight:N},e)),ji().createElement(Lg.Route,{path:Pg(Av.RecoveryCode)},ji().createElement(dE,{requestInFlight:w,setRequestInFlight:N},e)),ji().createElement(Lg.Route,{path:Pg(Av.SMS)},ji().createElement(mE,{requestInFlight:w,setRequestInFlight:N},e)),ji().createElement(Lg.Route,{path:Pg(Av.SecurityKey)},ji().createElement(hE,{requestInFlight:w,setRequestInFlight:N},e)),ji().createElement(Lg.Route,{path:Pg(Av.CrossDevice)},ji().createElement(bE,{requestInFlight:w,setRequestInFlight:N,setModalTitleText:D,setShowChangeMediaType:P},e)),ji().createElement(Lg.Route,{path:Pg(Av.Passkey)},ji().createElement(_E,{requestInFlight:w,setRequestInFlight:N},e)),ji().createElement(Lg.Route,{path:Pg(Av.Password)},ji().createElement(AE,{requestInFlight:w,setRequestInFlight:N},e)),ji().createElement(Lg.Route,null,ji().createElement(Gg,{hasSentEmailCode:g,setHasSentEmailCode:E,hasSentSmsCode:S,setHasSentSmsCode:C,requestInFlight:w,setRequestInFlight:N,setModalTitleText:D},e)))):ji().createElement(t,null,ji().createElement("span",{className:"spinner spinner-default spinner-no-margin modal-margin-bottom-large"}))};return i?ji().createElement(md,{titleText:L},V()):ji().createElement(yd.Modal,{className:"modal-modern",show:p,onHide:x,backdrop:"static"},ji().createElement(Bf,{headerText:L,buttonType:jf.CLOSE,buttonAction:x,buttonEnabled:!w,headerInfo:null}),V())},LE=(0,od.withTranslations)((function(e){var t=e.userId,n=e.challengeId,r=e.actionType,a=e.renderInline,i=e.shouldModifyBrowserHistory,o=e.shouldShowRememberDeviceCheckbox,u=e.eventService,l=e.metricsService,c=e.requestService,s=e.translate,d=e.onChallengeCompleted,f=e.onChallengeInvalidated,p=e.onModalChallengeAbandoned,h=ji().createElement(Vg,{userId:t,challengeId:n,actionType:r,renderInline:a,shouldShowRememberDeviceCheckbox:o,eventService:u,metricsService:l,requestService:c,translate:s,onChallengeCompleted:d,onChallengeInvalidated:f,onModalChallengeAbandoned:p},ji().createElement(OE,null));return i?ji().createElement(_g.HashRouter,{hashType:"noslash"},h):ji().createElement(_g.MemoryRouter,null,h)}),{common:[],feature:"Authentication.TwoStepVerification"}),DE=function(){function e(e,t){this.challengeId=e,this.targetUserId=t}return e.prototype.sendChallengeInitializedEvent=function(){hi().EventStream.SendEventWithTarget(Ag,wg.challengeInitialized,{challengeId:this.challengeId,targetUserId:this.targetUserId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendUserConfigurationLoadedEvent=function(e,t){hi().EventStream.SendEventWithTarget(Ag,wg.userConfigurationLoaded,{challengeId:this.challengeId,targetUserId:this.targetUserId,mediaType:e||"",actionType:t||""},hi().EventStream.TargetTypes.WWW)},e.prototype.sendNoEnabledMethodsReturnedEvent=function(e,t,n){hi().EventStream.SendEventWithTarget(Ag,wg.noEnabledMethodsReturned,{challengeId:this.challengeId,targetUserId:this.targetUserId,primaryMediaType:e||"",actionType:t||"",methodsReturned:n},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeInvalidatedEvent=function(e,t){hi().EventStream.SendEventWithTarget(Ag,wg.challengeInvalidated,{challengeId:this.challengeId,targetUserId:this.targetUserId,mediaType:e||"",actionType:t||""},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeAbandonedEvent=function(e,t){hi().EventStream.SendEventWithTarget(Ag,wg.challengeAbandoned,{challengeId:this.challengeId,targetUserId:this.targetUserId,mediaType:e||"",actionType:t||""},hi().EventStream.TargetTypes.WWW)},e.prototype.sendEmailResendRequestedEvent=function(){hi().EventStream.SendEventWithTarget(Ag,wg.emailResendRequested,{challengeId:this.challengeId,targetUserId:this.targetUserId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendSmsResendRequestedEvent=function(){hi().EventStream.SendEventWithTarget(Ag,wg.smsResendRequested,{challengeId:this.challengeId,targetUserId:this.targetUserId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendMediaTypeChangedEvent=function(e,t){hi().EventStream.SendEventWithTarget(Ag,wg.mediaTypeChanged,{challengeId:this.challengeId,targetUserId:this.targetUserId,mediaType:e||"",actionType:t||""},hi().EventStream.TargetTypes.WWW)},e.prototype.sendCodeSubmittedEvent=function(e,t){hi().EventStream.SendEventWithTarget(Ag,wg.codeSubmitted,{challengeId:this.challengeId,targetUserId:this.targetUserId,mediaType:e||"",actionType:t||""},hi().EventStream.TargetTypes.WWW)},e.prototype.sendCodeVerificationFailedEvent=function(e,t,n){hi().EventStream.SendEventWithTarget(Ag,wg.codeVerificationFailed,{challengeId:this.challengeId,targetUserId:this.targetUserId,mediaType:e||"",actionType:t||"",reason:n},hi().EventStream.TargetTypes.WWW)},e.prototype.sendTryToSwitchMediaTypeEvent=function(e,t){hi().EventStream.SendEventWithTarget(Ag,wg.tryToSwitchMediaType,{challengeId:this.challengeId,targetUserId:this.targetUserId,mediaType:e||"",actionType:t||""},hi().EventStream.TargetTypes.WWW)},e.prototype.sendCodeVerifiedEvent=function(e,t){hi().EventStream.SendEventWithTarget(Ag,wg.codeVerified,{challengeId:this.challengeId,targetUserId:this.targetUserId,mediaType:e||"",actionType:t||""},hi().EventStream.TargetTypes.WWW)},e}(),RE=function(){function e(e,t,n){this.appType=t||"unknown",this.actionType=e,this.solveTimeSequenceName=this.actionType+"_"+Ig+"_"+Og.solveTime,this.eventTimer=new jd,this.requestServiceDefault=n}return e.prototype.fireInitializedEvent=function(){if(Wd){var e=this.actionType+"_"+Ig+"_"+Ng.initialized;Wd.fireEvent(e,e+"_"+this.appType),Wd.start(this.solveTimeSequenceName,this.solveTimeSequenceName+"_"+this.appType)}this.requestServiceDefault.metrics.recordMetric({name:Qc.Event2sv,value:1,labelValues:{action_type:this.actionType,event_type:Ng.initialized,application_type:this.appType}}).catch((function(){})),this.eventTimer.start(this.solveTimeSequenceName)},e.prototype.fireVerifiedEvent=function(e){if(null!==e){if(Wd){var t=this.actionType+"_"+Ig+"_"+Ng.verified+e;Wd.fireEvent(t,t+"_"+this.appType),Wd.endSuccess(this.solveTimeSequenceName,this.solveTimeSequenceName+"_"+this.appType)}this.requestServiceDefault.metrics.recordMetric({name:Qc.Event2sv,value:1,labelValues:{action_type:this.actionType,event_type:""+Ng.verified+e,application_type:this.appType}}).catch((function(){}));var n=this.eventTimer.end(this.solveTimeSequenceName);null!==n&&this.requestServiceDefault.metrics.recordMetric({name:Qc.SolveTime2sv,value:n,labelValues:{action_type:this.actionType,event_type:""+Ng.verified+e,application_type:this.appType}}).catch((function(){}))}},e.prototype.fireInvalidatedEvent=function(){if(Wd){var e=this.actionType+"_"+Ig+"_"+Ng.invalidated;Wd.fireEvent(e,e+"_"+this.appType),Wd.endFailure(this.solveTimeSequenceName,this.solveTimeSequenceName+"_"+this.appType)}this.requestServiceDefault.metrics.recordMetric({name:Qc.Event2sv,value:1,labelValues:{action_type:this.actionType,event_type:Ng.invalidated,application_type:this.appType}}).catch((function(){}));var t=this.eventTimer.end(this.solveTimeSequenceName);null!==t&&this.requestServiceDefault.metrics.recordMetric({name:Qc.SolveTime2sv,value:t,labelValues:{action_type:this.actionType,event_type:Ng.invalidated,application_type:this.appType}}).catch((function(){}))},e.prototype.fireAbandonedEvent=function(){if(Wd){var e=this.actionType+"_"+Ig+"_"+Ng.abandoned;Wd.fireEvent(e,e+"_"+this.appType),Wd.endCancel(this.solveTimeSequenceName,this.solveTimeSequenceName+"_"+this.appType)}this.requestServiceDefault.metrics.recordMetric({name:Qc.Event2sv,value:1,labelValues:{action_type:this.actionType,event_type:Ng.abandoned,application_type:this.appType}}).catch((function(){}));var t=this.eventTimer.end(this.solveTimeSequenceName);null!==t&&this.requestServiceDefault.metrics.recordMetric({name:Qc.SolveTime2sv,value:t,labelValues:{action_type:this.actionType,event_type:Ng.abandoned,application_type:this.appType}}).catch((function(){}))},e}(),kE=new id,PE=function(e){var t=e.containerId,n=e.userId,r=e.challengeId,a=e.appType,i=e.actionType,o=e.renderInline,u=e.shouldModifyBrowserHistory,l=e.shouldShowRememberDeviceCheckbox,c=e.onChallengeCompleted,s=e.onChallengeInvalidated,d=e.onModalChallengeAbandoned,f=document.getElementById(t);if(null!==f){(0,Wi.unmountComponentAtNode)(f);var p=new DE(r,n),h=new RE(i,a,kE);return(0,Wi.render)(ji().createElement(LE,{userId:n,challengeId:r,actionType:i,renderInline:o,shouldModifyBrowserHistory:u||!1,shouldShowRememberDeviceCheckbox:l,eventService:p,metricsService:h,requestService:kE,onChallengeCompleted:c,onChallengeInvalidated:s,onModalChallengeAbandoned:d}),f),p.sendChallengeInitializedEvent(),h.fireInitializedEvent(),!0}return!1},xE="Biometric",ME={challengeInitialized:"ChallengeInitialized",challengeCompleted:"ChallengeCompleted",challengeInvalidated:"ChallengeInvalidated",challengeAbandoned:"ChallengeAbandoned"},UE={challengeSolveTime:"ChallengeSolveTime"},VE="accountSecurityChallengeBiometricEvent",FE={challengeInitialized:"challengeInitialized",challengeCompleted:"challengeCompleted",challengeInvalidated:"challengeInvalidated",challengeAbandoned:"challengeAbandoned"};function jE(e,t){return jE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jE(e,t)}var WE=PropTypes,GE=n.n(WE),HE=ji().createContext(null);var BE=function(e){e()},zE=function(){return BE},qE=null,ZE={notify:function(){}};var KE=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=ZE,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=zE(),t=[],n=[];return{clear:function(){n=qE,t=qE},notify:function(){var r=t=n;e((function(){for(var e=0;e<r.length;e++)r[e]()}))},get:function(){return n},subscribe:function(e){var r=!0;return n===t&&(n=t.slice()),n.push(e),function(){r&&t!==qE&&(r=!1,n===t&&(n=t.slice()),n.splice(n.indexOf(e),1))}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=ZE)},e}(),YE=function(e){function t(t){var n;n=e.call(this,t)||this;var r=t.store;n.notifySubscribers=n.notifySubscribers.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n));var a=new KE(r);return a.onStateChange=n.notifySubscribers,n.state={store:r,subscription:a},n.previousState=r.getState(),n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,jE(e,t)}(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.state.subscription.trySubscribe(),this.previousState!==this.props.store.getState()&&this.state.subscription.notifyNestedSubs()},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this.state.subscription.tryUnsubscribe(),this._isMounted=!1},n.componentDidUpdate=function(e){if(this.props.store!==e.store){this.state.subscription.tryUnsubscribe();var t=new KE(this.props.store);t.onStateChange=this.notifySubscribers,this.setState({store:this.props.store,subscription:t})}},n.notifySubscribers=function(){this.state.subscription.notifyNestedSubs()},n.render=function(){var e=this.props.context||HE;return ji().createElement(e.Provider,{value:this.state},this.props.children)},t}(Fi.Component);YE.propTypes={store:GE().shape({subscribe:GE().func.isRequired,dispatch:GE().func.isRequired,getState:GE().func.isRequired}),context:GE().object,children:GE().any};var JE=YE;function XE(){return XE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XE.apply(null,arguments)}function QE(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}var $E=n(56),eb=n.n($E),tb=n(91),nb=n.n(tb),rb=n(625),ab=[],ib=[null,null];function ob(e,t){var n=e[1];return[t.payload,n+1]}var ub=function(){return[null,0]},lb="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?Fi.useLayoutEffect:Fi.useEffect;function cb(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,a=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,i=n.methodName,o=void 0===i?"connectAdvanced":i,u=n.renderCountProp,l=void 0===u?void 0:u,c=n.shouldHandleStateChanges,s=void 0===c||c,d=n.storeKey,f=void 0===d?"store":d,p=n.withRef,h=void 0!==p&&p,v=n.forwardRef,y=void 0!==v&&v,m=n.context,g=void 0===m?HE:m,E=QE(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);nb()(void 0===l,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),nb()(!h,"withRef is removed. To access the wrapped instance, use a ref on the connected component");nb()("store"===f,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var b=g;return function(t){var n=t.displayName||t.name||"Component",r=a(n),i=XE({},E,{getDisplayName:a,methodName:o,renderCountProp:l,shouldHandleStateChanges:s,storeKey:f,displayName:r,wrappedComponentName:n,WrappedComponent:t}),u=E.pure;var c=u?Fi.useMemo:function(e){return e()};function d(n){var a=(0,Fi.useMemo)((function(){var e=n.forwardedRef,t=QE(n,["forwardedRef"]);return[n.context,e,t]}),[n]),o=a[0],u=a[1],l=a[2],d=(0,Fi.useMemo)((function(){return o&&o.Consumer&&(0,rb.isContextConsumer)(ji().createElement(o.Consumer,null))?o:b}),[o,b]),f=(0,Fi.useContext)(d),p=Boolean(n.store),h=Boolean(f)&&Boolean(f.store);nb()(p||h,'Could not find "store" in the context of "'+r+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+r+" in connect options.");var v=n.store||f.store,y=(0,Fi.useMemo)((function(){return function(t){return e(t.dispatch,i)}(v)}),[v]),m=(0,Fi.useMemo)((function(){if(!s)return ib;var e=new KE(v,p?null:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[v,p,f]),g=m[0],E=m[1],S=(0,Fi.useMemo)((function(){return p?f:XE({},f,{subscription:g})}),[p,f,g]),C=(0,Fi.useReducer)(ob,ab,ub),_=C[0][0],I=C[1];if(_&&_.error)throw _.error;var T=(0,Fi.useRef)(),A=(0,Fi.useRef)(l),w=(0,Fi.useRef)(),N=(0,Fi.useRef)(!1),O=c((function(){return w.current&&l===A.current?w.current:y(v.getState(),l)}),[v,_,l]);lb((function(){A.current=l,T.current=O,N.current=!1,w.current&&(w.current=null,E())})),lb((function(){if(s){var e=!1,t=null,n=function(){if(!e){var n,r,a=v.getState();try{n=y(a,A.current)}catch(e){r=e,t=e}r||(t=null),n===T.current?N.current||E():(T.current=n,w.current=n,N.current=!0,I({type:"STORE_UPDATED",payload:{latestStoreState:a,error:r}}))}};g.onStateChange=n,g.trySubscribe(),n();return function(){if(e=!0,g.tryUnsubscribe(),t)throw t}}}),[v,g,y]);var L=(0,Fi.useMemo)((function(){return ji().createElement(t,XE({},O,{ref:u}))}),[u,t,O]);return(0,Fi.useMemo)((function(){return s?ji().createElement(d.Provider,{value:S},L):L}),[d,L,S])}var p=u?ji().memo(d):d;if(p.WrappedComponent=t,p.displayName=r,y){var h=ji().forwardRef((function(e,t){return ji().createElement(p,XE({},e,{forwardedRef:t}))}));return h.displayName=r,h.WrappedComponent=t,eb()(h,t)}return eb()(p,t)}}function sb(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sb(e)}var db=Object.prototype.hasOwnProperty;function fb(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function pb(e,t){if(fb(e,t))return!0;if("object"!==sb(e)||null===e||"object"!==sb(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!db.call(t,n[a])||!fb(e[n[a]],t[n[a]]))return!1;return!0}var hb=Redux;function vb(e){return function(t,n){var r=e(t,n);function a(){return r}return a.dependsOnOwnProps=!1,a}}function yb(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function mb(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=yb(e);var a=r(t,n);return"function"==typeof a&&(r.mapToProps=a,r.dependsOnOwnProps=yb(a),a=r(t,n)),a},r}}function gb(e){return gb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gb(e)}var Eb=[function(e){return"function"==typeof e?mb(e):void 0},function(e){return e?void 0:vb((function(e){return{dispatch:e}}))},function(e){return e&&"object"===gb(e)?vb((function(t){return(0,hb.bindActionCreators)(e,t)})):void 0}];var bb=[function(e){return"function"==typeof e?mb(e):void 0},function(e){return e?void 0:vb((function(){return{}}))}];function Sb(e,t,n){return XE({},n,e,t)}var Cb=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,a=n.pure,i=n.areMergedPropsEqual,o=!1;return function(t,n,u){var l=e(t,n,u);return o?a&&i(l,r)||(r=l):(o=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return Sb}}];function _b(e,t,n,r){return function(a,i){return n(e(a,i),t(r,i),i)}}function Ib(e,t,n,r,a){var i,o,u,l,c,s=a.areStatesEqual,d=a.areOwnPropsEqual,f=a.areStatePropsEqual,p=!1;function h(a,p){var h,v,y=!d(p,o),m=!s(a,i);return i=a,o=p,y&&m?(u=e(i,o),t.dependsOnOwnProps&&(l=t(r,o)),c=n(u,l,o)):y?(e.dependsOnOwnProps&&(u=e(i,o)),t.dependsOnOwnProps&&(l=t(r,o)),c=n(u,l,o)):m?(h=e(i,o),v=!f(h,u),u=h,v&&(c=n(u,l,o)),c):c}return function(a,s){return p?h(a,s):(u=e(i=a,o=s),l=t(r,o),c=n(u,l,o),p=!0,c)}}function Tb(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,a=t.initMergeProps,i=QE(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,i),u=r(e,i),l=a(e,i);return(i.pure?Ib:_b)(o,u,l,e,i)}function Ab(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ab(e)}function wb(e,t,n){for(var r=t.length-1;r>=0;r--){var a=t[r](e);if(a)return a}return function(t,r){throw new Error("Invalid value of type "+Ab(e)+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Nb(e,t){return e===t}var Ob,Lb,Db,Rb,kb,Pb,xb,Mb,Ub,Vb,Fb,jb;Db=(Lb=void 0===Ob?{}:Ob).connectHOC,Rb=void 0===Db?cb:Db,kb=Lb.mapStateToPropsFactories,Pb=void 0===kb?bb:kb,xb=Lb.mapDispatchToPropsFactories,Mb=void 0===xb?Eb:xb,Ub=Lb.mergePropsFactories,Vb=void 0===Ub?Cb:Ub,Fb=Lb.selectorFactory,jb=void 0===Fb?Tb:Fb;function Wb(){var e=(0,Fi.useContext)(HE);return nb()(e,"could not find react-redux context value; please ensure the component is wrapped in a <Provider>"),e}function Gb(){return Wb().store.dispatch}var Hb,Bb="undefined"!=typeof window?Fi.useLayoutEffect:Fi.useEffect,zb=function(e,t){return e===t};function qb(e,t){void 0===t&&(t=zb),nb()(e,"You must pass a selector to useSelectors");var n,r=Wb(),a=r.store,i=r.subscription,o=(0,Fi.useReducer)((function(e){return e+1}),0)[1],u=(0,Fi.useMemo)((function(){return new KE(a,i)}),[a,i]),l=(0,Fi.useRef)(),c=(0,Fi.useRef)(),s=(0,Fi.useRef)();try{n=e!==c.current||l.current?e(a.getState()):s.current}catch(e){var d="An error occured while selecting the store state: "+e.message+".";throw l.current&&(d+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\nOriginal stack trace:"),new Error(d)}return Bb((function(){c.current=e,s.current=n,l.current=void 0})),Bb((function(){function e(){try{var e=c.current(a.getState());if(t(e,s.current))return;s.current=e}catch(e){l.current=e}o({})}return u.onStateChange=e,u.trySubscribe(),e(),function(){return u.tryUnsubscribe()}}),[a,u]),n}Hb=Wi.unstable_batchedUpdates,BE=Hb;var Zb;!function(e){e.SET_CHALLENGE_COMPLETED="SET_CHALLENGE_COMPLETED",e.SET_CHALLENGE_INVALIDATED="SET_CHALLENGE_INVALIDATED"}(Zb||(Zb={}));var Kb=function(){return Kb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Kb.apply(this,arguments)},Yb=function(e,t){var n=Kb({},e);switch(t.type){case Zb.SET_CHALLENGE_COMPLETED:return n.onChallengeCompletedData=t.onChallengeCompletedData,n;case Zb.SET_CHALLENGE_INVALIDATED:return n.onChallengeInvalidatedData=t.onChallengeInvalidatedData,n;default:return e}},Jb=(0,Fi.createContext)(null),Xb=function(e){var t=e.challengeId,n=e.biometricType,r=e.appType,a=e.renderInline,i=e.eventService,o=e.metricsService,u=e.translate,l=e.onChallengeDisplayed,c=e.onChallengeCompleted,s=e.onChallengeInvalidated,d=e.onModalChallengeAbandoned,f=e.children,p=(0,Fi.useState)((function(){return function(e){return{Action:{StartBiometricVerification:e("Action.StartBiometricVerification"),Verifying:e("Action.Verifying"),PleaseTryAgain:e("Action.PleaseTryAgain"),Reload:e("Action.Reload")},Description:{BiometricVerification:e("Description.BiometricVerification"),FollowPrompt:e("Description.FollowPrompt")},Label:{BiometricVerification:e("Label.BiometricVerification"),CheckingBiometricSupport:e("Label.CheckingBiometricSupport"),FollowPrompt:e("Label.FollowPrompt"),RetryAttempt:e("Label.RetryAttempt")},Message:{Default:e("Message.Error.Default"),BiometricNotSupported:e("Message.Error.BiometricNotSupported"),BiometricNotEnrolled:e("Message.Error.BiometricNotEnrolled"),VerificationFailed:e("Message.Error.VerificationFailed"),UserCancelled:e("Message.Error.UserCancelled"),Timeout:e("Message.Error.Timeout")}}}(u)}))[0],h=(0,Fi.useState)((function(){return{challengeId:t,biometricType:n,appType:r,renderInline:a,resources:p,eventService:i,metricsService:o,onChallengeDisplayed:l,onModalChallengeAbandoned:d,onChallengeCompletedData:null,onChallengeInvalidatedData:null,isModalVisible:!1}}))[0],v=(0,Fi.useReducer)(Yb,h),y=v[0],m=v[1];return(0,Fi.useEffect)((function(){null!==y.onChallengeCompletedData&&null===y.onChallengeInvalidatedData&&c(y.onChallengeCompletedData)}),[y.onChallengeCompletedData,y.onChallengeInvalidatedData,c]),(0,Fi.useEffect)((function(){null===y.onChallengeCompletedData&&null!==y.onChallengeInvalidatedData&&s(y.onChallengeInvalidatedData)}),[i,o,y.onChallengeCompletedData,y.onChallengeInvalidatedData,s]),ji().createElement(Jb.Provider,{value:{state:y,dispatch:m}},f)},Qb=function(){var e=(0,Fi.useContext)(Jb);if(null===e)throw new Error("BiometricContext was not provided in the current scope");return e},$b=n(373),eS=n.n($b);var tS,nS=function(){return ji().createElement(yd.Loading,null)};!function(e){e.AgeEstimation="AgeEstimation"}(tS||(tS={}));var rS,aS=tS;!function(e){e.VerificationStarted="VERIFICATION_STARTED",e.verificationInProgress="VERIFICATION_IN_PROGRESS",e.VerificationPending="VERIFICATION_PENDING",e.VerificationFailed="VERIFICATION_FAILED",e.VerificationSucceded="VERIFICATION_SUCCEEDED"}(rS||(rS={}));var iS,oS,uS,lS,cS,sS=rS;function dS(e){return dS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dS(e)}function fS(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function pS(e){return!!e&&!!e[tC]}function hS(e){var t;return!!e&&(function(e){if(!e||"object"!=dS(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===nC}(e)||Array.isArray(e)||!!e[eC]||!!(null===(t=e.constructor)||void 0===t?void 0:t[eC])||SS(e)||CS(e))}function vS(e,t,n){void 0===n&&(n=!1),0===yS(e)?(n?Object.keys:rC)(e).forEach((function(r){n&&"symbol"==dS(r)||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function yS(e){var t=e[tC];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:SS(e)?2:CS(e)?3:0}function mS(e,t){return 2===yS(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function gS(e,t){return 2===yS(e)?e.get(t):e[t]}function ES(e,t,n){var r=yS(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function bS(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function SS(e){return JS&&e instanceof Map}function CS(e){return XS&&e instanceof Set}function _S(e){return e.o||e.t}function IS(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=aC(e);delete t[tC];for(var n=rC(t),r=0;r<n.length;r++){var a=n[r],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function TS(e,t){return void 0===t&&(t=!1),wS(e)||pS(e)||!hS(e)||(yS(e)>1&&(e.set=e.add=e.clear=e.delete=AS),Object.freeze(e),t&&vS(e,(function(e,t){return TS(t,!0)}),!0)),e}function AS(){fS(2)}function wS(e){return null==e||"object"!=dS(e)||Object.isFrozen(e)}function NS(e){var t=iC[e];return t||fS(18,e),t}function OS(e,t){iC[e]||(iC[e]=t)}function LS(){return KS}function DS(e,t){t&&(NS("Patches"),e.u=[],e.s=[],e.v=t)}function RS(e){kS(e),e.p.forEach(xS),e.p=null}function kS(e){e===KS&&(KS=e.l)}function PS(e){return KS={p:[],l:KS,h:e,m:!0,_:0}}function xS(e){var t=e[tC];0===t.i||1===t.i?t.j():t.g=!0}function MS(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||NS("ES5").S(t,e,r),r?(n[tC].P&&(RS(t),fS(4)),hS(e)&&(e=US(t,e),t.l||FS(t,e)),t.u&&NS("Patches").M(n[tC].t,e,t.u,t.s)):e=US(t,n,[]),RS(t),t.u&&t.v(t.u,t.s),e!==$S?e:void 0}function US(e,t,n){if(wS(t))return t;var r=t[tC];if(!r)return vS(t,(function(a,i){return VS(e,r,t,a,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return FS(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var a=4===r.i||5===r.i?r.o=IS(r.k):r.o,i=a,o=!1;3===r.i&&(i=new Set(a),a.clear(),o=!0),vS(i,(function(t,i){return VS(e,r,a,t,i,n,o)})),FS(e,a,!1),n&&e.u&&NS("Patches").N(r,n,e.u,e.s)}return r.o}function VS(e,t,n,r,a,i,o){if(pS(a)){var u=US(e,a,i&&t&&3!==t.i&&!mS(t.R,r)?i.concat(r):void 0);if(ES(n,r,u),!pS(u))return;e.m=!1}else o&&n.add(a);if(hS(a)&&!wS(a)){if(!e.h.D&&e._<1)return;US(e,a),t&&t.A.l||FS(e,a)}}function FS(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&TS(t,n)}function jS(e,t){var n=e[tC];return(n?_S(n):e)[t]}function WS(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function GS(e){e.P||(e.P=!0,e.l&&GS(e.l))}function HS(e){e.o||(e.o=IS(e.t))}function BS(e,t,n){var r=SS(t)?NS("MapSet").F(t,n):CS(t)?NS("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:LS(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},a=r,i=oC;n&&(a=[r],i=uC);var o=Proxy.revocable(a,i),u=o.revoke,l=o.proxy;return r.k=l,r.j=u,l}(t,n):NS("ES5").J(t,n);return(n?n.A:LS()).p.push(r),r}function zS(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return IS(e)}function qS(){function e(e,t){var n=a[e];return n?n.enumerable=t:a[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[tC];return oC.get(t,e)},set:function(t){var n=this[tC];oC.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var a=e[t][tC];if(!a.P)switch(a.i){case 5:r(a)&&GS(a);break;case 4:n(a)&&GS(a)}}}function n(e){for(var t=e.t,n=e.k,r=rC(n),a=r.length-1;a>=0;a--){var i=r[a];if(i!==tC){var o=t[i];if(void 0===o&&!mS(t,i))return!0;var u=n[i],l=u&&u[tC];if(l?l.t!==o:!bS(u,o))return!0}}var c=!!t[tC];return r.length!==rC(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var a={};OS("ES5",{J:function(t,n){var r=Array.isArray(t),a=function(t,n){if(t){for(var r=Array(n.length),a=0;a<n.length;a++)Object.defineProperty(r,""+a,e(a,!0));return r}var i=aC(n);delete i[tC];for(var o=rC(i),u=0;u<o.length;u++){var l=o[u];i[l]=e(l,t||!!i[l].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(r,t),i={i:r?5:4,A:n?n.A:LS(),P:!1,I:!1,R:{},l:n,t:t,k:a,o:null,g:!1,C:!1};return Object.defineProperty(a,tC,{value:i,writable:!0}),a},S:function(e,n,a){a?pS(n)&&n[tC].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==dS(t)){var n=t[tC];if(n){var a=n.t,i=n.k,o=n.R,u=n.i;if(4===u)vS(i,(function(t){t!==tC&&(void 0!==a[t]||mS(a,t)?o[t]||e(i[t]):(o[t]=!0,GS(n)))})),vS(a,(function(e){void 0!==i[e]||mS(i,e)||(o[e]=!1,GS(n))}));else if(5===u){if(r(n)&&(GS(n),o.length=!0),i.length<a.length)for(var l=i.length;l<a.length;l++)o[l]=!1;else for(var c=a.length;c<i.length;c++)o[c]=!0;for(var s=Math.min(i.length,a.length),d=0;d<s;d++)i.hasOwnProperty(d)||(o[d]=!0),void 0===o[d]&&e(i[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){e[e.VendorLink=0]="VendorLink",e[e.Checklist=1]="Checklist",e[e.Complete=2]="Complete"}(iS||(iS={})),function(e){e[e.Invalid=0]="Invalid",e[e.Fae=1]="Fae",e[e.Idv=2]="Idv",e[e.LivenessCheck=3]="LivenessCheck"}(oS||(oS={})),function(e){e[e.Unknown=0]="Unknown",e[e.Success=1]="Success",e[e.Failure=2]="Failure",e[e.RequiresManualReview=3]="RequiresManualReview",e[e.RequiresRetry=4]="RequiresRetry",e[e.Started=5]="Started",e[e.Submitted=6]="Submitted",e[e.Stored=7]="Stored",e[e.Expired=8]="Expired"}(uS||(uS={})),function(e){e[e.NoError=0]="NoError",e[e.UnknownError=1]="UnknownError",e[e.InvalidDocument=2]="InvalidDocument",e[e.InvalidSelfie=3]="InvalidSelfie",e[e.BelowMinimumAge=4]="BelowMinimumAge",e[e.LowQualityMedia=5]="LowQualityMedia",e[e.DocumentUnsupported=6]="DocumentUnsupported"}(lS||(lS={})),function(e){e[e.LANDING=0]="LANDING",e[e.EMAIL=1]="EMAIL",e[e.MODAL=2]="MODAL",e[e.SUCCESS_GENERIC=3]="SUCCESS_GENERIC",e[e.FAILURE=4]="FAILURE",e[e.PENDING=5]="PENDING",e[e.POLLING=6]="POLLING",e[e.EMAIL_CONTINUE=7]="EMAIL_CONTINUE",e[e.EXTERNAL_EMAIL=8]="EXTERNAL_EMAIL",e[e.ERROR=9]="ERROR",e[e.TEMP_BAN=10]="TEMP_BAN",e[e.VENDOR_LINK=11]="VENDOR_LINK"}(cS||(cS={}));var ZS,KS,YS="undefined"!=typeof Symbol&&"symbol"==dS(Symbol("x")),JS="undefined"!=typeof Map,XS="undefined"!=typeof Set,QS="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,$S=YS?Symbol.for("immer-nothing"):((ZS={})["immer-nothing"]=!0,ZS),eC=YS?Symbol.for("immer-draftable"):"__$immer_draftable",tC=YS?Symbol.for("immer-state"):"__$immer_state",nC=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),rC="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,aC=Object.getOwnPropertyDescriptors||function(e){var t={};return rC(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},iC={},oC={get:function(e,t){if(t===tC)return e;var n=_S(e);if(!mS(n,t))return function(e,t,n){var r,a=WS(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!hS(r)?r:r===jS(e.t,t)?(HS(e),e.o[t]=BS(e.A.h,r,e)):r},has:function(e,t){return t in _S(e)},ownKeys:function(e){return Reflect.ownKeys(_S(e))},set:function(e,t,n){var r=WS(_S(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var a=jS(_S(e),t),i=null==a?void 0:a[tC];if(i&&i.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(bS(n,a)&&(void 0!==n||mS(e.t,t)))return!0;HS(e),GS(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==jS(e.t,t)||t in e.t?(e.R[t]=!1,HS(e),GS(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=_S(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){fS(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){fS(12)}},uC={};vS(oC,(function(e,t){uC[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),uC.deleteProperty=function(e,t){return uC.set.call(this,e,t,void 0)},uC.set=function(e,t,n){return oC.set.call(this,e[0],t,n,e[0])};var lC=function(){function e(e){var t=this;this.O=QS,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var a=n;n=e;var i=t;return function(e){var t=this;void 0===e&&(e=a);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return i.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&fS(6),void 0!==r&&"function"!=typeof r&&fS(7),hS(e)){var u=PS(t),l=BS(t,e,void 0),c=!0;try{o=n(l),c=!1}finally{c?RS(u):kS(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return DS(u,r),MS(e,u)}),(function(e){throw RS(u),e})):(DS(u,r),MS(o,u))}if(!e||"object"!=dS(e)){if(void 0===(o=n(e))&&(o=e),o===$S&&(o=void 0),t.D&&TS(o,!0),r){var s=[],d=[];NS("Patches").M(e,o,s,d),r(s,d)}return o}fS(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(a))}))};var r,a,i=t.produce(e,n,(function(e,t){r=e,a=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,a]})):[i,r,a]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){hS(e)||fS(8),pS(e)&&(e=function(e){return pS(e)||fS(22,e),function e(t){if(!hS(t))return t;var n,r=t[tC],a=yS(t);if(r){if(!r.P&&(r.i<4||!NS("ES5").K(r)))return r.t;r.I=!0,n=zS(t,a),r.I=!1}else n=zS(t,a);return vS(n,(function(t,a){r&&gS(r.t,t)===a||ES(n,t,e(a))})),3===a?new Set(n):n}(e)}(e));var t=PS(this),n=BS(this,e,void 0);return n[tC].C=!0,kS(t),n},t.finishDraft=function(e,t){var n=(e&&e[tC]).A;return DS(n,t),MS(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!QS&&fS(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var a=NS("Patches").$;return pS(e)?a(e,t):this.produce(e,(function(e){return a(e,t)}))},e}(),cC=new lC,sC=cC.produce,dC=(cC.produceWithPatches.bind(cC),cC.setAutoFreeze.bind(cC),cC.setUseProxies.bind(cC),cC.applyPatches.bind(cC),cC.createDraft.bind(cC),cC.finishDraft.bind(cC),sC),fC=ReduxThunk,pC=n.n(fC);function hC(e){return hC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hC(e)}var vC,yC=(vC=function(e,t){return vC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},vC(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}vC(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),mC=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},gC=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},EC=Object.defineProperty,bC=Object.defineProperties,SC=Object.getOwnPropertyDescriptors,CC=Object.getOwnPropertySymbols,_C=Object.prototype.hasOwnProperty,IC=Object.prototype.propertyIsEnumerable,TC=function(e,t,n){return t in e?EC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},AC=function(e,t){for(var n in t||(t={}))_C.call(t,n)&&TC(e,n,t[n]);if(CC)for(var r=0,a=CC(t);r<a.length;r++){n=a[r];IC.call(t,n)&&TC(e,n,t[n])}return e},wC=function(e,t){return bC(e,SC(t))},NC=function(e,t,n){return new Promise((function(r,a){var i=function(e){try{u(n.next(e))}catch(e){a(e)}},o=function(e){try{u(n.throw(e))}catch(e){a(e)}},u=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,o)};u((n=n.apply(e,t)).next())}))},OC="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===hC(arguments[0])?hb.compose:hb.compose.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function LC(e){if("object"!==hC(e)||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}function DC(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var a=t.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return AC(AC({type:e,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}var RC=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=e.apply(this,n)||this;return Object.setPrototypeOf(a,t.prototype),a}return yC(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,gC([void 0],e[0].concat(this)))):new(t.bind.apply(t,gC([void 0],e.concat(this))))},t}(Array),kC=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=e.apply(this,n)||this;return Object.setPrototypeOf(a,t.prototype),a}return yC(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,gC([void 0],e[0].concat(this)))):new(t.bind.apply(t,gC([void 0],e.concat(this))))},t}(Array);function PC(e){return hS(e)?dC(e,(function(){})):e}function xC(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new RC);n&&(!function(e){return"boolean"==typeof e}(n)?r.push(pC().withExtraArgument(n.extraArgument)):r.push(pC()));0;return r}(e)}}function MC(e){var t,n={},r=[],a={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(!r)throw new Error("`builder.addCase` cannot be called with an empty action type");if(r in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[r]=t,a},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),a},addDefaultCase:function(e){return t=e,a}};return e(a),[n,r,t]}var UC=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},VC=["name","message","stack","code"],FC=function(e,t){this.payload=e,this.meta=t},jC=function(e,t){this.payload=e,this.meta=t},WC=function(e){if("object"===hC(e)&&null!==e){for(var t={},n=0,r=VC;n<r.length;n++){var a=r[n];"string"==typeof e[a]&&(t[a]=e[a])}return t}return{message:String(e)}},GC=function(){function e(e,t,n){var r=DC(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:wC(AC({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),a=DC(e+"/pending",(function(e,t,n){return{payload:void 0,meta:wC(AC({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),i=DC(e+"/rejected",(function(e,t,r,a,i){return{payload:a,error:(n&&n.serializeError||WC)(e||"Rejected"),meta:wC(AC({},i||{}),{arg:r,requestId:t,rejectedWithValue:!!a,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(u,l,c){var s,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):UC(),f=new o;function p(e){s=e,f.abort()}var h=function(){return NC(this,null,(function(){var o,h,v,y,m,g;return mC(this,(function(E){switch(E.label){case 0:return E.trys.push([0,4,,5]),y=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:l,extra:c}),null===(b=y)||"object"!==hC(b)||"function"!=typeof b.then?[3,2]:[4,y];case 1:y=E.sent(),E.label=2;case 2:if(!1===y||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return m=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:s||"Aborted"})}))})),u(a(d,e,null==(h=null==n?void 0:n.getPendingMeta)?void 0:h.call(n,{requestId:d,arg:e},{getState:l,extra:c}))),[4,Promise.race([m,Promise.resolve(t(e,{dispatch:u,getState:l,extra:c,requestId:d,signal:f.signal,abort:p,rejectWithValue:function(e,t){return new FC(e,t)},fulfillWithValue:function(e,t){return new jC(e,t)}})).then((function(t){if(t instanceof FC)throw t;return t instanceof jC?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return v=E.sent(),[3,5];case 4:return g=E.sent(),v=g instanceof FC?i(null,d,e,g.payload,g.meta):i(g,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&i.match(v)&&v.meta.condition||u(v),[2,v]}var b}))}))}();return Object.assign(h,{abort:p,requestId:d,arg:e,unwrap:function(){return h.then(HC)}})}}),{pending:a,rejected:i,fulfilled:r,typePrefix:e})}return e.withTypes=function(){return e},e}();function HC(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var BC="listenerMiddleware";DC(BC+"/add"),DC(BC+"/removeAll"),DC(BC+"/remove");"function"==typeof queueMicrotask&&queueMicrotask.bind("undefined"!=typeof window?window:void 0!==n.g?n.g:globalThis);var zC,qC=function(e){return function(t){setTimeout(t,e)}};"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:qC(10);qS();var ZC,KC,YC,JC=function(e,t,n){kl.eventStreamService.sendEventWithTarget(e,t,n)},XC=function(){return XC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},XC.apply(this,arguments)},QC=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},$C=function(e,t){void 0===t&&(t=[]);var n=function(e){switch(e){case cS.FAILURE:return{heading:"Heading.VerificationFailed",icon:"failure-icon",bodyText:["Label.FailedVerification"],buttonText:"Action.Close"};case cS.PENDING:return{heading:"Heading.VerificationPending",icon:"failure-icon",bodyText:["Label.PendingVerification"],buttonText:"Action.Close"};case cS.ERROR:return{heading:"Heading.Error",icon:"failure-icon",bodyText:["Label.GenericError"]};case cS.TEMP_BAN:return{heading:"Heading.Error",icon:"failure-icon",bodyText:["Label.VerificationDeclined"]};case cS.SUCCESS_GENERIC:case cS.LANDING:case cS.EMAIL:case cS.MODAL:case cS.POLLING:case cS.EMAIL_CONTINUE:case cS.EXTERNAL_EMAIL:case cS.VENDOR_LINK:default:return{}}}(e),r=XC(XC({},n),{bodyText:QC(QC([],n.bodyText||[]),t)});return XC(XC({},{heading:"Heading.VerificationSuccessful",icon:"success-icon",bodyText:["Label.DateOfBirthUpdated"],buttonText:"Action.Close",footerText:""}),r)},e_=pi.EnvironmentUrls.apiGatewayUrl,t_=function(){var e={retryable:!0,withCredentials:!0,url:e_+"/age-verification-service/v1/persona-id-verification/start-verification"},t={generateLink:!0,template:oS.LivenessCheck};return Gi.httpService.post(e,t).then((function(e){return e.data})).catch((function(e){var t=Gi.httpService.parseErrorCode(e);console.error("Error to start ID verification: "+(t||"unknown"),e)}))},n_=function(e){var t={retryable:!0,withCredentials:!0,url:e_+"/age-verification-service/v1/persona-id-verification/verified-status"},n={token:e};return Gi.httpService.get(t,n).then((function(e){return e.data})).catch((function(e){var t=Gi.httpService.parseErrorCode(e);console.error("Error to get ID verification status: "+(t||"unknown"),e)}))},r_=function(){return r_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r_.apply(this,arguments)},a_=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},i_=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},o_={verified:!1,IDVerificationState:{page:iS.VendorLink,vendorVerificationData:{daysUntilNextVerification:0,sessionIdentifier:"",verificationLink:"",qrCode:"",loading:!1},loading:!1,status:{sessionStatus:uS.Unknown,sessionErrorCode:lS.NoError},completionPageState:{heading:"",bodyText:[],icon:"",footerText:"",buttonText:""},error:""},loading:!1},u_=function(e){return e.verification.IDVerificationState},l_=function(e){return e.verification.loading},c_=GC("verification/startIDVerification",(function(e,t){return a_(void 0,void 0,void 0,(function(){var e,n;return i_(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t_()];case 1:return void 0===(e=r.sent())?(JC(sS.VerificationFailed,aS.AgeEstimation,{error:"API returned undefined response"}),[2,t.rejectWithValue("Failed to start ID Verification")]):[2,e];case 2:return n=r.sent(),JC(sS.VerificationFailed,aS.AgeEstimation,{error:JSON.stringify(n)}),[2,t.rejectWithValue("Failed to start ID Verification")];case 3:return[2]}}))}))})),s_=GC("verification/fetchIDVerificationStatus",(function(e,t){return a_(void 0,void 0,void 0,(function(){var n,r;return i_(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,n_(e)];case 1:return void 0===(n=a.sent())?(JC(sS.VerificationFailed,aS.AgeEstimation,{error:"API returned undefined response"}),[2,t.rejectWithValue("Failed to fetch ID Verification status")]):[2,n];case 2:return r=a.sent(),JC(sS.VerificationFailed,aS.AgeEstimation,{error:JSON.stringify(r)}),[2,t.rejectWithValue("Failed to fetch ID Verification status")];case 3:return[2]}}))}))})),d_=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:PC(e.initialState),a=e.reducers||{},i=Object.keys(a),o={},u={},l={};function c(){var t="function"==typeof e.extraReducers?MC(e.extraReducers):[e.extraReducers],n=t[0],a=void 0===n?{}:n,i=t[1],o=void 0===i?[]:i,l=t[2],c=void 0===l?void 0:l,s=AC(AC({},a),u);return function(e,t,n,r){void 0===n&&(n=[]);var a,i="function"==typeof t?MC(t):[t,n,r],o=i[0],u=i[1],l=i[2];if(function(e){return"function"==typeof e}(e))a=function(){return PC(e())};else{var c=PC(e);a=function(){return c}}function s(e,t){void 0===e&&(e=a());var n=gC([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(pS(e))return void 0===(r=n(e,t))?e:r;if(hS(e))return dC(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return s.getInitialState=a,s}(r,(function(e){for(var t in s)e.addCase(t,s[t]);for(var n=0,r=o;n<r.length;n++){var a=r[n];e.addMatcher(a.matcher,a.reducer)}c&&e.addDefaultCase(c)}))}return i.forEach((function(e){var n,r,i=a[e],c=t+"/"+e;"reducer"in i?(n=i.reducer,r=i.prepare):n=i,o[e]=n,u[c]=n,l[e]=r?DC(c,r):DC(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:l,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"verification",initialState:o_,reducers:{resetVerificationStore:function(){return o_},setVerified:function(e,t){e.verified=t.payload},setIDVerificationState:function(e,t){e.IDVerificationState=r_({},t.payload)},setIDVPage:function(e,t){e.IDVerificationState.page=t.payload},setLoading:function(e,t){e.loading=t.payload}},extraReducers:function(e){e.addCase(c_.pending,(function(e,t){var n=e.IDVerificationState.vendorVerificationData;n.loading=!0,e.IDVerificationState=r_(r_({},e.IDVerificationState),{vendorVerificationData:n,loading:!0})})).addCase(c_.fulfilled,(function(e,t){var n=t.payload,r=n.daysUntilNextVerification,a=null;n.loading=!1,null!=r&&r>0&&(a=$C(cS.TEMP_BAN,["Label.FailedVerificationInvalidDocument"])),e.IDVerificationState=r_(r_(r_(r_({},e.IDVerificationState),{vendorVerificationData:n}),a&&{completionPageState:a}),{loading:!1})})).addCase(c_.rejected,(function(e,t){var n=e.IDVerificationState.vendorVerificationData;n.loading=!1,e.IDVerificationState=r_(r_({},e.IDVerificationState),{vendorVerificationData:n,loading:!1,error:t.error.message||"Something went wrong"})})).addCase(s_.pending,(function(e){e.IDVerificationState=r_(r_({},e.IDVerificationState),{loading:!0})})).addCase(s_.fulfilled,(function(e,t){var n,r=t.payload,a=e.IDVerificationState.page;switch(r.sessionStatus){case uS.RequiresRetry:case uS.Failure:switch(a=iS.Complete,r.sessionErrorCode){case lS.InvalidDocument:case lS.BelowMinimumAge:n=$C(cS.FAILURE,["Label.FailedVerificationInvalidDocument"]);break;case lS.LowQualityMedia:case lS.InvalidSelfie:n=$C(cS.FAILURE,["Label.FailedVerificationLowQuality"]);break;case lS.DocumentUnsupported:n=$C(cS.FAILURE,["Label.FailedVerificationUnsupportedDocument"]);break;default:n=$C(cS.FAILURE)}break;case uS.RequiresManualReview:a=iS.Complete,n=$C(cS.PENDING);break;case uS.Success:case uS.Stored:a=iS.Complete,n=$C(cS.SUCCESS_GENERIC);break;case uS.Started:a=iS.Checklist,JC(sS.VerificationStarted,aS.AgeEstimation,{session:e.IDVerificationState.vendorVerificationData.sessionIdentifier});break;case uS.Submitted:JC(sS.verificationInProgress,aS.AgeEstimation,{session:e.IDVerificationState.vendorVerificationData.sessionIdentifier})}e.IDVerificationState=r_(r_(r_(r_({},e.IDVerificationState),{loading:!1,status:r}),n&&{completionPageState:n}),{page:a})})).addCase(s_.rejected,(function(e,t){e.IDVerificationState=r_(r_({},e.IDVerificationState),{loading:!1,error:t.error.message||"Something went wrong"})}))}}),f_=((ZC=d_.actions).resetVerificationStore,ZC.setVerified,ZC.setIDVerificationState,ZC.setIDVPage,ZC.setLoading),p_=function(e){var t,n=xC(),r=e||{},a=r.reducer,i=void 0===a?void 0:a,o=r.middleware,u=void 0===o?n():o,l=r.devTools,c=void 0===l||l,s=r.preloadedState,d=void 0===s?void 0:s,f=r.enhancers,p=void 0===f?void 0:f;if("function"==typeof i)t=i;else{if(!LC(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=(0,hb.combineReducers)(i)}var h=u;"function"==typeof h&&(h=h(n));var v=hb.applyMiddleware.apply(void 0,h),y=hb.compose;c&&(y=OC(AC({trace:!1},"object"===hC(c)&&c)));var m=new kC(v),g=m;Array.isArray(p)?g=gC([v],p):"function"==typeof p&&(g=p(m));var E=y.apply(void 0,g);return(0,hb.createStore)(t,d,E)}({reducer:{verification:d_.reducer}});!function(e){e.PersonaLivenessCheck="PersonaLivenessCheck"}(KC||(KC={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_SUPPORTED=1]="NOT_SUPPORTED",e[e.NOT_ENROLLED=2]="NOT_ENROLLED",e[e.VERIFICATION_FAILED=3]="VERIFICATION_FAILED",e[e.USER_CANCELLED=4]="USER_CANCELLED",e[e.TIMEOUT=5]="TIMEOUT"}(YC||(YC={}));var h_=18e5;var v_,y_,m_=function(e){var t,n=e.onChallengeDisplayed,r=(0,Fi.useRef)(Number(new Date)+h_),a=Gb(),i=qb(l_),o=qb(u_).page,u=(0,Fi.useRef)(o),l=(0,Fi.useRef)(!1);(0,Fi.useEffect)((function(){u.current=o}),[o]);var c=null!==(t=pi.DeviceMeta&&(0,pi.DeviceMeta)().isInApp)&&void 0!==t&&t,s=qb(u_).vendorVerificationData.sessionIdentifier,d=Qb(),f=d.state,p=f.biometricType,h=f.eventService,v=f.metricsService,y=d.dispatch;return(0,Fi.useEffect)((function(){a(f_(!0)),a(c_()),c&&(r.current=Number(new Date)+h_)}),[]),(0,Fi.useEffect)((function(){if(s)var e=new(eS().Client)({inquiryId:s,onReady:function(){h.sendChallengeInitializedEvent(),v.fireChallengeInitializedEvent(),e.open(),a(f_(!1)),n({displayed:!0})},onComplete:function(e){e.inquiryId;var t=e.status;e.fields;if(!l.current){a(f_(!0)),l.current=!0;var n=0,r=setInterval((function(){u.current===iS.Complete||n>=12?(clearInterval(r),a(f_(!1)),h.sendChallengeCompletedEvent(t),v.fireChallengeCompletedEvent(),y({type:Zb.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{biometricType:p}})):(a(s_(s)),n+=1)}),2500)}},onCancel:function(e){e.inquiryId,e.sessionToken;l.current=!1,h.sendChallengeInvalidatedEvent("Persona cancelled"),v.fireChallengeInvalidatedEvent(),y({type:Zb.SET_CHALLENGE_INVALIDATED,onChallengeInvalidatedData:{errorCode:YC.VERIFICATION_FAILED,errorMessage:"Persona cancelled"}})},onError:function(e){a(s_(s)),h.sendChallengeInvalidatedEvent("Persona error"),v.fireChallengeInvalidatedEvent(),y({type:Zb.SET_CHALLENGE_INVALIDATED,onChallengeInvalidatedData:{errorCode:YC.UNKNOWN,errorMessage:"Persona error"}})}})}),[s,p,h,v]),ji().createElement(ji().Fragment,null,i?ji().createElement(nS,null):null)},g_=function(){var e=Qb(),t=e.state,n=t.biometricType,r=(t.renderInline,t.resources,t.metricsService,t.eventService,t.onChallengeDisplayed);e.dispatch;return"personaliveness"===n?ji().createElement(JE,{store:p_},ji().createElement(m_,{onChallengeDisplayed:r})):(console.error("Biometric type not supported:",n),null)},E_=(0,od.withTranslations)((function(e){var t=e.challengeId,n=e.biometricType,r=e.appType,a=e.renderInline,i=e.eventService,o=e.metricsService,u=e.translate,l=e.onChallengeDisplayed,c=e.onChallengeCompleted,s=e.onChallengeInvalidated,d=e.onModalChallengeAbandoned;return ji().createElement(Xb,{challengeId:t,biometricType:n,appType:r,renderInline:a,eventService:i,metricsService:o,translate:u,onChallengeDisplayed:l,onChallengeCompleted:c,onChallengeInvalidated:s,onModalChallengeAbandoned:d},ji().createElement(g_,null))}),{common:["CommonUI.Messages"],feature:"Feature.Biometric"}),b_=function(){function e(e){this.challengeId=e}return e.prototype.sendChallengeInitializedEvent=function(){hi().EventStream.SendEventWithTarget(VE,FE.challengeInitialized,{challengeId:this.challengeId},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeCompletedEvent=function(e){hi().EventStream.SendEventWithTarget(VE,FE.challengeCompleted,{challengeId:this.challengeId,result:e},hi().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeInvalidatedEvent=function(e){hi().EventStream.SendEventWithTarget(VE,FE.challengeInvalidated,{challengeId:this.challengeId,result:e},hi().EventStream.TargetTypes.WWW)},e}(),S_=function(){function e(e,t,n){this.biometricType=e,this.appType=t,this.requestServiceDefault=n,this.eventTimer=new jd,this.challengeSolveTimeSequenceName=xE+"_"+UE.challengeSolveTime}return e.prototype.fireChallengeInitializedEvent=function(){this.fireEvent(ME.challengeInitialized),this.eventTimer.start(this.challengeSolveTimeSequenceName)},e.prototype.fireChallengeCompletedEvent=function(){this.fireEvent(ME.challengeCompleted),this.fireSolveTimeEvent(ME.challengeCompleted)},e.prototype.fireChallengeInvalidatedEvent=function(){this.fireEvent(ME.challengeInvalidated),this.fireSolveTimeEvent(ME.challengeInvalidated)},e.prototype.fireChallengeAbandonedEvent=function(){this.fireEvent(ME.challengeAbandoned),this.fireSolveTimeEvent(ME.challengeAbandoned)},e.prototype.fireEvent=function(e){this.requestServiceDefault.metrics.recordMetric({name:Qc.EventPersonaLiveness,value:1,labelValues:{event_type:xE+"_"+e}}).catch((function(){}))},e.prototype.fireSolveTimeEvent=function(e){var t=this.eventTimer.end(this.challengeSolveTimeSequenceName);null!==t&&this.requestServiceDefault.metrics.recordMetric({name:Qc.SolveTimePersonaLiveness,value:t,labelValues:{event_type:xE+"_"+e}}).catch((function(){}))},e}(),C_=new id,__=function(e){var t=e.containerId,n=e.challengeId,r=e.biometricType,a=e.appType,i=e.renderInline,o=e.onChallengeDisplayed,u=e.onChallengeCompleted,l=e.onChallengeInvalidated,c=e.onModalChallengeAbandoned,s=document.getElementById(t);if(null!==s){(0,Wi.unmountComponentAtNode)(s);var d=new b_(n),f=new S_(r,a||"",C_);return(0,Wi.render)(ji().createElement(E_,{challengeId:n,biometricType:r,appType:a,renderInline:i,eventService:d,metricsService:f,onChallengeDisplayed:o,onChallengeCompleted:u,onChallengeInvalidated:l,onModalChallengeAbandoned:c}),s),d.sendChallengeInitializedEvent(),f.fireChallengeInitializedEvent(),!0}return!1},I_="Generic Challenge:",T_="challengeClientAnalysisEventV1",A_={onCompleted:"onCompleted"},w_={success:"Success",parseFailure:"ParseFailure",renderFailure:"RenderFailure",continueFailure:"ContinueFailure"},N_="unknown",O_=function(){function e(){}return e.prototype.fireSuccessEvent=function(e){us({name:Qc.EventGeneric,value:1,labelValues:{event_type:w_.success,challenge_type:e}}).catch((function(){}))},e.prototype.fireParseFailureEvent=function(){us({name:Qc.EventGeneric,value:1,labelValues:{event_type:w_.parseFailure,challenge_type:N_}}).catch((function(){}))},e.prototype.fireRenderFailureEvent=function(e){us({name:Qc.EventGeneric,value:1,labelValues:{event_type:w_.renderFailure,challenge_type:e}}).catch((function(){}))},e.prototype.fireContinueFailureEvent=function(e){us({name:Qc.EventGeneric,value:1,labelValues:{event_type:w_.continueFailure,challenge_type:e}}).catch((function(){}))},e}();function L_(e){return L_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L_(e)}function D_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D_(Object(n),!0).forEach((function(t){k_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P_(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return x_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x_(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function x_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.assertEqual=function(e){},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=function(e){var t,n={},r=P_(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a]=a}}catch(e){r.e(e)}finally{r.f()}return n},e.getValidEnumValues=function(t){var n,r=e.objectKeys(t).filter((function(e){return"number"!=typeof t[t[e]]})),a={},i=P_(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;a[o]=t[o]}}catch(e){i.e(e)}finally{i.f()}return e.objectValues(a)},e.objectValues=function(t){return e.objectKeys(t).map((function(e){return t[e]}))},e.objectKeys="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=function(e,t){var n,r=P_(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(t(a))return a}}catch(e){r.e(e)}finally{r.f()}},e.isInteger="function"==typeof Number.isInteger?function(e){return Number.isInteger(e)}:function(e){return"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e},e.joinValues=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((function(e){return"string"==typeof e?"'".concat(e,"'"):e})).join(t)},e.jsonStringifyReplacer=function(e,t){return"bigint"==typeof t?t.toString():t}}(v_||(v_={})),function(e){e.mergeShapes=function(e,t){return R_(R_({},e),t)}}(y_||(y_={}));var M_=v_.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),U_=function(e){switch(L_(e)){case"undefined":return M_.undefined;case"string":return M_.string;case"number":return Number.isNaN(e)?M_.nan:M_.number;case"boolean":return M_.boolean;case"function":return M_.function;case"bigint":return M_.bigint;case"symbol":return M_.symbol;case"object":return Array.isArray(e)?M_.array:null===e?M_.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?M_.promise:"undefined"!=typeof Map&&e instanceof Map?M_.map:"undefined"!=typeof Set&&e instanceof Set?M_.set:"undefined"!=typeof Date&&e instanceof Date?M_.date:M_.object;default:return M_.unknown}};function V_(e){return V_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V_(e)}function F_(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=W_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function j_(e){return function(e){if(Array.isArray(e))return G_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||W_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W_(e,t){if(e){if("string"==typeof e)return G_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G_(e,t):void 0}}function G_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B_(e,t,n){return t&&H_(e.prototype,t),n&&H_(e,n),e}function z_(e){var t=Y_();return function(){var n,r=X_(e);if(t){var a=X_(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===V_(t)||"function"==typeof t))return t;return q_(e)}(this,n)}}function q_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z_(e){var t="function"==typeof Map?new Map:void 0;return Z_=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return K_(e,arguments,X_(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),J_(n,e)},Z_(e)}function K_(e,t,n){return K_=Y_()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&J_(a,n.prototype),a},K_.apply(null,arguments)}function Y_(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function J_(e,t){return J_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},J_(e,t)}function X_(e){return X_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},X_(e)}var Q_=v_.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),$_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J_(e,t)}(n,e);var t=z_(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this)).issues=[],r.addIssue=function(e){r.issues=[].concat(j_(r.issues),[e])},r.addIssues=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r.issues=[].concat(j_(r.issues),j_(e))};var a=(this instanceof n?this.constructor:void 0).prototype;return Object.setPrototypeOf?Object.setPrototypeOf(q_(r),a):r.__proto__=a,r.name="ZodError",r.issues=e,r}return B_(n,[{key:"errors",get:function(){return this.issues}}]),B_(n,[{key:"format",value:function(e){var t=e||function(e){return e.message},n={_errors:[]};return function e(r){var a,i=F_(r.issues);try{for(i.s();!(a=i.n()).done;){var o=a.value;if("invalid_union"===o.code)o.unionErrors.map(e);else if("invalid_return_type"===o.code)e(o.returnTypeError);else if("invalid_arguments"===o.code)e(o.argumentsError);else if(0===o.path.length)n._errors.push(t(o));else for(var u=n,l=0;l<o.path.length;){var c=o.path[l];l===o.path.length-1?(u[c]=u[c]||{_errors:[]},u[c]._errors.push(t(o))):u[c]=u[c]||{_errors:[]},u=u[c],l++}}}catch(e){i.e(e)}finally{i.f()}}(this),n}},{key:"toString",value:function(){return this.message}},{key:"flatten",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.message},n={},r=[],a=F_(this.issues);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(i.path.length>0){var o=i.path[0];n[o]=n[o]||[],n[o].push(t(i))}else r.push(t(i))}}catch(e){a.e(e)}finally{a.f()}return{formErrors:r,fieldErrors:n}}},{key:"message",get:function(){return JSON.stringify(this.issues,v_.jsonStringifyReplacer,2)}},{key:"isEmpty",get:function(){return 0===this.issues.length}},{key:"formErrors",get:function(){return this.flatten()}}],[{key:"assert",value:function(e){if(!(e instanceof n))throw new Error("Not a ZodError: ".concat(e))}}]),n}(Z_(Error));function eI(e){return eI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eI(e)}$_.create=function(e){return new $_(e)};var tI,nI=function(e,t){var n;switch(e.code){case Q_.invalid_type:n=e.received===M_.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case Q_.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,v_.jsonStringifyReplacer));break;case Q_.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(v_.joinValues(e.keys,", "));break;case Q_.invalid_union:n="Invalid input";break;case Q_.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(v_.joinValues(e.options));break;case Q_.invalid_enum_value:n="Invalid enum value. Expected ".concat(v_.joinValues(e.options),", received '").concat(e.received,"'");break;case Q_.invalid_arguments:n="Invalid function arguments";break;case Q_.invalid_return_type:n="Invalid function return type";break;case Q_.invalid_date:n="Invalid date";break;case Q_.invalid_string:"object"===eI(e.validation)?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"==typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):v_.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case Q_.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type||"bigint"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case Q_.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case Q_.custom:n="Invalid input";break;case Q_.invalid_intersection_types:n="Intersection results could not be merged";break;case Q_.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case Q_.not_finite:n="Number must be finite";break;default:n=t.defaultError,v_.assertNever(e)}return{message:n}},rI=nI;function aI(){return rI}function iI(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,a)}function oI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uI(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=fI(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function lI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lI(Object(n),!0).forEach((function(t){sI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dI(e){return function(e){if(Array.isArray(e))return pI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||fI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fI(e,t){if(e){if("string"==typeof e)return pI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pI(e,t):void 0}}function pI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.errToObj=function(e){return"string"==typeof e?{message:e}:e||{}},e.toString=function(e){return"string"==typeof e?e:null==e?void 0:e.message}}(tI||(tI={}));var hI=function(e){var t=e.data,n=e.path,r=e.errorMaps,a=e.issueData,i=[].concat(dI(n),dI(a.path||[])),o=cI(cI({},a),{},{path:i});if(void 0!==a.message)return cI(cI({},a),{},{path:i,message:a.message});var u,l="",c=r.filter((function(e){return!!e})).slice().reverse(),s=uI(c);try{for(s.s();!(u=s.n()).done;){l=(0,u.value)(o,{data:t,defaultError:l}).message}}catch(e){s.e(e)}finally{s.f()}return cI(cI({},a),{},{path:i,message:l})};function vI(e,t){var n=aI(),r=hI({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===nI?void 0:nI].filter((function(e){return!!e}))});e.common.issues.push(r)}var yI=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.value="valid"}var t,n,r,a;return t=e,n=[{key:"dirty",value:function(){"valid"===this.value&&(this.value="dirty")}},{key:"abort",value:function(){"aborted"!==this.value&&(this.value="aborted")}}],r=[{key:"mergeArray",value:function(e,t){var n,r=[],a=uI(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if("aborted"===i.status)return mI;"dirty"===i.status&&e.dirty(),r.push(i.value)}}catch(e){a.e(e)}finally{a.f()}return{status:e.value,value:r}}},{key:"mergeObjectAsync",value:(a=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){iI(i,r,a,o,u,"next",e)}function u(e){iI(i,r,a,o,u,"throw",e)}o(void 0)}))}}(regeneratorRuntime.mark((function t(n,r){var a,i,o,u,l,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],i=uI(r),t.prev=2,i.s();case 4:if((o=i.n()).done){t.next=15;break}return u=o.value,t.next=8,u.key;case 8:return l=t.sent,t.next=11,u.value;case 11:c=t.sent,a.push({key:l,value:c});case 13:t.next=4;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),i.e(t.t0);case 20:return t.prev=20,i.f(),t.finish(20);case 23:return t.abrupt("return",e.mergeObjectSync(n,a));case 24:case"end":return t.stop()}}),t,null,[[2,17,20,23]])}))),function(e,t){return a.apply(this,arguments)})},{key:"mergeObjectSync",value:function(e,t){var n,r={},a=uI(t);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=i.key,u=i.value;if("aborted"===o.status)return mI;if("aborted"===u.status)return mI;"dirty"===o.status&&e.dirty(),"dirty"===u.status&&e.dirty(),"__proto__"===o.value||void 0===u.value&&!i.alwaysSet||(r[o.value]=u.value)}}catch(e){a.e(e)}finally{a.f()}return{status:e.value,value:r}}}],n&&oI(t.prototype,n),r&&oI(t,r),e}(),mI=Object.freeze({status:"aborted"}),gI=function(e){return{status:"dirty",value:e}},EI=function(e){return{status:"valid",value:e}},bI=function(e){return"aborted"===e.status},SI=function(e){return"dirty"===e.status},CI=function(e){return"valid"===e.status},_I=function(e){return"undefined"!=typeof Promise&&e instanceof Promise};function II(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=UI(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function TI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AI(e,t)}function AI(e,t){return AI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},AI(e,t)}function wI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=NI(e);if(t){var a=NI(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===OI(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function NI(e){return NI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},NI(e)}function OI(e){return OI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OI(e)}function LI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}(e,t)||UI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DI(Object(n),!0).forEach((function(t){kI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PI(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,a)}function xI(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){PI(i,r,a,o,u,"next",e)}function u(e){PI(i,r,a,o,u,"throw",e)}o(void 0)}))}}function MI(e){return function(e){if(Array.isArray(e))return VI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||UI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UI(e,t){if(e){if("string"==typeof e)return VI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VI(e,t):void 0}}function VI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WI(e,t,n){return t&&jI(e.prototype,t),n&&jI(e,n),e}var GI=function(){function e(t,n,r,a){FI(this,e),this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=a}return WI(e,[{key:"path",get:function(){var e,t;this._cachedPath.length||(Array.isArray(this._key)?(e=this._cachedPath).push.apply(e,MI(this._path).concat(MI(this._key))):(t=this._cachedPath).push.apply(t,MI(this._path).concat([this._key])));return this._cachedPath}}]),e}(),HI=function(e,t){if(CI(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;var t=new $_(e.common.issues);return this._error=t,this._error}}};function BI(e){if(!e)return{};var t=e.errorMap,n=e.invalid_type_error,r=e.required_error,a=e.description;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:function(t,a){var i,o,u=e.message;return"invalid_enum_value"===t.code?{message:null!=u?u:a.defaultError}:void 0===a.data?{message:null!==(o=null!=u?u:r)&&void 0!==o?o:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!==(i=null!=u?u:n)&&void 0!==i?i:a.defaultError}},description:a}}var zI,qI=function(){var e,t;function n(e){var t=this;FI(this,n),this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:function(e){return t["~validate"](e)}}}return WI(n,[{key:"_getType",value:function(e){return U_(e.data)}},{key:"_getOrReturnCtx",value:function(e,t){return t||{common:e.parent.common,data:e.data,parsedType:U_(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}},{key:"_processInputParams",value:function(e){return{status:new yI,ctx:{common:e.parent.common,data:e.data,parsedType:U_(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}},{key:"_parseSync",value:function(e){var t=this._parse(e);if(_I(t))throw new Error("Synchronous parse encountered promise.");return t}},{key:"_parseAsync",value:function(e){var t=this._parse(e);return Promise.resolve(t)}},{key:"parse",value:function(e,t){var n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}},{key:"safeParse",value:function(e,t){var n,r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:U_(e)},a=this._parseSync({data:e,path:r.path,parent:r});return HI(r,a)}},{key:"~validate",value:function(e){var t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:U_(e)};if(!this["~standard"].async)try{var n=this._parseSync({data:e,path:[],parent:t});return CI(n)?{value:n.value}:{issues:t.common.issues}}catch(e){var r,a;null!=e&&null!==(r=e.message)&&void 0!==r&&null!==(a=r.toLowerCase())&&void 0!==a&&a.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then((function(e){return CI(e)?{value:e.value}:{issues:t.common.issues}}))}},{key:"parseAsync",value:(t=xI(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.safeParseAsync(t,n);case 2:if(!(r=e.sent).success){e.next=5;break}return e.abrupt("return",r.data);case 5:throw r.error;case 6:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"safeParseAsync",value:(e=xI(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={common:{issues:[],contextualErrorMap:null==n?void 0:n.errorMap,async:!0},path:(null==n?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:U_(t)},a=this._parse({data:t,path:r.path,parent:r}),e.next=4,_I(a)?a:Promise.resolve(a);case 4:return i=e.sent,e.abrupt("return",HI(r,i));case 6:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"refine",value:function(e,t){return this._refinement((function(n,r){var a=e(n),i=function(){return r.addIssue(RI({code:Q_.custom},function(e){return"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t}(n)))};return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return!!e||(i(),!1)})):!!a||(i(),!1)}))}},{key:"refinement",value:function(e,t){return this._refinement((function(n,r){return!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)}))}},{key:"_refinement",value:function(e){return new zT({schema:this,typeName:eA.ZodEffects,effect:{type:"refinement",refinement:e}})}},{key:"superRefine",value:function(e){return this._refinement(e)}},{key:"description",get:function(){return this._def.description}}]),WI(n,[{key:"optional",value:function(){return qT.create(this,this._def)}},{key:"nullable",value:function(){return ZT.create(this,this._def)}},{key:"nullish",value:function(){return this.nullable().optional()}},{key:"array",value:function(){return AT.create(this)}},{key:"promise",value:function(){return BT.create(this,this._def)}},{key:"or",value:function(e){return OT.create([this,e],this._def)}},{key:"and",value:function(e){return kT.create(this,e,this._def)}},{key:"transform",value:function(e){return new zT(RI(RI({},BI(this._def)),{},{schema:this,typeName:eA.ZodEffects,effect:{type:"transform",transform:e}}))}},{key:"default",value:function(e){var t="function"==typeof e?e:function(){return e};return new KT(RI(RI({},BI(this._def)),{},{innerType:this,defaultValue:t,typeName:eA.ZodDefault}))}},{key:"brand",value:function(){return new XT(RI({typeName:eA.ZodBranded,type:this},BI(this._def)))}},{key:"catch",value:function(e){var t="function"==typeof e?e:function(){return e};return new YT(RI(RI({},BI(this._def)),{},{innerType:this,catchValue:t,typeName:eA.ZodCatch}))}},{key:"describe",value:function(e){return new(0,this.constructor)(RI(RI({},this._def),{},{description:e}))}},{key:"pipe",value:function(e){return QT.create(this,e)}},{key:"readonly",value:function(){return $T.create(this)}},{key:"isOptional",value:function(){return this.safeParse(void 0).success}},{key:"isNullable",value:function(){return this.safeParse(null).success}}]),n}(),ZI=/^c[^\s-]{8,}$/i,KI=/^[0-9a-z]+$/,YI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,JI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,XI=/^[a-z0-9_-]{21}$/i,QI=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,$I=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,eT=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,tT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,nT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,rT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,aT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,iT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,oT=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,uT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",lT=new RegExp("^".concat(uT,"$"));function cT(e){var t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?"));var n=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(n)}function sT(e){var t="".concat(uT,"T").concat(cT(e)),n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}function dT(e,t){return!("v4"!==t&&t||!tT.test(e))||!("v6"!==t&&t||!rT.test(e))}function fT(e,t){if(!QI.test(e))return!1;try{var n=LI(e.split("."),1)[0];if(!n)return!1;var r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return"object"===OI(a)&&null!==a&&((!("typ"in a)||"JWT"===(null==a?void 0:a.typ))&&(!!a.alg&&(!t||a.alg===t)))}catch(e){return!1}}function pT(e,t){return!("v4"!==t&&t||!nT.test(e))||!("v6"!==t&&t||!aT.test(e))}var hT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==M_.string){var t=this._getOrReturnCtx(e);return vI(t,{code:Q_.invalid_type,expected:M_.string,received:t.parsedType}),mI}var n,r=new yI,a=void 0,i=II(this._def.checks);try{for(i.s();!(n=i.n()).done;){var o=n.value;if("min"===o.kind)e.data.length<o.value&&(vI(a=this._getOrReturnCtx(e,a),{code:Q_.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if("max"===o.kind)e.data.length>o.value&&(vI(a=this._getOrReturnCtx(e,a),{code:Q_.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if("length"===o.kind){var u=e.data.length>o.value,l=e.data.length<o.value;(u||l)&&(a=this._getOrReturnCtx(e,a),u?vI(a,{code:Q_.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&vI(a,{code:Q_.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if("email"===o.kind)eT.test(e.data)||(vI(a=this._getOrReturnCtx(e,a),{validation:"email",code:Q_.invalid_string,message:o.message}),r.dirty());else if("emoji"===o.kind)zI||(zI=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),zI.test(e.data)||(vI(a=this._getOrReturnCtx(e,a),{validation:"emoji",code:Q_.invalid_string,message:o.message}),r.dirty());else if("uuid"===o.kind)JI.test(e.data)||(vI(a=this._getOrReturnCtx(e,a),{validation:"uuid",code:Q_.invalid_string,message:o.message}),r.dirty());else if("nanoid"===o.kind)XI.test(e.data)||(vI(a=this._getOrReturnCtx(e,a),{validation:"nanoid",code:Q_.invalid_string,message:o.message}),r.dirty());else if("cuid"===o.kind)ZI.test(e.data)||(vI(a=this._getOrReturnCtx(e,a),{validation:"cuid",code:Q_.invalid_string,message:o.message}),r.dirty());else if("cuid2"===o.kind)KI.test(e.data)||(vI(a=this._getOrReturnCtx(e,a),{validation:"cuid2",code:Q_.invalid_string,message:o.message}),r.dirty());else if("ulid"===o.kind)YI.test(e.data)||(vI(a=this._getOrReturnCtx(e,a),{validation:"ulid",code:Q_.invalid_string,message:o.message}),r.dirty());else if("url"===o.kind)try{new URL(e.data)}catch(t){vI(a=this._getOrReturnCtx(e,a),{validation:"url",code:Q_.invalid_string,message:o.message}),r.dirty()}else if("regex"===o.kind){o.regex.lastIndex=0,o.regex.test(e.data)||(vI(a=this._getOrReturnCtx(e,a),{validation:"regex",code:Q_.invalid_string,message:o.message}),r.dirty())}else if("trim"===o.kind)e.data=e.data.trim();else if("includes"===o.kind)e.data.includes(o.value,o.position)||(vI(a=this._getOrReturnCtx(e,a),{code:Q_.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty());else if("toLowerCase"===o.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===o.kind)e.data=e.data.toUpperCase();else if("startsWith"===o.kind)e.data.startsWith(o.value)||(vI(a=this._getOrReturnCtx(e,a),{code:Q_.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty());else if("endsWith"===o.kind)e.data.endsWith(o.value)||(vI(a=this._getOrReturnCtx(e,a),{code:Q_.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty());else if("datetime"===o.kind){sT(o).test(e.data)||(vI(a=this._getOrReturnCtx(e,a),{code:Q_.invalid_string,validation:"datetime",message:o.message}),r.dirty())}else if("date"===o.kind){lT.test(e.data)||(vI(a=this._getOrReturnCtx(e,a),{code:Q_.invalid_string,validation:"date",message:o.message}),r.dirty())}else if("time"===o.kind){new RegExp("^".concat(cT(o),"$")).test(e.data)||(vI(a=this._getOrReturnCtx(e,a),{code:Q_.invalid_string,validation:"time",message:o.message}),r.dirty())}else"duration"===o.kind?$I.test(e.data)||(vI(a=this._getOrReturnCtx(e,a),{validation:"duration",code:Q_.invalid_string,message:o.message}),r.dirty()):"ip"===o.kind?dT(e.data,o.version)||(vI(a=this._getOrReturnCtx(e,a),{validation:"ip",code:Q_.invalid_string,message:o.message}),r.dirty()):"jwt"===o.kind?fT(e.data,o.alg)||(vI(a=this._getOrReturnCtx(e,a),{validation:"jwt",code:Q_.invalid_string,message:o.message}),r.dirty()):"cidr"===o.kind?pT(e.data,o.version)||(vI(a=this._getOrReturnCtx(e,a),{validation:"cidr",code:Q_.invalid_string,message:o.message}),r.dirty()):"base64"===o.kind?iT.test(e.data)||(vI(a=this._getOrReturnCtx(e,a),{validation:"base64",code:Q_.invalid_string,message:o.message}),r.dirty()):"base64url"===o.kind?oT.test(e.data)||(vI(a=this._getOrReturnCtx(e,a),{validation:"base64url",code:Q_.invalid_string,message:o.message}),r.dirty()):v_.assertNever(o)}}catch(e){i.e(e)}finally{i.f()}return{status:r.value,value:e.data}}},{key:"_regex",value:function(e,t,n){return this.refinement((function(t){return e.test(t)}),RI({validation:t,code:Q_.invalid_string},tI.errToObj(n)))}},{key:"_addCheck",value:function(e){return new n(RI(RI({},this._def),{},{checks:[].concat(MI(this._def.checks),[e])}))}},{key:"email",value:function(e){return this._addCheck(RI({kind:"email"},tI.errToObj(e)))}},{key:"url",value:function(e){return this._addCheck(RI({kind:"url"},tI.errToObj(e)))}},{key:"emoji",value:function(e){return this._addCheck(RI({kind:"emoji"},tI.errToObj(e)))}},{key:"uuid",value:function(e){return this._addCheck(RI({kind:"uuid"},tI.errToObj(e)))}},{key:"nanoid",value:function(e){return this._addCheck(RI({kind:"nanoid"},tI.errToObj(e)))}},{key:"cuid",value:function(e){return this._addCheck(RI({kind:"cuid"},tI.errToObj(e)))}},{key:"cuid2",value:function(e){return this._addCheck(RI({kind:"cuid2"},tI.errToObj(e)))}},{key:"ulid",value:function(e){return this._addCheck(RI({kind:"ulid"},tI.errToObj(e)))}},{key:"base64",value:function(e){return this._addCheck(RI({kind:"base64"},tI.errToObj(e)))}},{key:"base64url",value:function(e){return this._addCheck(RI({kind:"base64url"},tI.errToObj(e)))}},{key:"jwt",value:function(e){return this._addCheck(RI({kind:"jwt"},tI.errToObj(e)))}},{key:"ip",value:function(e){return this._addCheck(RI({kind:"ip"},tI.errToObj(e)))}},{key:"cidr",value:function(e){return this._addCheck(RI({kind:"cidr"},tI.errToObj(e)))}},{key:"datetime",value:function(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(RI({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n},tI.errToObj(null==e?void 0:e.message)))}},{key:"date",value:function(e){return this._addCheck({kind:"date",message:e})}},{key:"time",value:function(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(RI({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision},tI.errToObj(null==e?void 0:e.message)))}},{key:"duration",value:function(e){return this._addCheck(RI({kind:"duration"},tI.errToObj(e)))}},{key:"regex",value:function(e,t){return this._addCheck(RI({kind:"regex",regex:e},tI.errToObj(t)))}},{key:"includes",value:function(e,t){return this._addCheck(RI({kind:"includes",value:e,position:null==t?void 0:t.position},tI.errToObj(null==t?void 0:t.message)))}},{key:"startsWith",value:function(e,t){return this._addCheck(RI({kind:"startsWith",value:e},tI.errToObj(t)))}},{key:"endsWith",value:function(e,t){return this._addCheck(RI({kind:"endsWith",value:e},tI.errToObj(t)))}},{key:"min",value:function(e,t){return this._addCheck(RI({kind:"min",value:e},tI.errToObj(t)))}},{key:"max",value:function(e,t){return this._addCheck(RI({kind:"max",value:e},tI.errToObj(t)))}},{key:"length",value:function(e,t){return this._addCheck(RI({kind:"length",value:e},tI.errToObj(t)))}},{key:"nonempty",value:function(e){return this.min(1,tI.errToObj(e))}},{key:"trim",value:function(){return new n(RI(RI({},this._def),{},{checks:[].concat(MI(this._def.checks),[{kind:"trim"}])}))}},{key:"toLowerCase",value:function(){return new n(RI(RI({},this._def),{},{checks:[].concat(MI(this._def.checks),[{kind:"toLowerCase"}])}))}},{key:"toUpperCase",value:function(){return new n(RI(RI({},this._def),{},{checks:[].concat(MI(this._def.checks),[{kind:"toUpperCase"}])}))}},{key:"isDatetime",get:function(){return!!this._def.checks.find((function(e){return"datetime"===e.kind}))}},{key:"isDate",get:function(){return!!this._def.checks.find((function(e){return"date"===e.kind}))}},{key:"isTime",get:function(){return!!this._def.checks.find((function(e){return"time"===e.kind}))}},{key:"isDuration",get:function(){return!!this._def.checks.find((function(e){return"duration"===e.kind}))}},{key:"isEmail",get:function(){return!!this._def.checks.find((function(e){return"email"===e.kind}))}},{key:"isURL",get:function(){return!!this._def.checks.find((function(e){return"url"===e.kind}))}},{key:"isEmoji",get:function(){return!!this._def.checks.find((function(e){return"emoji"===e.kind}))}},{key:"isUUID",get:function(){return!!this._def.checks.find((function(e){return"uuid"===e.kind}))}},{key:"isNANOID",get:function(){return!!this._def.checks.find((function(e){return"nanoid"===e.kind}))}},{key:"isCUID",get:function(){return!!this._def.checks.find((function(e){return"cuid"===e.kind}))}},{key:"isCUID2",get:function(){return!!this._def.checks.find((function(e){return"cuid2"===e.kind}))}},{key:"isULID",get:function(){return!!this._def.checks.find((function(e){return"ulid"===e.kind}))}},{key:"isIP",get:function(){return!!this._def.checks.find((function(e){return"ip"===e.kind}))}},{key:"isCIDR",get:function(){return!!this._def.checks.find((function(e){return"cidr"===e.kind}))}},{key:"isBase64",get:function(){return!!this._def.checks.find((function(e){return"base64"===e.kind}))}},{key:"isBase64url",get:function(){return!!this._def.checks.find((function(e){return"base64url"===e.kind}))}},{key:"minLength",get:function(){var e,t=null,n=II(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"maxLength",get:function(){var e,t=null,n=II(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return t}}]),n}(qI);hT.create=function(e){var t;return new hT(RI({checks:[],typeName:eA.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t},BI(e)))};var vT=function(e){TI(n,e);var t=wI(n);function n(){var e;return FI(this,n),(e=t.apply(this,arguments)).min=e.gte,e.max=e.lte,e.step=e.multipleOf,e}return WI(n,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==M_.number){var t=this._getOrReturnCtx(e);return vI(t,{code:Q_.invalid_type,expected:M_.number,received:t.parsedType}),mI}var n,r,a,i,o,u,l=void 0,c=new yI,s=II(this._def.checks);try{for(s.s();!(n=s.n()).done;){var d=n.value;if("int"===d.kind)v_.isInteger(e.data)||(vI(l=this._getOrReturnCtx(e,l),{code:Q_.invalid_type,expected:"integer",received:"float",message:d.message}),c.dirty());else if("min"===d.kind){(d.inclusive?e.data<d.value:e.data<=d.value)&&(vI(l=this._getOrReturnCtx(e,l),{code:Q_.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty())}else if("max"===d.kind){(d.inclusive?e.data>d.value:e.data>=d.value)&&(vI(l=this._getOrReturnCtx(e,l),{code:Q_.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty())}else"multipleOf"===d.kind?0!=(r=e.data,a=d.value,i=void 0,o=void 0,u=void 0,i=(r.toString().split(".")[1]||"").length,o=(a.toString().split(".")[1]||"").length,u=i>o?i:o,Number.parseInt(r.toFixed(u).replace(".",""))%Number.parseInt(a.toFixed(u).replace(".",""))/Math.pow(10,u))&&(vI(l=this._getOrReturnCtx(e,l),{code:Q_.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):"finite"===d.kind?Number.isFinite(e.data)||(vI(l=this._getOrReturnCtx(e,l),{code:Q_.not_finite,message:d.message}),c.dirty()):v_.assertNever(d)}}catch(e){s.e(e)}finally{s.f()}return{status:c.value,value:e.data}}},{key:"gte",value:function(e,t){return this.setLimit("min",e,!0,tI.toString(t))}},{key:"gt",value:function(e,t){return this.setLimit("min",e,!1,tI.toString(t))}},{key:"lte",value:function(e,t){return this.setLimit("max",e,!0,tI.toString(t))}},{key:"lt",value:function(e,t){return this.setLimit("max",e,!1,tI.toString(t))}},{key:"setLimit",value:function(e,t,r,a){return new n(RI(RI({},this._def),{},{checks:[].concat(MI(this._def.checks),[{kind:e,value:t,inclusive:r,message:tI.toString(a)}])}))}},{key:"_addCheck",value:function(e){return new n(RI(RI({},this._def),{},{checks:[].concat(MI(this._def.checks),[e])}))}},{key:"int",value:function(e){return this._addCheck({kind:"int",message:tI.toString(e)})}},{key:"positive",value:function(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:tI.toString(e)})}},{key:"negative",value:function(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:tI.toString(e)})}},{key:"nonpositive",value:function(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:tI.toString(e)})}},{key:"nonnegative",value:function(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:tI.toString(e)})}},{key:"multipleOf",value:function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:tI.toString(t)})}},{key:"finite",value:function(e){return this._addCheck({kind:"finite",message:tI.toString(e)})}},{key:"safe",value:function(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:tI.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:tI.toString(e)})}},{key:"minValue",get:function(){var e,t=null,n=II(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"maxValue",get:function(){var e,t=null,n=II(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"isInt",get:function(){return!!this._def.checks.find((function(e){return"int"===e.kind||"multipleOf"===e.kind&&v_.isInteger(e.value)}))}},{key:"isFinite",get:function(){var e,t=null,n=null,r=II(this._def.checks);try{for(r.s();!(e=r.n()).done;){var a=e.value;if("finite"===a.kind||"int"===a.kind||"multipleOf"===a.kind)return!0;"min"===a.kind?(null===n||a.value>n)&&(n=a.value):"max"===a.kind&&(null===t||a.value<t)&&(t=a.value)}}catch(e){r.e(e)}finally{r.f()}return Number.isFinite(n)&&Number.isFinite(t)}}]),n}(qI);vT.create=function(e){return new vT(RI({checks:[],typeName:eA.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1},BI(e)))};var yT=function(e){TI(n,e);var t=wI(n);function n(){var e;return FI(this,n),(e=t.apply(this,arguments)).min=e.gte,e.max=e.lte,e}return WI(n,[{key:"_parse",value:function(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==M_.bigint)return this._getInvalidInput(e);var t,n=void 0,r=new yI,a=II(this._def.checks);try{for(a.s();!(t=a.n()).done;){var i=t.value;if("min"===i.kind)(i.inclusive?e.data<i.value:e.data<=i.value)&&(vI(n=this._getOrReturnCtx(e,n),{code:Q_.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty());else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(vI(n=this._getOrReturnCtx(e,n),{code:Q_.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty())}else"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(vI(n=this._getOrReturnCtx(e,n),{code:Q_.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):v_.assertNever(i)}}catch(e){a.e(e)}finally{a.f()}return{status:r.value,value:e.data}}},{key:"_getInvalidInput",value:function(e){var t=this._getOrReturnCtx(e);return vI(t,{code:Q_.invalid_type,expected:M_.bigint,received:t.parsedType}),mI}},{key:"gte",value:function(e,t){return this.setLimit("min",e,!0,tI.toString(t))}},{key:"gt",value:function(e,t){return this.setLimit("min",e,!1,tI.toString(t))}},{key:"lte",value:function(e,t){return this.setLimit("max",e,!0,tI.toString(t))}},{key:"lt",value:function(e,t){return this.setLimit("max",e,!1,tI.toString(t))}},{key:"setLimit",value:function(e,t,r,a){return new n(RI(RI({},this._def),{},{checks:[].concat(MI(this._def.checks),[{kind:e,value:t,inclusive:r,message:tI.toString(a)}])}))}},{key:"_addCheck",value:function(e){return new n(RI(RI({},this._def),{},{checks:[].concat(MI(this._def.checks),[e])}))}},{key:"positive",value:function(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:tI.toString(e)})}},{key:"negative",value:function(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:tI.toString(e)})}},{key:"nonpositive",value:function(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:tI.toString(e)})}},{key:"nonnegative",value:function(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:tI.toString(e)})}},{key:"multipleOf",value:function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:tI.toString(t)})}},{key:"minValue",get:function(){var e,t=null,n=II(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"maxValue",get:function(){var e,t=null,n=II(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return t}}]),n}(qI);yT.create=function(e){var t;return new yT(RI({checks:[],typeName:eA.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t},BI(e)))};var mT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==M_.boolean){var t=this._getOrReturnCtx(e);return vI(t,{code:Q_.invalid_type,expected:M_.boolean,received:t.parsedType}),mI}return EI(e.data)}}]),n}(qI);mT.create=function(e){return new mT(RI({typeName:eA.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1},BI(e)))};var gT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==M_.date){var t=this._getOrReturnCtx(e);return vI(t,{code:Q_.invalid_type,expected:M_.date,received:t.parsedType}),mI}if(Number.isNaN(e.data.getTime()))return vI(this._getOrReturnCtx(e),{code:Q_.invalid_date}),mI;var n,r=new yI,a=void 0,i=II(this._def.checks);try{for(i.s();!(n=i.n()).done;){var o=n.value;"min"===o.kind?e.data.getTime()<o.value&&(vI(a=this._getOrReturnCtx(e,a),{code:Q_.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):"max"===o.kind?e.data.getTime()>o.value&&(vI(a=this._getOrReturnCtx(e,a),{code:Q_.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):v_.assertNever(o)}}catch(e){i.e(e)}finally{i.f()}return{status:r.value,value:new Date(e.data.getTime())}}},{key:"_addCheck",value:function(e){return new n(RI(RI({},this._def),{},{checks:[].concat(MI(this._def.checks),[e])}))}},{key:"min",value:function(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:tI.toString(t)})}},{key:"max",value:function(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:tI.toString(t)})}},{key:"minDate",get:function(){var e,t=null,n=II(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return null!=t?new Date(t):null}},{key:"maxDate",get:function(){var e,t=null,n=II(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return null!=t?new Date(t):null}}]),n}(qI);gT.create=function(e){return new gT(RI({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:eA.ZodDate},BI(e)))};var ET=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){if(this._getType(e)!==M_.symbol){var t=this._getOrReturnCtx(e);return vI(t,{code:Q_.invalid_type,expected:M_.symbol,received:t.parsedType}),mI}return EI(e.data)}}]),n}(qI);ET.create=function(e){return new ET(RI({typeName:eA.ZodSymbol},BI(e)))};var bT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){if(this._getType(e)!==M_.undefined){var t=this._getOrReturnCtx(e);return vI(t,{code:Q_.invalid_type,expected:M_.undefined,received:t.parsedType}),mI}return EI(e.data)}}]),n}(qI);bT.create=function(e){return new bT(RI({typeName:eA.ZodUndefined},BI(e)))};var ST=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){if(this._getType(e)!==M_.null){var t=this._getOrReturnCtx(e);return vI(t,{code:Q_.invalid_type,expected:M_.null,received:t.parsedType}),mI}return EI(e.data)}}]),n}(qI);ST.create=function(e){return new ST(RI({typeName:eA.ZodNull},BI(e)))};var CT=function(e){TI(n,e);var t=wI(n);function n(){var e;return FI(this,n),(e=t.apply(this,arguments))._any=!0,e}return WI(n,[{key:"_parse",value:function(e){return EI(e.data)}}]),n}(qI);CT.create=function(e){return new CT(RI({typeName:eA.ZodAny},BI(e)))};var _T=function(e){TI(n,e);var t=wI(n);function n(){var e;return FI(this,n),(e=t.apply(this,arguments))._unknown=!0,e}return WI(n,[{key:"_parse",value:function(e){return EI(e.data)}}]),n}(qI);_T.create=function(e){return new _T(RI({typeName:eA.ZodUnknown},BI(e)))};var IT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){var t=this._getOrReturnCtx(e);return vI(t,{code:Q_.invalid_type,expected:M_.never,received:t.parsedType}),mI}}]),n}(qI);IT.create=function(e){return new IT(RI({typeName:eA.ZodNever},BI(e)))};var TT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){if(this._getType(e)!==M_.undefined){var t=this._getOrReturnCtx(e);return vI(t,{code:Q_.invalid_type,expected:M_.void,received:t.parsedType}),mI}return EI(e.data)}}]),n}(qI);TT.create=function(e){return new TT(RI({typeName:eA.ZodVoid},BI(e)))};var AT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.ctx,r=t.status,a=this._def;if(n.parsedType!==M_.array)return vI(n,{code:Q_.invalid_type,expected:M_.array,received:n.parsedType}),mI;if(null!==a.exactLength){var i=n.data.length>a.exactLength.value,o=n.data.length<a.exactLength.value;(i||o)&&(vI(n,{code:i?Q_.too_big:Q_.too_small,minimum:o?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(null!==a.minLength&&n.data.length<a.minLength.value&&(vI(n,{code:Q_.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),null!==a.maxLength&&n.data.length>a.maxLength.value&&(vI(n,{code:Q_.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all(MI(n.data).map((function(e,t){return a.type._parseAsync(new GI(n,e,n.path,t))}))).then((function(e){return yI.mergeArray(r,e)}));var u=MI(n.data).map((function(e,t){return a.type._parseSync(new GI(n,e,n.path,t))}));return yI.mergeArray(r,u)}},{key:"min",value:function(e,t){return new n(RI(RI({},this._def),{},{minLength:{value:e,message:tI.toString(t)}}))}},{key:"max",value:function(e,t){return new n(RI(RI({},this._def),{},{maxLength:{value:e,message:tI.toString(t)}}))}},{key:"length",value:function(e,t){return new n(RI(RI({},this._def),{},{exactLength:{value:e,message:tI.toString(t)}}))}},{key:"nonempty",value:function(e){return this.min(1,e)}},{key:"element",get:function(){return this._def.type}}]),n}(qI);function wT(e){if(e instanceof NT){var t={};for(var n in e.shape){var r=e.shape[n];t[n]=qT.create(wT(r))}return new NT(RI(RI({},e._def),{},{shape:function(){return t}}))}return e instanceof AT?new AT(RI(RI({},e._def),{},{type:wT(e.element)})):e instanceof qT?qT.create(wT(e.unwrap())):e instanceof ZT?ZT.create(wT(e.unwrap())):e instanceof PT?PT.create(e.items.map((function(e){return wT(e)}))):e}AT.create=function(e,t){return new AT(RI({type:e,minLength:null,maxLength:null,exactLength:null,typeName:eA.ZodArray},BI(t)))};var NT=function(e){TI(n,e);var t=wI(n);function n(){var e;return FI(this,n),(e=t.apply(this,arguments))._cached=null,e.nonstrict=e.passthrough,e.augment=e.extend,e}return WI(n,[{key:"_getCached",value:function(){if(null!==this._cached)return this._cached;var e=this._def.shape(),t=v_.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}},{key:"_parse",value:function(e){if(this._getType(e)!==M_.object){var t=this._getOrReturnCtx(e);return vI(t,{code:Q_.invalid_type,expected:M_.object,received:t.parsedType}),mI}var n=this._processInputParams(e),r=n.status,a=n.ctx,i=this._getCached(),o=i.shape,u=i.keys,l=[];if(!(this._def.catchall instanceof IT&&"strip"===this._def.unknownKeys))for(var c in a.data)u.includes(c)||l.push(c);var s,d=[],f=II(u);try{for(f.s();!(s=f.n()).done;){var p=s.value,h=o[p],v=a.data[p];d.push({key:{status:"valid",value:p},value:h._parse(new GI(a,v,a.path,p)),alwaysSet:p in a.data})}}catch(e){f.e(e)}finally{f.f()}if(this._def.catchall instanceof IT){var y=this._def.unknownKeys;if("passthrough"===y){var m,g=II(l);try{for(g.s();!(m=g.n()).done;){var E=m.value;d.push({key:{status:"valid",value:E},value:{status:"valid",value:a.data[E]}})}}catch(e){g.e(e)}finally{g.f()}}else if("strict"===y)l.length>0&&(vI(a,{code:Q_.unrecognized_keys,keys:l}),r.dirty());else if("strip"!==y)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{var b,S=this._def.catchall,C=II(l);try{for(C.s();!(b=C.n()).done;){var _=b.value,I=a.data[_];d.push({key:{status:"valid",value:_},value:S._parse(new GI(a,I,a.path,_)),alwaysSet:_ in a.data})}}catch(e){C.e(e)}finally{C.f()}}return a.common.async?Promise.resolve().then(xI(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=II(d),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=15;break}return a=r.value,e.next=8,a.key;case 8:return i=e.sent,e.next=11,a.value;case 11:o=e.sent,t.push({key:i,value:o,alwaysSet:a.alwaysSet});case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,null,[[2,17,20,23]])})))).then((function(e){return yI.mergeObjectSync(r,e)})):yI.mergeObjectSync(r,d)}},{key:"strict",value:function(e){var t=this;return tI.errToObj,new n(RI(RI({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:function(n,r){var a,i,o,u,l=null!==(a=null===(i=(o=t._def).errorMap)||void 0===i?void 0:i.call(o,n,r).message)&&void 0!==a?a:r.defaultError;return"unrecognized_keys"===n.code?{message:null!==(u=tI.errToObj(e).message)&&void 0!==u?u:l}:{message:l}}}:{}))}},{key:"strip",value:function(){return new n(RI(RI({},this._def),{},{unknownKeys:"strip"}))}},{key:"passthrough",value:function(){return new n(RI(RI({},this._def),{},{unknownKeys:"passthrough"}))}},{key:"extend",value:function(e){var t=this;return new n(RI(RI({},this._def),{},{shape:function(){return RI(RI({},t._def.shape()),e)}}))}},{key:"merge",value:function(e){var t=this;return new n({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:function(){return RI(RI({},t._def.shape()),e._def.shape())},typeName:eA.ZodObject})}},{key:"setKey",value:function(e,t){return this.augment(kI({},e,t))}},{key:"catchall",value:function(e){return new n(RI(RI({},this._def),{},{catchall:e}))}},{key:"pick",value:function(e){var t,r={},a=II(v_.objectKeys(e));try{for(a.s();!(t=a.n()).done;){var i=t.value;e[i]&&this.shape[i]&&(r[i]=this.shape[i])}}catch(e){a.e(e)}finally{a.f()}return new n(RI(RI({},this._def),{},{shape:function(){return r}}))}},{key:"omit",value:function(e){var t,r={},a=II(v_.objectKeys(this.shape));try{for(a.s();!(t=a.n()).done;){var i=t.value;e[i]||(r[i]=this.shape[i])}}catch(e){a.e(e)}finally{a.f()}return new n(RI(RI({},this._def),{},{shape:function(){return r}}))}},{key:"deepPartial",value:function(){return wT(this)}},{key:"partial",value:function(e){var t,r={},a=II(v_.objectKeys(this.shape));try{for(a.s();!(t=a.n()).done;){var i=t.value,o=this.shape[i];e&&!e[i]?r[i]=o:r[i]=o.optional()}}catch(e){a.e(e)}finally{a.f()}return new n(RI(RI({},this._def),{},{shape:function(){return r}}))}},{key:"required",value:function(e){var t,r={},a=II(v_.objectKeys(this.shape));try{for(a.s();!(t=a.n()).done;){var i=t.value;if(e&&!e[i])r[i]=this.shape[i];else{for(var o=this.shape[i];o instanceof qT;)o=o._def.innerType;r[i]=o}}}catch(e){a.e(e)}finally{a.f()}return new n(RI(RI({},this._def),{},{shape:function(){return r}}))}},{key:"keyof",value:function(){return WT(v_.objectKeys(this.shape))}},{key:"shape",get:function(){return this._def.shape()}}]),n}(qI);NT.create=function(e,t){return new NT(RI({shape:function(){return e},unknownKeys:"strip",catchall:IT.create(),typeName:eA.ZodObject},BI(t)))},NT.strictCreate=function(e,t){return new NT(RI({shape:function(){return e},unknownKeys:"strict",catchall:IT.create(),typeName:eA.ZodObject},BI(t)))},NT.lazycreate=function(e,t){return new NT(RI({shape:e,unknownKeys:"strip",catchall:IT.create(),typeName:eA.ZodObject},BI(t)))};var OT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=this._def.options;if(t.common.async)return Promise.all(n.map(function(){var e=xI(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=RI(RI({},t),{},{common:RI(RI({},t.common),{},{issues:[]}),parent:null}),e.next=3,n._parseAsync({data:t.data,path:t.path,parent:r});case 3:return e.t0=e.sent,e.t1=r,e.abrupt("return",{result:e.t0,ctx:e.t1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){var n,r=II(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if("valid"===a.result.status)return a.result}}catch(e){r.e(e)}finally{r.f()}var i,o=II(e);try{for(o.s();!(i=o.n()).done;){var u,l=i.value;if("dirty"===l.result.status)return(u=t.common.issues).push.apply(u,MI(l.ctx.common.issues)),l.result}}catch(e){o.e(e)}finally{o.f()}var c=e.map((function(e){return new $_(e.ctx.common.issues)}));return vI(t,{code:Q_.invalid_union,unionErrors:c}),mI}));var r,a,i=void 0,o=[],u=II(n);try{for(u.s();!(r=u.n()).done;){var l=r.value,c=RI(RI({},t),{},{common:RI(RI({},t.common),{},{issues:[]}),parent:null}),s=l._parseSync({data:t.data,path:t.path,parent:c});if("valid"===s.status)return s;"dirty"!==s.status||i||(i={result:s,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}}catch(e){u.e(e)}finally{u.f()}if(i)return(a=t.common.issues).push.apply(a,MI(i.ctx.common.issues)),i.result;var d=o.map((function(e){return new $_(e)}));return vI(t,{code:Q_.invalid_union,unionErrors:d}),mI}},{key:"options",get:function(){return this._def.options}}]),n}(qI);OT.create=function(e,t){return new OT(RI({options:e,typeName:eA.ZodUnion},BI(t)))};var LT=function e(t){return t instanceof FT?e(t.schema):t instanceof zT?e(t.innerType()):t instanceof jT?[t.value]:t instanceof GT?t.options:t instanceof HT?v_.objectValues(t.enum):t instanceof KT?e(t._def.innerType):t instanceof bT?[void 0]:t instanceof ST?[null]:t instanceof qT?[void 0].concat(MI(e(t.unwrap()))):t instanceof ZT?[null].concat(MI(e(t.unwrap()))):t instanceof XT||t instanceof $T?e(t.unwrap()):t instanceof YT?e(t._def.innerType):[]},DT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;if(t.parsedType!==M_.object)return vI(t,{code:Q_.invalid_type,expected:M_.object,received:t.parsedType}),mI;var n=this.discriminator,r=t.data[n],a=this.optionsMap.get(r);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(vI(t,{code:Q_.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),mI)}},{key:"discriminator",get:function(){return this._def.discriminator}},{key:"options",get:function(){return this._def.options}},{key:"optionsMap",get:function(){return this._def.optionsMap}}],[{key:"create",value:function(e,t,r){var a,i=new Map,o=II(t);try{for(o.s();!(a=o.n()).done;){var u=a.value,l=LT(u.shape[e]);if(!l.length)throw new Error("A discriminator value for key `".concat(e,"` could not be extracted from all schema options"));var c,s=II(l);try{for(s.s();!(c=s.n()).done;){var d=c.value;if(i.has(d))throw new Error("Discriminator property ".concat(String(e)," has duplicate value ").concat(String(d)));i.set(d,u)}}catch(e){s.e(e)}finally{s.f()}}}catch(e){o.e(e)}finally{o.f()}return new n(RI({typeName:eA.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i},BI(r)))}}]),n}(qI);function RT(e,t){var n=U_(e),r=U_(t);if(e===t)return{valid:!0,data:e};if(n===M_.object&&r===M_.object){var a,i=v_.objectKeys(t),o=v_.objectKeys(e).filter((function(e){return-1!==i.indexOf(e)})),u=RI(RI({},e),t),l=II(o);try{for(l.s();!(a=l.n()).done;){var c=a.value,s=RT(e[c],t[c]);if(!s.valid)return{valid:!1};u[c]=s.data}}catch(e){l.e(e)}finally{l.f()}return{valid:!0,data:u}}if(n===M_.array&&r===M_.array){if(e.length!==t.length)return{valid:!1};for(var d=[],f=0;f<e.length;f++){var p=RT(e[f],t[f]);if(!p.valid)return{valid:!1};d.push(p.data)}return{valid:!0,data:d}}return n===M_.date&&r===M_.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var kT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx,a=function(e,t){if(bI(e)||bI(t))return mI;var a=RT(e.value,t.value);return a.valid?((SI(e)||SI(t))&&n.dirty(),{status:n.value,value:a.data}):(vI(r,{code:Q_.invalid_intersection_types}),mI)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((function(e){var t=LI(e,2),n=t[0],r=t[1];return a(n,r)})):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}]),n}(qI);kT.create=function(e,t,n){return new kT(RI({left:e,right:t,typeName:eA.ZodIntersection},BI(n)))};var PT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,a=n.ctx;if(a.parsedType!==M_.array)return vI(a,{code:Q_.invalid_type,expected:M_.array,received:a.parsedType}),mI;if(a.data.length<this._def.items.length)return vI(a,{code:Q_.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),mI;!this._def.rest&&a.data.length>this._def.items.length&&(vI(a,{code:Q_.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());var i=MI(a.data).map((function(e,n){var r=t._def.items[n]||t._def.rest;return r?r._parse(new GI(a,e,a.path,n)):null})).filter((function(e){return!!e}));return a.common.async?Promise.all(i).then((function(e){return yI.mergeArray(r,e)})):yI.mergeArray(r,i)}},{key:"rest",value:function(e){return new n(RI(RI({},this._def),{},{rest:e}))}},{key:"items",get:function(){return this._def.items}}]),n}(qI);PT.create=function(e,t){if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new PT(RI({items:e,typeName:eA.ZodTuple,rest:null},BI(t)))};var xT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==M_.object)return vI(r,{code:Q_.invalid_type,expected:M_.object,received:r.parsedType}),mI;var a=[],i=this._def.keyType,o=this._def.valueType;for(var u in r.data)a.push({key:i._parse(new GI(r,u,r.path,u)),value:o._parse(new GI(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?yI.mergeObjectAsync(n,a):yI.mergeObjectSync(n,a)}},{key:"keySchema",get:function(){return this._def.keyType}},{key:"valueSchema",get:function(){return this._def.valueType}},{key:"element",get:function(){return this._def.valueType}}],[{key:"create",value:function(e,t,r){return new n(t instanceof qI?RI({keyType:e,valueType:t,typeName:eA.ZodRecord},BI(r)):RI({keyType:hT.create(),valueType:e,typeName:eA.ZodRecord},BI(t)))}}]),n}(qI),MT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==M_.map)return vI(r,{code:Q_.invalid_type,expected:M_.map,received:r.parsedType}),mI;var a=this._def.keyType,i=this._def.valueType,o=MI(r.data.entries()).map((function(e,t){var n=LI(e,2),o=n[0],u=n[1];return{key:a._parse(new GI(r,o,r.path,[t,"key"])),value:i._parse(new GI(r,u,r.path,[t,"value"]))}}));if(r.common.async){var u=new Map;return Promise.resolve().then(xI(regeneratorRuntime.mark((function e(){var t,r,a,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=II(o),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=17;break}return a=r.value,e.next=7,a.key;case 7:return i=e.sent,e.next=10,a.value;case 10:if(l=e.sent,"aborted"!==i.status&&"aborted"!==l.status){e.next=13;break}return e.abrupt("return",mI);case 13:"dirty"!==i.status&&"dirty"!==l.status||n.dirty(),u.set(i.value,l.value);case 15:e.next=3;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),t.e(e.t0);case 22:return e.prev=22,t.f(),e.finish(22);case 25:return e.abrupt("return",{status:n.value,value:u});case 26:case"end":return e.stop()}}),e,null,[[1,19,22,25]])}))))}var l,c=new Map,s=II(o);try{for(s.s();!(l=s.n()).done;){var d=l.value,f=d.key,p=d.value;if("aborted"===f.status||"aborted"===p.status)return mI;"dirty"!==f.status&&"dirty"!==p.status||n.dirty(),c.set(f.value,p.value)}}catch(e){s.e(e)}finally{s.f()}return{status:n.value,value:c}}},{key:"keySchema",get:function(){return this._def.keyType}},{key:"valueSchema",get:function(){return this._def.valueType}}]),n}(qI);MT.create=function(e,t,n){return new MT(RI({valueType:t,keyType:e,typeName:eA.ZodMap},BI(n)))};var UT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==M_.set)return vI(r,{code:Q_.invalid_type,expected:M_.set,received:r.parsedType}),mI;var a=this._def;null!==a.minSize&&r.data.size<a.minSize.value&&(vI(r,{code:Q_.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),null!==a.maxSize&&r.data.size>a.maxSize.value&&(vI(r,{code:Q_.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());var i=this._def.valueType;function o(e){var t,r=new Set,a=II(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if("aborted"===i.status)return mI;"dirty"===i.status&&n.dirty(),r.add(i.value)}}catch(e){a.e(e)}finally{a.f()}return{status:n.value,value:r}}var u=MI(r.data.values()).map((function(e,t){return i._parse(new GI(r,e,r.path,t))}));return r.common.async?Promise.all(u).then((function(e){return o(e)})):o(u)}},{key:"min",value:function(e,t){return new n(RI(RI({},this._def),{},{minSize:{value:e,message:tI.toString(t)}}))}},{key:"max",value:function(e,t){return new n(RI(RI({},this._def),{},{maxSize:{value:e,message:tI.toString(t)}}))}},{key:"size",value:function(e,t){return this.min(e,t).max(e,t)}},{key:"nonempty",value:function(e){return this.min(1,e)}}]),n}(qI);UT.create=function(e,t){return new UT(RI({valueType:e,minSize:null,maxSize:null,typeName:eA.ZodSet},BI(t)))};var VT=function(e){TI(n,e);var t=wI(n);function n(){var e;return FI(this,n),(e=t.apply(this,arguments)).validate=e.implement,e}return WI(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;if(t.parsedType!==M_.function)return vI(t,{code:Q_.invalid_type,expected:M_.function,received:t.parsedType}),mI;function n(e,n){return hI({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,aI(),nI].filter((function(e){return!!e})),issueData:{code:Q_.invalid_arguments,argumentsError:n}})}function r(e,n){return hI({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,aI(),nI].filter((function(e){return!!e})),issueData:{code:Q_.invalid_return_type,returnTypeError:n}})}var a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof BT){var o=this;return EI(xI(regeneratorRuntime.mark((function e(){var t,u,l,c,s,d,f,p=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=p.length,u=new Array(t),l=0;l<t;l++)u[l]=p[l];return c=new $_([]),e.next=4,o._def.args.parseAsync(u,a).catch((function(e){throw c.addIssue(n(u,e)),c}));case 4:return s=e.sent,e.next=7,Reflect.apply(i,this,s);case 7:return d=e.sent,e.next=10,o._def.returns._def.type.parseAsync(d,a).catch((function(e){throw c.addIssue(r(d,e)),c}));case 10:return f=e.sent,e.abrupt("return",f);case 12:case"end":return e.stop()}}),e,this)}))))}var u=this;return EI((function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var l=u._def.args.safeParse(t,a);if(!l.success)throw new $_([n(t,l.error)]);var c=Reflect.apply(i,this,l.data),s=u._def.returns.safeParse(c,a);if(!s.success)throw new $_([r(c,s.error)]);return s.data}))}},{key:"parameters",value:function(){return this._def.args}},{key:"returnType",value:function(){return this._def.returns}},{key:"args",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new n(RI(RI({},this._def),{},{args:PT.create(t).rest(_T.create())}))}},{key:"returns",value:function(e){return new n(RI(RI({},this._def),{},{returns:e}))}},{key:"implement",value:function(e){return this.parse(e)}},{key:"strictImplement",value:function(e){return this.parse(e)}}],[{key:"create",value:function(e,t,r){return new n(RI({args:e||PT.create([]).rest(_T.create()),returns:t||_T.create(),typeName:eA.ZodFunction},BI(r)))}}]),n}(qI),FT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}},{key:"schema",get:function(){return this._def.getter()}}]),n}(qI);FT.create=function(e,t){return new FT(RI({getter:e,typeName:eA.ZodLazy},BI(t)))};var jT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){if(e.data!==this._def.value){var t=this._getOrReturnCtx(e);return vI(t,{received:t.data,code:Q_.invalid_literal,expected:this._def.value}),mI}return{status:"valid",value:e.data}}},{key:"value",get:function(){return this._def.value}}]),n}(qI);function WT(e,t){return new GT(RI({values:e,typeName:eA.ZodEnum},BI(t)))}jT.create=function(e,t){return new jT(RI({value:e,typeName:eA.ZodLiteral},BI(t)))};var GT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){if("string"!=typeof e.data){var t=this._getOrReturnCtx(e),n=this._def.values;return vI(t,{expected:v_.joinValues(n),received:t.parsedType,code:Q_.invalid_type}),mI}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){var r=this._getOrReturnCtx(e),a=this._def.values;return vI(r,{received:r.data,code:Q_.invalid_enum_value,options:a}),mI}return EI(e.data)}},{key:"extract",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return n.create(e,RI(RI({},this._def),t))}},{key:"exclude",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return n.create(this.options.filter((function(t){return!e.includes(t)})),RI(RI({},this._def),t))}},{key:"options",get:function(){return this._def.values}},{key:"enum",get:function(){var e,t={},n=II(this._def.values);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=r}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"Values",get:function(){var e,t={},n=II(this._def.values);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=r}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"Enum",get:function(){var e,t={},n=II(this._def.values);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=r}}catch(e){n.e(e)}finally{n.f()}return t}}]),n}(qI);GT.create=WT;var HT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){var t=v_.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==M_.string&&n.parsedType!==M_.number){var r=v_.objectValues(t);return vI(n,{expected:v_.joinValues(r),received:n.parsedType,code:Q_.invalid_type}),mI}if(this._cache||(this._cache=new Set(v_.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){var a=v_.objectValues(t);return vI(n,{received:n.data,code:Q_.invalid_enum_value,options:a}),mI}return EI(e.data)}},{key:"enum",get:function(){return this._def.values}}]),n}(qI);HT.create=function(e,t){return new HT(RI({values:e,typeName:eA.ZodNativeEnum},BI(t)))};var BT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"unwrap",value:function(){return this._def.type}},{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e).ctx;if(n.parsedType!==M_.promise&&!1===n.common.async)return vI(n,{code:Q_.invalid_type,expected:M_.promise,received:n.parsedType}),mI;var r=n.parsedType===M_.promise?n.data:Promise.resolve(n.data);return EI(r.then((function(e){return t._def.type.parseAsync(e,{path:n.path,errorMap:n.common.contextualErrorMap})})))}}]),n}(qI);BT.create=function(e,t){return new BT(RI({type:e,typeName:eA.ZodPromise},BI(t)))};var zT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"innerType",value:function(){return this._def.schema}},{key:"sourceType",value:function(){return this._def.schema._def.typeName===eA.ZodEffects?this._def.schema.sourceType():this._def.schema}},{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,a=n.ctx,i=this._def.effect||null,o={addIssue:function(e){vI(a,e),e.fatal?r.abort():r.dirty()},get path(){return a.path}};if(o.addIssue=o.addIssue.bind(o),"preprocess"===i.type){var u=i.transform(a.data,o);if(a.common.async)return Promise.resolve(u).then(function(){var e=xI(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("aborted"!==r.value){e.next=2;break}return e.abrupt("return",mI);case 2:return e.next=4,t._def.schema._parseAsync({data:n,path:a.path,parent:a});case 4:if("aborted"!==(i=e.sent).status){e.next=7;break}return e.abrupt("return",mI);case 7:if("dirty"!==i.status){e.next=9;break}return e.abrupt("return",gI(i.value));case 9:if("dirty"!==r.value){e.next=11;break}return e.abrupt("return",gI(i.value));case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());if("aborted"===r.value)return mI;var l=this._def.schema._parseSync({data:u,path:a.path,parent:a});return"aborted"===l.status?mI:"dirty"===l.status||"dirty"===r.value?gI(l.value):l}if("refinement"===i.type){var c=function(e){var t=i.refinement(e,o);if(a.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===a.common.async){var s=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===s.status?mI:("dirty"===s.status&&r.dirty(),c(s.value),{status:r.value,value:s.value})}return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then((function(e){return"aborted"===e.status?mI:("dirty"===e.status&&r.dirty(),c(e.value).then((function(){return{status:r.value,value:e.value}})))}))}if("transform"===i.type){if(!1===a.common.async){var d=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!CI(d))return mI;var f=i.transform(d.value,o);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:f}}return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then((function(e){return CI(e)?Promise.resolve(i.transform(e.value,o)).then((function(e){return{status:r.value,value:e}})):mI}))}v_.assertNever(i)}}]),n}(qI);zT.create=function(e,t,n){return new zT(RI({schema:e,typeName:eA.ZodEffects,effect:t},BI(n)))},zT.createWithPreprocess=function(e,t,n){return new zT(RI({schema:t,effect:{type:"preprocess",transform:e},typeName:eA.ZodEffects},BI(n)))};var qT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){return this._getType(e)===M_.undefined?EI(void 0):this._def.innerType._parse(e)}},{key:"unwrap",value:function(){return this._def.innerType}}]),n}(qI);qT.create=function(e,t){return new qT(RI({innerType:e,typeName:eA.ZodOptional},BI(t)))};var ZT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){return this._getType(e)===M_.null?EI(null):this._def.innerType._parse(e)}},{key:"unwrap",value:function(){return this._def.innerType}}]),n}(qI);ZT.create=function(e,t){return new ZT(RI({innerType:e,typeName:eA.ZodNullable},BI(t)))};var KT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=t.data;return t.parsedType===M_.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}},{key:"removeDefault",value:function(){return this._def.innerType}}]),n}(qI);KT.create=function(e,t){return new KT(RI({innerType:e,typeName:eA.ZodDefault,defaultValue:"function"==typeof t.default?t.default:function(){return t.default}},BI(t)))};var YT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e).ctx,r=RI(RI({},n),{},{common:RI(RI({},n.common),{},{issues:[]})}),a=this._def.innerType._parse({data:r.data,path:r.path,parent:RI({},r)});return _I(a)?a.then((function(e){return{status:"valid",value:"valid"===e.status?e.value:t._def.catchValue({get error(){return new $_(r.common.issues)},input:r.data})}})):{status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new $_(r.common.issues)},input:r.data})}}},{key:"removeCatch",value:function(){return this._def.innerType}}]),n}(qI);YT.create=function(e,t){return new YT(RI({innerType:e,typeName:eA.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:function(){return t.catch}},BI(t)))};var JT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){if(this._getType(e)!==M_.nan){var t=this._getOrReturnCtx(e);return vI(t,{code:Q_.invalid_type,expected:M_.nan,received:t.parsedType}),mI}return{status:"valid",value:e.data}}}]),n}(qI);JT.create=function(e){return new JT(RI({typeName:eA.ZodNaN},BI(e)))};Symbol("zod_brand");var XT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}},{key:"unwrap",value:function(){return this._def.type}}]),n}(qI),QT=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,a=n.ctx;if(a.common.async){var i=function(){var e=xI(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._def.in._parseAsync({data:a.data,path:a.path,parent:a});case 2:if("aborted"!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",mI);case 5:if("dirty"!==n.status){e.next=10;break}return r.dirty(),e.abrupt("return",gI(n.value));case 10:return e.abrupt("return",t._def.out._parseAsync({data:n.value,path:a.path,parent:a}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i()}var o=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===o.status?mI:"dirty"===o.status?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:a.path,parent:a})}}],[{key:"create",value:function(e,t){return new n({in:e,out:t,typeName:eA.ZodPipeline})}}]),n}(qI),$T=function(e){TI(n,e);var t=wI(n);function n(){return FI(this,n),t.apply(this,arguments)}return WI(n,[{key:"_parse",value:function(e){var t=this._def.innerType._parse(e),n=function(e){return CI(e)&&(e.value=Object.freeze(e.value)),e};return _I(t)?t.then((function(e){return n(e)})):n(t)}},{key:"unwrap",value:function(){return this._def.innerType}}]),n}(qI);$T.create=function(e,t){return new $T(RI({innerType:e,typeName:eA.ZodReadonly},BI(t)))};var eA;NT.lazycreate;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(eA||(eA={}));var tA,nA,rA=hT.create,aA=(vT.create,JT.create,yT.create,mT.create),iA=(gT.create,ET.create,bT.create,ST.create,CT.create),oA=(_T.create,IT.create,TT.create,AT.create,NT.create),uA=(NT.strictCreate,OT.create),lA=(DT.create,kT.create,PT.create,xT.create,MT.create,UT.create,VT.create,FT.create,jT.create),cA=(GT.create,HT.create),sA=(BT.create,zT.create,qT.create,ZT.create,zT.createWithPreprocess);QT.create;!function(e){e.ZERO="FRICTION_CONTEXT_INVALID",e.ONE="FRICTION_CONTEXT_ONE"}(tA||(tA={}));var dA=oA({sharedParameters:oA({shouldAnalyze:aA().optional(),useContinueMode:aA().optional(),genericChallengeId:rA().optional()}).optional()}),fA=oA({userId:rA(),challengeId:rA(),shouldShowRememberDeviceCheckbox:aA(),actionType:cA(Tv)}).and(dA),pA=oA({actionType:cA(Ed),dataExchangeBlob:rA(),unifiedCaptchaId:rA()}).and(dA),hA=oA({userId:rA(),sessionId:rA()}).and(dA),vA=oA({}).and(dA),yA=oA({}).and(dA),mA=oA({sessionId:rA()}).and(dA),gA=oA({challengeId:rA(),puzzleType:cA(_v)}).and(dA),EA=oA({challengeId:rA()}).and(dA),bA=oA({integrityType:rA(),requestHash:rA()}).and(dA),SA=oA({challengeId:rA(),artifacts:oA({puzzleType:cA(bv),seed:rA(),rounds:rA(),layers:rA()})}).and(dA),CA=oA({frictionContext:cA(tA).optional()}).and(dA),_A=oA({otpSession:rA(),frictionContext:cA(tA).optional()}).and(dA),IA=iA(),TA=oA({challengeId:rA(),userId:rA(),biometricType:rA()}).and(dA),AA=((nA={})[Nv.TWO_STEP_VERIFICATION]=fA,nA[Nv.CAPTCHA]=pA,nA[Nv.FORCE_AUTHENTICATOR]=vA,nA[Nv.FORCE_TWO_STEP_VERIFICATION]=yA,nA[Nv.SECURITY_QUESTIONS]=hA,nA[Nv.PROOF_OF_WORK]=mA,nA[Nv.ROSTILE]=gA,nA[Nv.PRIVATE_ACCESS_TOKEN]=EA,nA[Nv.DEVICE_INTEGRITY]=bA,nA[Nv.PROOF_OF_SPACE]=SA,nA[Nv.PHONE_VERIFICATION]=CA,nA[Nv.EMAIL_VERIFICATION]=_A,nA[Nv.BLOCK_SESSION]=IA,nA[Nv.BIOMETRIC]=TA,nA),wA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),NA=function(){return NA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},NA.apply(this,arguments)},OA=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},LA=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},DA=new id,RA=new O_,kA=function(e){if(e===Nv.BIOMETRIC)return{className:"biometric-challenge-overlay",useOverlay:!0}},PA=function(e,t,n){var r,a=Object.values(Nv).includes(t)?t:null;if(null===a)return null;try{r=null===n||""===n?{}:JSON.parse(n)}catch(e){return null}var i=AA[a].safeParse(r);if(!i.success)return console.error(I_,i.error),null;var o=kA(a)?function(){return kA(a)}:void 0;return{challengeId:e,challengeType:a,challengeMetadata:r,getContainerStyling:o}},xA=function(e){var t=e.challengeBaseProperties,n=e.challengeSpecificProperties;return OA(void 0,void 0,Promise,(function(){var e,r,a,i,o,u,l,c,s,d,f,p,h,v,y,m,g,E,b,S,C,_,I,T;return LA(this,(function(A){switch(e=n.challengeMetadata.sharedParameters,r=t.onChallengeCompleted,t.onChallengeCompleted=function(a){return OA(void 0,void 0,void 0,(function(){var i,o,u,l;return LA(this,(function(c){switch(c.label){case 0:return[4,DA.genericChallenge.continueChallenge((null==e?void 0:e.genericChallengeId)||n.challengeId,a.challengeType,JSON.stringify(a.metadata))];case 1:return(i=c.sent()).isError?(RA.fireContinueFailureEvent(n.challengeType),t.onChallengeInvalidated({challengeType:n.challengeType,errorCode:vv.UNKNOWN,errorMessage:""}),[2]):""===i.value.challengeType?(r(a),[2]):Object.values(Nv).includes(i.value.challengeType)?null===(l=PA(i.value.challengeId,i.value.challengeType,i.value.challengeMetadata))?(console.error(I_,"Challenge headers failed to be parsed"),RA.fireParseFailureEvent(),t.onChallengeInvalidated({challengeType:n.challengeType,errorCode:vv.UNKNOWN,errorMessage:""}),[2]):(t.onChallengeCompleted=r,xA({challengeBaseProperties:t,challengeSpecificProperties:l}).then((function(e){if(!e)return RA.fireRenderFailureEvent(l.challengeType),console.error(I_,"Challenge component failed to initialize"),void t.onChallengeInvalidated({challengeType:l.challengeType,errorCode:vv.UNKNOWN,errorMessage:""});RA.fireSuccessEvent(l.challengeType)})).catch((function(){RA.fireRenderFailureEvent(l.challengeType),console.error(I_,"Exception on rendering challenge component"),t.onChallengeInvalidated({challengeType:l.challengeType,errorCode:vv.UNKNOWN,errorMessage:""})})),[2]):t.newRenderChallenge&&t.newParseChallenge?(o=t.newParseChallenge(i.value.challengeId,i.value.challengeType,i.value.challengeMetadata),jh(o)?(t.onChallengeInvalidated({challengeType:i.value.challengeType,errorCode:vv.UNKNOWN,errorMessage:"New middleware failed to parse subsequent challenges"}),[2]):(u=o.value,t.newRenderChallenge({challengeBaseProperties:t,challengeSpecificProperties:u}),[2])):(console.warn("[old middleware] new challenge type found but no new fallback registered!"),t.onChallengeInvalidated({challengeType:i.value.challengeType,errorCode:vv.UNKNOWN,errorMessage:"Subsequent challenges failed!"}),[2])}}))}))},!0===(null==e?void 0:e.shouldAnalyze)&&(a=mh.load({monitoring:!1}),i=t.onChallengeCompleted,t.onChallengeCompleted=function(e){return OA(void 0,void 0,void 0,(function(){var t,r;return LA(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,a];case 1:return[4,o.sent().get()];case 2:return t=o.sent(),r={},Object.entries(t.components).forEach((function(e){var t=e[0],n=e[1];"canvas"!==t&&(r[t]="object"==typeof n.value?JSON.stringify(n.value):n.value)})),hi().EventStream.SendEventWithTarget(T_,A_.onCompleted,NA({challengeId:n.challengeId,library:"FPJS",version:t.version},r),hi().EventStream.TargetTypes.WWW),[3,4];case 3:return o.sent(),[3,4];case 4:return[2,i(e)]}}))}))}),n.challengeType){case Nv.CAPTCHA:return o=n.challengeType,u=n.challengeMetadata,T=NA(NA(NA({onChallengeDisplayed:function(){},appType:null},t),u),{onChallengeInvalidated:function(e){return t.onChallengeInvalidated(NA({challengeType:o},e))},onChallengeCompleted:function(e){return t.onChallengeCompleted({challengeType:o,metadata:{unifiedCaptchaId:e.captchaId,captchaToken:e.captchaToken,actionType:u.actionType}})}}),[2,qd(T)];case Nv.FORCE_AUTHENTICATOR:return I=n.challengeMetadata,T=NA(NA({forceActionRedirectChallengeType:_f.ForceActionRedirectChallengeType.ForceAuthenticator},t),I),(C=dp(T))&&void 0!==t.onChallengeDisplayed&&t.onChallengeDisplayed({displayed:!0}),[2,Promise.resolve(C)];case Nv.FORCE_TWO_STEP_VERIFICATION:return I=n.challengeMetadata,T=NA(NA({forceActionRedirectChallengeType:_f.ForceActionRedirectChallengeType.ForceTwoStepVerification},t),I),(C=dp(T))&&void 0!==t.onChallengeDisplayed&&t.onChallengeDisplayed({displayed:!0}),[2,Promise.resolve(C)];case Nv.TWO_STEP_VERIFICATION:return l=n.challengeType,c=n.challengeMetadata,T=NA(NA(NA({},t),c),{onChallengeInvalidated:function(e){return t.onChallengeInvalidated(NA({challengeType:l},e))},onChallengeCompleted:function(e){return t.onChallengeCompleted({challengeType:l,metadata:NA(NA({},e),{challengeId:c.challengeId,actionType:c.actionType})})}}),(C=PE(T))&&void 0!==t.onChallengeDisplayed&&t.onChallengeDisplayed({displayed:!0}),[2,Promise.resolve(C)];case Nv.SECURITY_QUESTIONS:return s=n.challengeType,I=n.challengeMetadata,T=NA(NA(NA({},t),I),{onChallengeInvalidated:function(e){return t.onChallengeInvalidated(NA({challengeType:s},e))},onChallengeCompleted:function(e){return t.onChallengeCompleted({challengeType:s,metadata:e})}}),(C=Cg(T))&&void 0!==t.onChallengeDisplayed&&t.onChallengeDisplayed({displayed:!0}),[2,Promise.resolve(C)];case Nv.PROOF_OF_WORK:return d=n.challengeType,f=n.challengeMetadata,T=NA(NA(NA({onChallengeDisplayed:function(){}},t),f),{onChallengeInvalidated:function(e){return t.onChallengeInvalidated(NA({challengeType:d},e))},onChallengeCompleted:function(e){return t.onChallengeCompleted({challengeType:d,metadata:NA(NA({},e),{sessionId:f.sessionId})})}}),[2,Promise.resolve(Tm(T))];case Nv.ROSTILE:return p=n.challengeType,I=n.challengeMetadata,T=NA(NA(NA({onChallengeDisplayed:function(){}},t),I),{onChallengeInvalidated:function(e){return t.onChallengeInvalidated(NA({challengeType:p},e))},onChallengeCompleted:function(e){return t.onChallengeCompleted({challengeType:p,metadata:NA({},e)})}}),[2,Promise.resolve(eg(T))];case Nv.PRIVATE_ACCESS_TOKEN:return h=n.challengeType,I=n.challengeMetadata,T=NA(NA(NA({onChallengeDisplayed:function(){}},t),I),{onChallengeInvalidated:function(e){return t.onChallengeInvalidated(NA({challengeType:h},e))},onChallengeCompleted:function(e){return t.onChallengeCompleted({challengeType:h,metadata:NA({},e)})}}),[2,Promise.resolve(vy(T))];case Nv.DEVICE_INTEGRITY:return E=n.challengeId,v=n.challengeType,I=n.challengeMetadata,T=NA(NA(NA({onChallengeDisplayed:function(){},challengeId:E},t),I),{onChallengeInvalidated:function(e){return t.onChallengeInvalidated(NA({challengeType:v},e))},onChallengeCompleted:function(e){return t.onChallengeCompleted({challengeType:v,metadata:NA({},e)})}}),[2,Promise.resolve(mf(T))];case Nv.PROOF_OF_SPACE:return y=n.challengeType,I=n.challengeMetadata,T=NA(NA(NA({onChallengeDisplayed:function(){}},t),I),{onChallengeInvalidated:function(e){return t.onChallengeInvalidated(NA({challengeType:y},e))},onChallengeCompleted:function(e){return t.onChallengeCompleted({challengeType:y,metadata:NA({},e)})}}),[2,Promise.resolve(Xy(T))];case Nv.PHONE_VERIFICATION:return E=n.challengeId,m=n.challengeType,g=n.challengeMetadata,T=NA(NA(NA({onChallengeDisplayed:function(){},challengeId:E},t),g),{onChallengeInvalidated:function(e){return t.onChallengeInvalidated(NA({challengeType:m},e))},onChallengeCompleted:function(e){return t.onChallengeCompleted({challengeType:m,metadata:NA({frictionContext:g.frictionContext},e)})}}),C=function(e){var t=e.containerId,n=e.challengeId,r=e.appType,a=e.renderInline,i=e.onChallengeCompleted,o=e.onChallengeInvalidated,u=e.onModalChallengeAbandoned,l=document.getElementById(t);if(null!==l){(0,Wi.unmountComponentAtNode)(l);var c=new qv(n),s=new Zv(r,Jv);return(0,Wi.render)(ji().createElement(zv,{challengeId:n,renderInline:a,eventService:c,metricsService:s,onChallengeCompleted:i,onChallengeInvalidated:o,onModalChallengeAbandoned:u}),l),c.sendChallengeInitializedEvent(),s.fireChallengeInitializedEvent(),!0}return!1}(T),C&&void 0!==t.onChallengeDisplayed&&t.onChallengeDisplayed({displayed:!0}),[2,Promise.resolve(C)];case Nv.EMAIL_VERIFICATION:return E=n.challengeId,b=n.challengeType,S=n.challengeMetadata,T=NA(NA(NA({onChallengeDisplayed:function(){},challengeId:E},t),S),{onChallengeInvalidated:function(e){return t.onChallengeInvalidated(NA({challengeType:b},e))},onChallengeCompleted:function(e){return t.onChallengeCompleted({challengeType:b,metadata:NA({frictionContext:S.frictionContext},e)})}}),C=function(e){var t=e.containerId,n=e.challengeId,r=e.renderInline,a=e.appType,i=e.onChallengeCompleted,o=e.onChallengeInvalidated,u=e.onModalChallengeAbandoned,l=document.getElementById(t);if(null!==l){(0,Wi.unmountComponentAtNode)(l);var c=new dv(n),s=new fv(a,hv);return(0,Wi.render)(ji().createElement(sv,{challengeId:n,renderInline:r,eventService:c,metricsService:s,onChallengeCompleted:i,onChallengeInvalidated:o,onModalChallengeAbandoned:u}),l),c.sendChallengeInitializedEvent(),s.fireChallengeInitializedEvent(),!0}return!1}(T),C&&void 0!==t.onChallengeDisplayed&&t.onChallengeDisplayed({displayed:!0}),[2,Promise.resolve(C)];case Nv.BLOCK_SESSION:return I=n.challengeMetadata,T=NA(NA({forceActionRedirectChallengeType:_f.ForceActionRedirectChallengeType.BlockSession},t),I),(C=dp(T))&&void 0!==t.onChallengeDisplayed&&t.onChallengeDisplayed({displayed:!0}),[2,Promise.resolve(C)];case Nv.BIOMETRIC:return _=n.challengeType,I=n.challengeMetadata,T=NA(NA(NA({onChallengeDisplayed:function(){}},t),I),{onChallengeInvalidated:function(e){return t.onChallengeInvalidated(NA({challengeType:_},e))},onChallengeCompleted:function(e){return t.onChallengeCompleted({challengeType:_,metadata:NA({},e)})}}),[2,Promise.resolve(__(T))];default:return[2,!1]}return[2]}))}))},MA="generic-challenge-error",UA=function(e){function t(n){var r=e.call(this,t.getMessage(n))||this;return Object.setPrototypeOf(r,t.prototype),r.name=t.name,r._parameters=n,r._className=MA,r}return wA(t,e),t.match=function(e){return"object"==typeof e&&null!==e&&e._className===MA},t.matchAbandoned=function(e){return t.match(e)&&e.parameters.kind===yv.ABANDONED},t.getMessage=function(e){return"Got ("+["Kind: "+e.kind,"Type: "+(e.data.challengeType||"unknown"),"Code: "+(e.kind===yv.INVALIDATED?e.data.errorCode:"null")].join("; ")+")"},Object.defineProperty(t.prototype,"parameters",{get:function(){return this._parameters},enumerable:!1,configurable:!0}),t}(Error),VA=function(e){return new Promise((function(t,n){var r,a,i=e.retryRequest,o=e.containerId,u=e.challengeId,l=e.challengeTypeRaw,c=e.challengeMetadataJsonBase64,s=e.newRenderChallenge,d=e.newParseChallenge;try{a=atob(c)}catch(e){if(e instanceof DOMException&&e.code===DOMException.INVALID_CHARACTER_ERR)return console.error(I_,"Base-64 decoding failed",e),void n(new UA({kind:yv.UNKNOWN,data:{}}));throw e}var f=PA(u,l,a);if(null===f)return console.error(I_,"Challenge headers failed to be parsed"),n(new UA({kind:yv.UNKNOWN,data:{}})),void RA.fireParseFailureEvent();var p=o+"-"+l;if(null===document.getElementById(p)){var h=document.createElement("div");h.id=p,function(e,t){var n,r=null===(n=t.getContainerStyling)||void 0===n?void 0:n.call(t);r&&Object.entries(r).forEach((function(t){var n=t[0],r=t[1];"className"===n&&void 0!==r?e.className=r:"useOverlay"!==n&&"className"!==n&&void 0!==r&&(e.style[n]=r)}))}(h,f),document.body.appendChild(h)}var v=function(){if(function(e){var t,n=null===(t=e.getContainerStyling)||void 0===t?void 0:t.call(e);return!0===(null==n?void 0:n.useOverlay)}(f)){var e=document.getElementById(p);e&&e.remove()}};xA({challengeBaseProperties:{containerId:p,renderInline:!1,containerStyling:null===(r=f.getContainerStyling)||void 0===r?void 0:r.call(f),onChallengeCompleted:function(e){v();try{t(i(u,btoa(JSON.stringify(e.metadata))))}catch(e){if(!(e instanceof DOMException&&e.code===DOMException.INVALID_CHARACTER_ERR))throw e;console.error(I_,"Base-64 encoding failed",e),n(new UA({kind:yv.UNKNOWN,data:{challengeType:f.challengeType}}))}},onChallengeInvalidated:function(e){v(),n(new UA({kind:yv.INVALIDATED,data:e}))},onModalChallengeAbandoned:function(){v(),n(new UA({kind:yv.ABANDONED,data:{challengeType:f.challengeType}}))},newRenderChallenge:s,newParseChallenge:d},challengeSpecificProperties:f}).then((function(e){e?RA.fireSuccessEvent(f.challengeType):(v(),RA.fireRenderFailureEvent(f.challengeType),console.error(I_,"Challenge component failed to initialize"),n(new UA({kind:yv.UNKNOWN,data:{challengeType:f.challengeType}})))}))}))},FA=function(){if(null===document.getElementById("prelude")){var e=document.createElement("script");e.src=qh.url,e.async=!0,e.id="prelude",document.body.appendChild(e)}},jA=function(e,t){return jA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},jA(e,t)};function WA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}jA(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var GA=function(){return GA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},GA.apply(this,arguments)};function HA(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))}function BA(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=u(0),o.throw=u(1),o.return=u(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){i.label=u[1];break}if(6===u[0]&&i.label<a[1]){i.label=a[1],a=u;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(u);break}a[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}}function zA(e){return zA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zA(e)}"function"==typeof SuppressedError&&SuppressedError;var qA,ZA="x-csrf-token",KA=ZA,YA=function(){function e(){var e;try{if("undefined"!=typeof window)return void(this.currentToken=null!==(e=localStorage.getItem(KA))&&void 0!==e?e:"")}catch(e){console.warn("Error reading localStorage key “".concat(KA,"”:"),e)}this.currentToken=""}return e.prototype.storeCRSFToken=function(e){this.currentToken=e;try{"undefined"!=typeof window&&localStorage.setItem(KA,e)}catch(e){console.warn("Error setting localStorage key “".concat(KA,"”:"),e)}},e.prototype.pre=function(e){var t=e.url,n=e.init,r=this.currentToken;return n.headers&&"object"==zA(n.headers)&&ZA in n.headers&&(r=n.headers[ZA])&&this.storeCRSFToken(r),"POST"===n.method||"PATCH"===n.method||"DELETE"===n.method||"PUT"===n.method?Promise.resolve({url:t,init:this.prepareRequestInit(n)}):Promise.resolve({url:t,init:n})},e.prototype.post=function(e){var t=e.fetch,n=e.url,r=e.init,a=e.response,i=a.headers.get(ZA);return 403===a.status&&a.headers.has(ZA)&&null!==i?(this.storeCRSFToken(i),t(n,this.prepareRequestInit(r))):Promise.resolve(a)},e.prototype.prepareRequestInit=function(e){var t;return GA(GA({},e),{headers:GA(GA({},e.headers),(t={},t[ZA]=this.currentToken,t))})},e}(),JA="rblx-challenge-id",XA="rblx-challenge-type",QA="rblx-challenge-metadata";!function(e){e.UNKNOWN="unknown",e.INVALIDATED="invalidated",e.ABANDONED="abandoned",e.LOADFAILED="loadfailed"}(qA||(qA={}));var $A=function(e){function t(t){var n=e.call(this,"challenge error for challenge kind ".concat(t.kind))||this;return n.parameters=t,n}return WA(t,e),t.prototype.match=function(e){return this.parameters.kind===e.parameters.kind&&JSON.stringify(this.parameters.data)===JSON.stringify(e.parameters.data)},t.prototype.matchAbandoned=function(e){return this.match(e)&&e.parameters.kind===qA.ABANDONED},t}(Error),ew=function(){function e(e,t){void 0===t&&(t="iframe"),this.robloxSiteDomain=e,this.genericChallengeMiddlewareType=t,this.challengeLifecycleListener=null}return e.prototype.getTargetSubdomain=function(){return window.location.hostname.split(".").slice(0,-2).join(".")},e.prototype.constructHybridChallengeFrameURL=function(e){var t,n,r,a,i=new URLSearchParams([["challenge-type","generic"],["dark-mode","true"],["barista-mode","true"],["generic-challenge-type",null!==(t=e.headers.get(XA))&&void 0!==t?t:""],["generic-challenge-id",null!==(n=e.headers.get(JA))&&void 0!==n?n:""],["challenge-metadata-json",null!==(r=e.headers.get(QA))&&void 0!==r?r:""],["origin",null!==(a=this.getTargetSubdomain())&&void 0!==a?a:""]]);return new URL("https://www.".concat(this.robloxSiteDomain,"/challenge/cdn/hybrid?").concat(i.toString()))},e.prototype.removeChallengeLifecycleListener=function(){this.challengeLifecycleListener&&window.removeEventListener("message",this.challengeLifecycleListener,!1)},e.prototype.createChallengeLifecycleListener=function(e,t,n,r){var a=this;return function(i){var o,u,l,c,s,d;if(i.data&&i.data.genericChallengeResponse){var f=t.fetch,p=t.url,h=t.init,v=t.response;switch(i.data.genericChallengeResponse.type){case"challengeAbandoned":a.removeChallengeLifecycleListener(),e.remove(),r(new $A({kind:qA.ABANDONED,data:{challengeType:null!==(o=v.headers.get(XA))&&void 0!==o?o:""}}));break;case"challengeDisplayed":break;case"challengeCompleted":a.removeChallengeLifecycleListener(),e.remove(),(y=i.data.genericChallengeResponse.data).challengeType&&y.metadata?n(f(p,function(e,t,n){var r,a,i;return GA(GA({},e),{headers:GA(GA({},e.headers),(r={},r[JA]=null!==(a=t.headers.get(JA))&&void 0!==a?a:"",r[QA]=btoa(JSON.stringify(n)),r[XA]=null!==(i=t.headers.get(XA))&&void 0!==i?i:"",r))})}(h,v,y.metadata))):r(new $A({kind:qA.UNKNOWN,data:{challengeType:null!==(u=v.headers.get(XA))&&void 0!==u?u:""}}));break;case"challengeInvalidated":a.removeChallengeLifecycleListener(),e.remove(),(y=i.data.genericChallengeResponse.data)&&y.challengeType&&y.metadata?r(new $A({kind:qA.INVALIDATED,data:y})):r(new $A({kind:qA.INVALIDATED,data:{challengeType:null!==(l=v.headers.get(XA))&&void 0!==l?l:""}}));break;case"challengeParsed":!1===(y=i.data.genericChallengeResponse.data).parsed&&(a.removeChallengeLifecycleListener(),e.remove(),r(new $A({kind:qA.UNKNOWN,data:{challengeType:null!==(c=v.headers.get(XA))&&void 0!==c?c:""}})));break;case"challengeInitialized":!1===(y=i.data.genericChallengeResponse.data).initialized&&(a.removeChallengeLifecycleListener(),e.remove(),r(new $A({kind:qA.UNKNOWN,data:{challengeType:null!==(s=v.headers.get(XA))&&void 0!==s?s:""}})));break;case"challengePageLoaded":var y;!1===(y=i.data.genericChallengeResponse.data).pageLoaded&&(a.removeChallengeLifecycleListener(),e.remove(),r(new $A({kind:qA.LOADFAILED,data:{challengeType:null!==(d=v.headers.get(XA))&&void 0!==d?d:""}})))}}}},e.prototype.startChallengeLifecycleListener=function(e,t,n,r){window&&e&&(this.challengeLifecycleListener=this.createChallengeLifecycleListener(e,t,n,r),window.addEventListener("message",this.challengeLifecycleListener,!1))},e.prototype.post=function(e){var t=this,n=e.response;return 403===n.status&&n.headers.has(JA)&&n.headers.has(XA)&&n.headers.has(QA)&&"iframe"===this.genericChallengeMiddlewareType?new Promise((function(r,a){var i,o;t.startChallengeLifecycleListener(function(e){return document&&document.body?document.body.appendChild(e):null}((i=t.constructHybridChallengeFrameURL(n),(o=document.createElement("iframe")).id="challenge-frame",o.allowFullscreen=!0,o.setAttribute("allowtransparency","true"),o.setAttribute("allow","publickey-credentials-get;publickey-credentials-create"),o.style.cssText="position: fixed; top: 0; left: 0; width: 100%; height: 100%; visibility: hidden; color-scheme: normal; border: none; z-index: 2147483647;",o.src=i.toString(),o.onload=function(){o.style.visibility="visible"},o)),e,r,a)})):Promise.resolve(n)},e}(),tw=function(){var e=window.location.hostname.split(".").slice(0,-2).join(".");return e.includes("create")?"creator_hub":e.includes("advertise")?"ads_manager":"creator_hub"},nw=function(e,t){var n="https://apis.".concat(e,"/account-security-service/v1/metrics/record");try{fetch(n,{method:"POST",body:JSON.stringify({name:"load_time_hba_frame",value:t,labelValues:{origin_site:tw()}})})}catch(e){}},rw=function(e,t){var n="https://apis.".concat(e,"/account-security-service/v1/metrics/record");try{fetch(n,{method:"POST",body:JSON.stringify({name:"response_time_hba_frame",value:t,labelValues:{origin_site:tw()}})})}catch(e){}},aw=function(e,t,n,r,a,i,o){var u;if(void 0===o&&(o=ow),window){var l=performance.now(),c=window.setTimeout((function(){rw(n,performance.now()-l),function(e){var t="https://apis.".concat(e,"/account-security-service/v1/metrics/record");try{fetch(t,{method:"POST",body:JSON.stringify({name:"event_hba_frame",value:1,labelValues:{event_type:"FrameResponseTimedOut",origin_site:tw()}})})}catch(e){}}(n),e({url:a.url,init:a.init})}),o),s=function(e,t,n,r,a,i,o){return function t(u){var l=u.data,c=r.url,s=r.init;if(u.origin==="https://www.".concat(n)&&"dataFromHbaFrame"===l.msg&&"batHeader"===l.data.type&&(!l.data.identifier||l.data.identifier===a))if(!l.data.isError&&l.data.batHeader){window.clearTimeout(i),window.removeEventListener("message",t,!1),rw(n,performance.now()-o);var d=l.data.batHeader;e({url:c,init:GA(GA({},s),{headers:GA(GA({},s.headers),{"x-bound-auth-token":d["x-bound-auth-token"]})})})}else window.clearTimeout(i),window.removeEventListener("message",t,!1),rw(n,performance.now()-o),e({url:c,init:s})}}(e,0,n,a,i,c,l);window.addEventListener("message",s,!1),null===(u=r.contentWindow)||void 0===u||u.postMessage({msg:"signSubdomainRequest",identifier:i,serializedSubdomainRequestData:JSON.stringify({url:a.url,requestInit:a.init})},"https://www.".concat(n))}},iw=1500,ow=100,uw=function(){function e(e,t,n){void 0===t&&(t=iw),void 0===n&&(n=ow);var r=this;this.getOrCreateHbaFrame=function(){if(document){var e=document.getElementById("hba-frame");return null===e&&(e=function(e){return(null===document||void 0===document?void 0:document.body)?document.body.appendChild(e):null}(function(e){var t=document.createElement("iframe");return t.id="hba-frame",t.style.cssText="position: fixed; top: 0; left: 0; width: 0%; height: 0%;",t.src="https://www.".concat(e,"/hba/iframe"),t}(r.robloxSiteDomain))),e}return null},this.robloxSiteDomain=e,this.hbaFrameAlreadyLoaded=!1,this.hbaFrameLoadFailed=!1,this.hbaFrame=null,this.loadTimeOut=t,this.dataTimeOut=n}return e.prototype.pre=function(e){var t=this;return new Promise((function(n,r){var a=e.url,i=e.init;if(t.hbaFrame=t.getOrCreateHbaFrame(),null!==t.hbaFrame){var o=crypto.randomUUID();t.hbaFrameAlreadyLoaded?aw(n,0,t.robloxSiteDomain,t.hbaFrame,e,o,t.dataTimeOut):t.hbaFrameLoadFailed?n({url:a,init:i}):function(e,t,n){return void 0===n&&(n=iw),new Promise((function(r,a){var i,o=performance.now(),u=window.setTimeout((function(){nw(e,performance.now()-o),function(e){var t="https://apis.".concat(e,"/account-security-service/v1/metrics/record");try{fetch(t,{method:"POST",body:JSON.stringify({name:"event_hba_frame",value:1,labelValues:{event_type:"FrameLoadTimedOut",origin_site:tw()}})})}catch(e){}}(e),a(new Error("Promise timed out after ".concat(n," ms")))}),n),l=function(e,t,n,r,a){return function t(i){var o=i.data;i.origin==="https://www.".concat(n)&&"dataFromHbaFrame"===o.msg&&"loaded"===o.data.type&&(window.removeEventListener("message",t,!1),window.clearTimeout(r),nw(n,performance.now()-a),e())}}(r,0,e,u,o);window.addEventListener("message",l,!1),null===(i=t.contentWindow)||void 0===i||i.postMessage({msg:"checkLoadedRequest"},"https://www.".concat(e))}))}(t.robloxSiteDomain,t.hbaFrame,t.loadTimeOut).then((function(){t.hbaFrame?(t.hbaFrameAlreadyLoaded=!0,aw(n,0,t.robloxSiteDomain,t.hbaFrame,e,o,t.dataTimeOut)):n({url:a,init:i})})).catch((function(){t.hbaFrameLoadFailed=!0,n({url:a,init:i})}))}else n({url:a,init:i})}))},e}(),lw=function(){function e(e){this.unifiedLogger=e}return e.prototype.post=function(e){return this.unifiedLogger.logApiVitalsEvent({eventName:"apiVitals",parameters:{elapsedTime:String(e.elapsedTime),apiUrl:e.url,statusCode:String(e.response.status)}}),Promise.resolve(e.response)},e}(),cw=function(){function e(){this.observers=[]}return e.prototype.subscribe=function(e){var t=this;return this.observers.push(e),function(){return t.unsubscribe(e)}},e.prototype.unsubscribe=function(e){this.observers=this.observers.filter((function(t){return t!==e}))},e.prototype.post=function(e){var t=e.url,n=e.response;return 503===n.status&&this.observers.forEach((function(e){return e(t)})),Promise.resolve(n)},e}(),sw=function(){function e(){}return e.prototype.parseUrl=function(e){return e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/\d+/,"/number")},e.prototype.post=function(e){var t=this;return Promise.resolve().then((function(){var e=new Error("Cannot find module '@sentry/nextjs'");throw e.code="MODULE_NOT_FOUND",e})).then((function(n){var r,a=n.captureException;return!1===e.response.ok&&!1===[401,403,404].includes(e.response.status)&&a(new Error("Network error"),{tags:{apiUrl:t.parseUrl(e.url),apiStatus:null===(r=e.response)||void 0===r?void 0:r.status,cors:!1}}),e.response}))},e.prototype.onError=function(e){var t=this;return Promise.resolve().then((function(){var e=new Error("Cannot find module '@sentry/nextjs'");throw e.code="MODULE_NOT_FOUND",e})).then((function(n){var r;return(0,n.captureException)(new Error("Network error"),{tags:{apiUrl:t.parseUrl(e.url),apiStatus:null===(r=e.response)||void 0===r?void 0:r.status,cors:!0}}),e.response}))},e}(),dw=function(){function e(e){void 0===e&&(e={}),this.configuration=e}return Object.defineProperty(e.prototype,"config",{set:function(e){this.configuration=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"basePath",{get:function(){return this.configuration.basePath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fetchApi",{get:function(){return this.configuration.fetchApi||window.fetch.bind(window)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"middleware",{get:function(){return this.configuration.middleware||[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"queryParamsStringify",{get:function(){return this.configuration.queryParamsStringify||Ew},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"username",{get:function(){return this.configuration.username},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"password",{get:function(){return this.configuration.password},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"apiKey",{get:function(){var e=this.configuration.apiKey;if(e)return"function"==typeof e?e:function(){return e}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"accessToken",{get:function(){var e=this,t=this.configuration.accessToken;if(t)return"function"==typeof t?t:function(){return HA(e,void 0,void 0,(function(){return BA(this,(function(e){return[2,t]}))}))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headers",{get:function(){return this.configuration.headers},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"credentials",{get:function(){return this.configuration.credentials},enumerable:!1,configurable:!0}),e}(),fw=new dw,pw=function(){function e(e){void 0===e&&(e=fw);var t=this;this.configuration=e,this.fetchApi=function(e,n){return HA(t,void 0,void 0,(function(){var t,r,a,i,o,u,l,c,s,d,f,p;return BA(this,(function(h){switch(h.label){case 0:t={url:e,init:n},r=0,a=this.middleware,h.label=1;case 1:return r<a.length?(p=a[r]).pre?[4,p.pre(GA({fetch:this.fetchApi},t))]:[3,3]:[3,4];case 2:t=h.sent()||t,h.label=3;case 3:return r++,[3,1];case 4:i=void 0,o=performance.now(),h.label=5;case 5:return h.trys.push([5,7,,12]),[4,(this.configuration.fetchApi||fetch)(t.url,t.init)];case 6:return i=h.sent(),u=performance.now(),[3,12];case 7:l=h.sent(),u=performance.now(),c=0,s=this.middleware,h.label=8;case 8:return c<s.length?(p=s[c]).onError?[4,p.onError({fetch:this.fetchApi,url:t.url,init:t.init,error:l,response:i?i.clone():void 0})]:[3,10]:[3,11];case 9:i=h.sent()||i,h.label=10;case 10:return c++,[3,8];case 11:if(void 0===i)throw l instanceof Error?new yw(l,"The request failed and the interceptors did not return an alternative response"):l;return[3,12];case 12:d=0,f=this.middleware,h.label=13;case 13:return d<f.length?(p=f[d]).post?[4,p.post({fetch:this.fetchApi,url:t.url,init:t.init,response:i.clone(),elapsedTime:u-o})]:[3,15]:[3,16];case 14:i=h.sent()||i,h.label=15;case 15:return d++,[3,13];case 16:return[2,i]}}))}))},this.middleware=e.middleware}return e.prototype.withMiddleware=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.clone();return r.middleware=(e=r.middleware).concat.apply(e,t),r},e.prototype.withPreMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.map((function(e){return{pre:e}}));return this.withMiddleware.apply(this,n)},e.prototype.withPostMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.map((function(e){return{post:e}}));return this.withMiddleware.apply(this,n)},e.prototype.isJsonMime=function(t){return!!t&&e.jsonRegex.test(t)},e.prototype.request=function(e,t){return HA(this,void 0,void 0,(function(){var n,r,a,i;return BA(this,(function(o){switch(o.label){case 0:return[4,this.createFetchParams(e,t)];case 1:return n=o.sent(),r=n.url,a=n.init,[4,this.fetchApi(r,a)];case 2:if((i=o.sent())&&i.status>=200&&i.status<300)return[2,i];throw new vw(i,"Response from ".concat(i.url," returned an error code ").concat(i.status))}}))}))},e.prototype.createFetchParams=function(e,t){return HA(this,void 0,void 0,(function(){var n,r,a,i,o,u,l,c=this;return BA(this,(function(s){switch(s.label){case 0:return n=this.configuration.basePath+e.path,void 0!==e.query&&0!==Object.keys(e.query).length&&(n+="?"+this.configuration.queryParamsStringify(e.query)),r=Object.assign({},this.configuration.headers,e.headers),Object.keys(r).forEach((function(e){return void 0===r[e]?delete r[e]:{}})),a="function"==typeof t?t:function(){return HA(c,void 0,void 0,(function(){return BA(this,(function(e){return[2,t]}))}))},i={method:e.method,headers:r,body:e.body,credentials:this.configuration.credentials},u=[GA({},i)],[4,a({init:i,context:e})];case 1:return o=GA.apply(void 0,u.concat([s.sent()])),l=GA(GA({},o),{body:(d=o.body,"undefined"!=typeof FormData&&d instanceof FormData||o.body instanceof URLSearchParams||hw(o.body)?o.body:JSON.stringify(o.body))}),[2,{url:n,init:l}]}var d}))}))},e.prototype.clone=function(){var e=new(0,this.constructor)(this.configuration);return e.middleware=this.middleware.slice(),e},e.jsonRegex=new RegExp("^(:?application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(:?;.*)?$","i"),e}();function hw(e){return"undefined"!=typeof Blob&&e instanceof Blob}var vw=function(e){function t(t,n){var r=e.call(this,n)||this;return r.response=t,r.name="ResponseError",r}return WA(t,e),t}(Error),yw=function(e){function t(t,n){var r=e.call(this,n)||this;return r.cause=t,r.name="FetchError",r}return WA(t,e),t}(Error),mw=function(e){function t(t,n){var r=e.call(this,n)||this;return r.field=t,r.name="RequiredError",r}return WA(t,e),t}(Error);function gw(e,t){return null!=e[t]}function Ew(e,t){return void 0===t&&(t=""),Object.keys(e).map((function(n){return bw(n,e[n],t)})).filter((function(e){return e.length>0})).join("&")}function bw(e,t,n){void 0===n&&(n="");var r=n+(n.length?"[".concat(e,"]"):e);if(t instanceof Array){var a=t.map((function(e){return encodeURIComponent(String(e))})).join("&".concat(encodeURIComponent(r),"="));return"".concat(encodeURIComponent(r),"=").concat(a)}return t instanceof Set?bw(e,Array.from(t),n):t instanceof Date?"".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(t.toISOString())):t instanceof Object?Ew(t,r):"".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(String(t)))}var Sw=function(){function e(e,t){void 0===t&&(t=function(e){return e}),this.raw=e,this.transformer=t}return e.prototype.value=function(){return HA(this,void 0,void 0,(function(){var e;return BA(this,(function(t){switch(t.label){case 0:return e=this.transformer,[4,this.raw.json()];case 1:return[2,e.apply(this,[t.sent()])]}}))}))},e}(),Cw=(function(){function e(e){this.raw=e}e.prototype.value=function(){return HA(this,void 0,void 0,(function(){return BA(this,(function(e){return[2,void 0]}))}))}}(),function(){function e(e){this.raw=e}e.prototype.value=function(){return HA(this,void 0,void 0,(function(){return BA(this,(function(e){switch(e.label){case 0:return[4,this.raw.blob()];case 1:return[2,e.sent()]}}))}))}}(),function(){function e(e){this.raw=e}return e.prototype.value=function(){return HA(this,void 0,void 0,(function(){return BA(this,(function(e){switch(e.label){case 0:return[4,this.raw.text()];case 1:return[2,e.sent()]}}))}))},e}()),_w=new YA,Iw=new cw,Tw=[function(e){return!0===e.enableSentry?new sw:void 0},function(e){return e.robloxSiteDomain&&e.enableBoundAuthToken?new uw(e.robloxSiteDomain,e.boundAuthTokenLoadTimeout,e.boundAuthTokenDataTimeout):void 0},function(e){return e.robloxSiteDomain?new ew(e.robloxSiteDomain,e.genericChallengeMiddlewareType):void 0},function(e){return e.unifiedLogger?new lw(e.unifiedLogger):void 0},function(){return _w},function(){return Iw}],Aw=function(e){function t(t){void 0===t&&(t={});var n=GA({},t),r=n.middleware||[];return r.unshift.apply(r,Tw.map((function(e){return e(n)})).filter((function(e){return void 0!==e}))),n.middleware=r,e.call(this,n)||this}return WA(t,e),t}(dw);function ww(e){if(void 0!==e)return null===e?null:{challengeID:e.challengeID,challengeMetadata:e.challengeMetadata,challengeType:e.challengeType}}function Nw(e){return function(e){return null==e?e:{challengeId:gw(e,"challengeId")?e.challengeId:void 0,challengeMetadata:gw(e,"challengeMetadata")?e.challengeMetadata:void 0,challengeType:gw(e,"challengeType")?e.challengeType:void 0}}(e)}function Ow(e){return function(e){return null==e?e:{token:gw(e,"token")?e.token:void 0}}(e)}var Lw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WA(t,e),t.prototype._continueRaw=function(e,t){return HA(this,void 0,void 0,(function(){var n,r,a;return BA(this,(function(i){switch(i.label){case 0:if(null===e.continueRequest||void 0===e.continueRequest)throw new mw("continueRequest","Required parameter requestParameters.continueRequest was null or undefined when calling _continue.");return n={},(r={})["Content-Type"]="application/json",[4,this.request({path:"/v1/continue",method:"POST",headers:r,query:n,body:ww(e.continueRequest)},t)];case 1:return a=i.sent(),[2,new Sw(a,(function(e){return Nw(e)}))]}}))}))},t.prototype._continue=function(e,t){return HA(this,void 0,void 0,(function(){return BA(this,(function(n){switch(n.label){case 0:return[4,this._continueRaw(e,t)];case 1:return[4,n.sent().value()];case 2:return[2,n.sent()]}}))}))},t.prototype.getXboxTokenRaw=function(e){return HA(this,void 0,void 0,(function(){var t,n,r;return BA(this,(function(a){switch(a.label){case 0:return t={},n={},[4,this.request({path:"/v1/xboxToken",method:"GET",headers:n,query:t},e)];case 1:return r=a.sent(),[2,new Sw(r,(function(e){return Ow(e)}))]}}))}))},t.prototype.getXboxToken=function(e){return HA(this,void 0,void 0,(function(){return BA(this,(function(t){switch(t.label){case 0:return[4,this.getXboxTokenRaw(e)];case 1:return[4,t.sent().value()];case 2:return[2,t.sent()]}}))}))},t.prototype.handleHealthCheckRaw=function(e){return HA(this,void 0,void 0,(function(){var t,n,r;return BA(this,(function(a){switch(a.label){case 0:return t={},n={},[4,this.request({path:"/health",method:"GET",headers:n,query:t},e)];case 1:return r=a.sent(),[2,new Sw(r)]}}))}))},t.prototype.handleHealthCheck=function(e){return HA(this,void 0,void 0,(function(){return BA(this,(function(t){switch(t.label){case 0:return[4,this.handleHealthCheckRaw(e)];case 1:return[4,t.sent().value()];case 2:return[2,t.sent()]}}))}))},t}(pw);function Dw(e){if(void 0!==e)return null===e?null:{challengeId:e.challengeId,userId:e.userId,timestamp:e.timestamp,scriptLocation:e.scriptLocation}}function Rw(e){if(void 0!==e)return null===e?null:{userId:e.userId,challengeId:e.challengeId}}function kw(e){if(void 0!==e)return null===e?null:{key:e.key,iv:e.iv}}function Pw(e){if(void 0!==e)return null===e?null:{userId:e.userId,challengeId:e.challengeId,payload:e.payload,payloadV2:e.payloadV2,params:kw(e.params)}}function xw(e){if(void 0!==e)return null===e?null:{userId:e.userId,timestamp:e.timestamp,fileBase64:e.fileBase64}}function Mw(e){return function(e){return null==e?e:{content:gw(e,"content")?e.content:void 0,expectedNumCalls:gw(e,"expectedNumCalls")?e.expectedNumCalls:void 0,expectedSymbols:gw(e,"expectedSymbols")?e.expectedSymbols:void 0,identifiersToFetch:gw(e,"identifiersToFetch")?e.identifiersToFetch:void 0}}(e)}function Uw(e){return function(e){return null==e?e:{scriptLocation:gw(e,"scriptLocation")?e.scriptLocation:void 0}}(e)}var Vw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WA(t,e),t.prototype.challengeFetchRaw=function(e,t){return HA(this,void 0,void 0,(function(){var n,r,a;return BA(this,(function(i){switch(i.label){case 0:return n={},void 0!==e.challengeId&&(n.challengeId=e.challengeId),void 0!==e.identifier&&(n.identifier=e.identifier),r={},void 0!==e.robloxApiKey&&null!==e.robloxApiKey&&(r["Roblox-Api-Key"]=String(e.robloxApiKey)),[4,this.request({path:"/v1/fetch",method:"GET",headers:r,query:n},t)];case 1:return a=i.sent(),this.isJsonMime(a.headers.get("content-type"))?[2,new Sw(a)]:[2,new Cw(a)]}}))}))},t.prototype.challengeFetch=function(){return HA(this,arguments,void 0,(function(e,t){return void 0===e&&(e={}),BA(this,(function(n){switch(n.label){case 0:return[4,this.challengeFetchRaw(e,t)];case 1:return[4,n.sent().value()];case 2:return[2,n.sent()]}}))}))},t.prototype.challengeInitSessionRaw=function(e,t){return HA(this,void 0,void 0,(function(){var n,r,a;return BA(this,(function(i){switch(i.label){case 0:return n={},(r={})["Content-Type"]="application/json-patch+json",void 0!==e.robloxApiKey&&null!==e.robloxApiKey&&(r["Roblox-Api-Key"]=String(e.robloxApiKey)),[4,this.request({path:"/v1/initSession",method:"POST",headers:r,query:n,body:Dw(e.challengeInitSessionRequest)},t)];case 1:return a=i.sent(),[2,new Sw(a,(function(e){return Mw(e)}))]}}))}))},t.prototype.challengeInitSession=function(){return HA(this,arguments,void 0,(function(e,t){return void 0===e&&(e={}),BA(this,(function(n){switch(n.label){case 0:return[4,this.challengeInitSessionRaw(e,t)];case 1:return[4,n.sent().value()];case 2:return[2,n.sent()]}}))}))},t.prototype.challengeRedeemSessionRaw=function(e,t){return HA(this,void 0,void 0,(function(){var n,r,a;return BA(this,(function(i){switch(i.label){case 0:return n={},(r={})["Content-Type"]="application/json-patch+json",void 0!==e.robloxApiKey&&null!==e.robloxApiKey&&(r["Roblox-Api-Key"]=String(e.robloxApiKey)),[4,this.request({path:"/v1/redeemSession",method:"POST",headers:r,query:n,body:Rw(e.challengeRedeemSessionRequest)},t)];case 1:return a=i.sent(),[2,new Sw(a)]}}))}))},t.prototype.challengeRedeemSession=function(){return HA(this,arguments,void 0,(function(e,t){return void 0===e&&(e={}),BA(this,(function(n){switch(n.label){case 0:return[4,this.challengeRedeemSessionRaw(e,t)];case 1:return[4,n.sent().value()];case 2:return[2,n.sent()]}}))}))},t.prototype.challengeSubmitRaw=function(e,t){return HA(this,void 0,void 0,(function(){var n,r,a;return BA(this,(function(i){switch(i.label){case 0:return n={},(r={})["Content-Type"]="application/json-patch+json",void 0!==e.referer&&null!==e.referer&&(r.Referer=String(e.referer)),[4,this.request({path:"/v1/submit",method:"POST",headers:r,query:n,body:Pw(e.challengeSubmitRequest)},t)];case 1:return a=i.sent(),[2,new Sw(a)]}}))}))},t.prototype.challengeSubmit=function(){return HA(this,arguments,void 0,(function(e,t){return void 0===e&&(e={}),BA(this,(function(n){switch(n.label){case 0:return[4,this.challengeSubmitRaw(e,t)];case 1:return[4,n.sent().value()];case 2:return[2,n.sent()]}}))}))},t.prototype.challengeUploadRaw=function(e,t){return HA(this,void 0,void 0,(function(){var n,r,a;return BA(this,(function(i){switch(i.label){case 0:return n={},(r={})["Content-Type"]="application/json-patch+json",void 0!==e.robloxApiKey&&null!==e.robloxApiKey&&(r["Roblox-Api-Key"]=String(e.robloxApiKey)),[4,this.request({path:"/v1/upload",method:"POST",headers:r,query:n,body:xw(e.challengeUploadRequest)},t)];case 1:return a=i.sent(),[2,new Sw(a,(function(e){return Uw(e)}))]}}))}))},t.prototype.challengeUpload=function(){return HA(this,arguments,void 0,(function(e,t){return void 0===e&&(e={}),BA(this,(function(n){switch(n.label){case 0:return[4,this.challengeUploadRaw(e,t)];case 1:return[4,n.sent().value()];case 2:return[2,n.sent()]}}))}))},t}(pw);function Fw(e){if(void 0!==e)return null===e?null:{answer:e.answer,sessionId:e.sessionId,userId:e.userId}}function jw(e){return function(e){return null==e?e:{answerCorrect:gw(e,"answerCorrect")?e.answerCorrect:void 0,redemptionToken:gw(e,"redemptionToken")?e.redemptionToken:void 0,shouldRequestNewQuestion:gw(e,"shouldRequestNewQuestion")?e.shouldRequestNewQuestion:void 0,userWasForceReset:gw(e,"userWasForceReset")?e.userWasForceReset:void 0}}(e)}function Ww(e){if(void 0!==e)return null===e?null:{actionType:e.actionType,isTestRequest:e.isTestRequest,secretParameter:e.secretParameter,standardDeviations:e.standardDeviations}}function Gw(e){return function(e){return null==e?e:{accountRestoresPolicyEffectiveTimestamp:gw(e,"accountRestoresPolicyEffectiveTimestamp")?e.accountRestoresPolicyEffectiveTimestamp:void 0,bodyResource:gw(e,"bodyResource")?e.bodyResource:void 0,controllableGroupRobuxBalance:gw(e,"controllableGroupRobuxBalance")?e.controllableGroupRobuxBalance:void 0,dismissalCount:gw(e,"dismissalCount")?e.dismissalCount:void 0,displayType:gw(e,"displayType")?e.displayType:void 0,forceResetTimestamp:gw(e,"forceResetTimestamp")?e.forceResetTimestamp:void 0,headerResource:gw(e,"headerResource")?e.headerResource:void 0,pageRestriction:gw(e,"pageRestriction")?e.pageRestriction:void 0,robuxBalance:gw(e,"robuxBalance")?e.robuxBalance:void 0,showAlertIcon:gw(e,"showAlertIcon")?e.showAlertIcon:void 0,showBanner:gw(e,"showBanner")?e.showBanner:void 0,showXButtonForDisable:gw(e,"showXButtonForDisable")?e.showXButtonForDisable:void 0,tradableItemValue:gw(e,"tradableItemValue")?e.tradableItemValue:void 0}}(e)}function Hw(e){if(void 0!==e)return null===e?null:{accountRestoresPolicyEffectiveTimestamp:e.accountRestoresPolicyEffectiveTimestamp,bodyResource:e.bodyResource,controllableGroupRobuxBalance:e.controllableGroupRobuxBalance,dismissalCount:e.dismissalCount,displayType:e.displayType,forceResetTimestamp:e.forceResetTimestamp,headerResource:e.headerResource,pageRestriction:e.pageRestriction,robuxBalance:e.robuxBalance,showAlertIcon:e.showAlertIcon,showBanner:e.showBanner,showXButtonForDisable:e.showXButtonForDisable,tradableItemValue:e.tradableItemValue}}function Bw(e){return function(e){return null==e?e:{isGeneric:gw(e,"isGeneric")?e.isGeneric:void 0,metadata:gw(e,"metadata")?Gw(e.metadata):void 0,promptType:gw(e,"promptType")?e.promptType:void 0}}(e)}function zw(e){return function(e){return null==e?e:{answerChoices:gw(e,"answerChoices")?e.answerChoices:void 0,answerPrompt:gw(e,"answerPrompt")?e.answerPrompt:void 0,correctAnswerChoiceCount:gw(e,"correctAnswerChoiceCount")?e.correctAnswerChoiceCount:void 0,questionType:gw(e,"questionType")?e.questionType:void 0}}(e)}function qw(e){if(void 0!==e)return null===e?null:{identifier:e.identifier,labelValues:e.labelValues,name:e.name,value:e.value}}function Zw(e){if(void 0!==e)return null===e?null:{action:e.action,metadata:Hw(e.metadata),promptType:e.promptType}}function Kw(e){return function(e){return null==e?e:{authenticated:gw(e,"authenticated")?e.authenticated:void 0}}(e)}var Yw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WA(t,e),t.prototype.answerSecurityQuestionRaw=function(e,t){return HA(this,void 0,void 0,(function(){var n,r,a;return BA(this,(function(i){switch(i.label){case 0:if(null===e.answerSecurityQuestionRequest||void 0===e.answerSecurityQuestionRequest)throw new mw("answerSecurityQuestionRequest","Required parameter requestParameters.answerSecurityQuestionRequest was null or undefined when calling answerSecurityQuestion.");return n={},(r={})["Content-Type"]="application/json",[4,this.request({path:"/v1/security-question",method:"POST",headers:r,query:n,body:Fw(e.answerSecurityQuestionRequest)},t)];case 1:return a=i.sent(),[2,new Sw(a,(function(e){return jw(e)}))]}}))}))},t.prototype.answerSecurityQuestion=function(e,t){return HA(this,void 0,void 0,(function(){return BA(this,(function(n){switch(n.label){case 0:return[4,this.answerSecurityQuestionRaw(e,t)];case 1:return[4,n.sent().value()];case 2:return[2,n.sent()]}}))}))},t.prototype.createBotActivityTicketRaw=function(e,t){return HA(this,void 0,void 0,(function(){var n,r,a;return BA(this,(function(i){switch(i.label){case 0:if(null===e.createBotActivityTicketRequest||void 0===e.createBotActivityTicketRequest)throw new mw("createBotActivityTicketRequest","Required parameter requestParameters.createBotActivityTicketRequest was null or undefined when calling createBotActivityTicket.");return n={},(r={})["Content-Type"]="application/json",[4,this.request({path:"/v1/arkose/bot-activity-ticket",method:"POST",headers:r,query:n,body:Ww(e.createBotActivityTicketRequest)},t)];case 1:return a=i.sent(),[2,new Sw(a)]}}))}))},t.prototype.createBotActivityTicket=function(e,t){return HA(this,void 0,void 0,(function(){return BA(this,(function(n){switch(n.label){case 0:return[4,this.createBotActivityTicketRaw(e,t)];case 1:return[4,n.sent().value()];case 2:return[2,n.sent()]}}))}))},t.prototype.getPromptAssignmentsRaw=function(e,t){return HA(this,void 0,void 0,(function(){var n,r,a;return BA(this,(function(i){switch(i.label){case 0:if(null===e.robloxctxAuthenticatedUserid||void 0===e.robloxctxAuthenticatedUserid)throw new mw("robloxctxAuthenticatedUserid","Required parameter requestParameters.robloxctxAuthenticatedUserid was null or undefined when calling getPromptAssignments.");return n={},void 0!==e.shouldReturnMetadata&&(n.shouldReturnMetadata=e.shouldReturnMetadata),r={},void 0!==e.robloxctxAuthenticatedUserid&&null!==e.robloxctxAuthenticatedUserid&&(r["robloxctx-authenticated-userid"]=String(e.robloxctxAuthenticatedUserid)),[4,this.request({path:"/v1/prompt-assignments",method:"GET",headers:r,query:n},t)];case 1:return a=i.sent(),[2,new Sw(a,(function(e){return e.map(Bw)}))]}}))}))},t.prototype.getPromptAssignments=function(e,t){return HA(this,void 0,void 0,(function(){return BA(this,(function(n){switch(n.label){case 0:return[4,this.getPromptAssignmentsRaw(e,t)];case 1:return[4,n.sent().value()];case 2:return[2,n.sent()]}}))}))},t.prototype.getSecurityQuestionRaw=function(e,t){return HA(this,void 0,void 0,(function(){var n,r,a;return BA(this,(function(i){switch(i.label){case 0:if(null===e.userId||void 0===e.userId)throw new mw("userId","Required parameter requestParameters.userId was null or undefined when calling getSecurityQuestion.");if(null===e.sessionId||void 0===e.sessionId)throw new mw("sessionId","Required parameter requestParameters.sessionId was null or undefined when calling getSecurityQuestion.");return n={},void 0!==e.userId&&(n.userId=e.userId),void 0!==e.sessionId&&(n.sessionId=e.sessionId),r={},[4,this.request({path:"/v1/security-question",method:"GET",headers:r,query:n},t)];case 1:return a=i.sent(),[2,new Sw(a,(function(e){return zw(e)}))]}}))}))},t.prototype.getSecurityQuestion=function(e,t){return HA(this,void 0,void 0,(function(){return BA(this,(function(n){switch(n.label){case 0:return[4,this.getSecurityQuestionRaw(e,t)];case 1:return[4,n.sent().value()];case 2:return[2,n.sent()]}}))}))},t.prototype.handleHealthCheckRaw=function(e){return HA(this,void 0,void 0,(function(){var t,n,r;return BA(this,(function(a){switch(a.label){case 0:return t={},n={},[4,this.request({path:"/health",method:"GET",headers:n,query:t},e)];case 1:return r=a.sent(),[2,new Sw(r)]}}))}))},t.prototype.handleHealthCheck=function(e){return HA(this,void 0,void 0,(function(){return BA(this,(function(t){switch(t.label){case 0:return[4,this.handleHealthCheckRaw(e)];case 1:return[4,t.sent().value()];case 2:return[2,t.sent()]}}))}))},t.prototype.recordMetricRaw=function(e,t){return HA(this,void 0,void 0,(function(){var n,r,a;return BA(this,(function(i){switch(i.label){case 0:if(null===e.recordMetricRequest||void 0===e.recordMetricRequest)throw new mw("recordMetricRequest","Required parameter requestParameters.recordMetricRequest was null or undefined when calling recordMetric.");return n={},(r={})["Content-Type"]="application/json",[4,this.request({path:"/v1/metrics/record",method:"POST",headers:r,query:n,body:qw(e.recordMetricRequest)},t)];case 1:return a=i.sent(),[2,new Sw(a)]}}))}))},t.prototype.recordMetric=function(e,t){return HA(this,void 0,void 0,(function(){return BA(this,(function(n){switch(n.label){case 0:return[4,this.recordMetricRaw(e,t)];case 1:return[4,n.sent().value()];case 2:return[2,n.sent()]}}))}))},t.prototype.updatePromptAssignmentsRaw=function(e,t){return HA(this,void 0,void 0,(function(){var n,r,a;return BA(this,(function(i){switch(i.label){case 0:if(null===e.robloxctxAuthenticatedUserid||void 0===e.robloxctxAuthenticatedUserid)throw new mw("robloxctxAuthenticatedUserid","Required parameter requestParameters.robloxctxAuthenticatedUserid was null or undefined when calling updatePromptAssignments.");if(null===e.updatePromptAssignmentRequest||void 0===e.updatePromptAssignmentRequest)throw new mw("updatePromptAssignmentRequest","Required parameter requestParameters.updatePromptAssignmentRequest was null or undefined when calling updatePromptAssignments.");return n={},(r={})["Content-Type"]="application/json",void 0!==e.robloxctxAuthenticatedUserid&&null!==e.robloxctxAuthenticatedUserid&&(r["robloxctx-authenticated-userid"]=String(e.robloxctxAuthenticatedUserid)),[4,this.request({path:"/v1/prompt-assignments",method:"POST",headers:r,query:n,body:Zw(e.updatePromptAssignmentRequest)},t)];case 1:return a=i.sent(),[2,new Sw(a)]}}))}))},t.prototype.updatePromptAssignments=function(e,t){return HA(this,void 0,void 0,(function(){return BA(this,(function(n){switch(n.label){case 0:return[4,this.updatePromptAssignmentsRaw(e,t)];case 1:return[4,n.sent().value()];case 2:return[2,n.sent()]}}))}))},t.prototype.verifyRaw=function(e){return HA(this,void 0,void 0,(function(){var t,n,r;return BA(this,(function(a){switch(a.label){case 0:return t={},n={},[4,this.request({path:"/v1/spycloud/verify",method:"GET",headers:n,query:t},e)];case 1:return r=a.sent(),[2,new Sw(r,(function(e){return Kw(e)}))]}}))}))},t.prototype.verify=function(e){return HA(this,void 0,void 0,(function(){return BA(this,(function(t){switch(t.label){case 0:return[4,this.verifyRaw(e)];case 1:return[4,t.sent().value()];case 2:return[2,t.sent()]}}))}))},t}(pw);function Jw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}(e,t)||yN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xw(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,a)}function Qw(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Xw(i,r,a,o,u,"next",e)}function u(e){Xw(i,r,a,o,u,"throw",e)}o(void 0)}))}}function $w(e){return function(e){if(Array.isArray(e))return mN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||yN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nN(e,t,n){return t&&tN(e.prototype,t),n&&tN(e,n),e}function rN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cN(e,t)}function aN(e){var t=lN();return function(){var n,r=sN(e);if(t){var a=sN(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===dN(t)||"function"==typeof t))return t;return iN(e)}(this,n)}}function iN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oN(e){var t="function"==typeof Map?new Map:void 0;return oN=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return uN(e,arguments,sN(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),cN(n,e)},oN(e)}function uN(e,t,n){return uN=lN()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&cN(a,n.prototype),a},uN.apply(null,arguments)}function lN(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function cN(e,t){return cN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cN(e,t)}function sN(e){return sN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sN(e)}function dN(e){return dN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dN(e)}function fN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fN(Object(n),!0).forEach((function(t){hN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vN(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=yN(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function yN(e,t){if(e){if("string"==typeof e)return mN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mN(e,t):void 0}}function mN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gN,EN,bN,SN=function(){return SN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},SN.apply(this,arguments)};function CN(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))}function _N(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=u(0),o.throw=u(1),o.return=u(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){i.label=u[1];break}if(6===u[0]&&i.label<a[1]){i.label=a[1],a=u;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(u);break}a[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}}"function"==typeof SuppressedError&&SuppressedError,function(e){e.Login="Login",e.AppLogin="AppLogin",e.Signup="Signup",e.AppSignup="AppSignup",e.JoinGroup="JoinGroup",e.GroupWallPost="GroupWallPost",e.ResetPassword="ResetPassword",e.ToyCodeRedeem="ToyCodeRedeem",e.GameCardRedeem="GameCardRedeem",e.FollowUser="FollowUser",e.Generic="Generic",e.SupportRequest="SupportRequest",e.AssetComment="AssetComment",e.Marketplace="Marketplace"}(gN||(gN={})),function(e){e[e.UNKNOWN=0]="UNKNOWN"}(EN||(EN={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.FAILED_PREP=1]="FAILED_PREP",e[e.FAILED_MIREPOIX=2]="FAILED_MIREPOIX",e[e.FAILED_SIMMER=3]="FAILED_SIMMER"}(bN||(bN={}));var IN,TN,AN,wN,NN,ON,LN,DN,RN,kN,PN,xN,MN,UN,VN,FN,jN=Object.freeze({__proto__:null,get ErrorCode(){return bN}});!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(IN||(IN={})),function(e){e[e.UNKNOWN=0]="UNKNOWN"}(TN||(TN={})),function(e){e.ForceAuthenticator="ForceAuthenticator",e.ForceTwoStepVerification="ForceTwoStepVerification",e.BlockSession="BlockSession"}(AN||(AN={})),function(e){e[e.UNKNOWN=0]="UNKNOWN"}(wN||(wN={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SESSION_INVALID=1]="SESSION_INVALID",e[e.ANSWER_INVALID=2]="ANSWER_INVALID",e[e.WORKER_LOAD_ERROR=3]="WORKER_LOAD_ERROR",e[e.TIMEOUT=4]="TIMEOUT"}(NN||(NN={})),function(e){e.INVALID="PROOF_OF_SPACE_PUZZLE_TYPE_INVALID",e.NONINTERACTIVE="PROOF_OF_SPACE_PUZZLE_TYPE_NONINTERACTIVE",e.INTERACTIVE="PROOF_OF_SPACE_PUZZLE_TYPE_INTERACTIVE"}(ON||(ON={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SESSION_INVALID=1]="SESSION_INVALID",e[e.ANSWER_INVALID=2]="ANSWER_INVALID",e[e.WORKER_LOAD_ERROR=3]="WORKER_LOAD_ERROR"}(LN||(LN={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.OTP_CODE_EXPIRED=1]="OTP_CODE_EXPIRED"}(DN||(DN={})),function(e){e.Password="Password",e.OtpEmail="Otp_Email",e.Passkey="Passkey"}(RN||(RN={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.INVALID_SESSION=1]="INVALID_SESSION"}(kN||(kN={})),function(e){e.INVALID="ROSTILE_PUZZLE_TYPE_INVALID",e.VISIBLE="ROSTILE_PUZZLE_TYPE_VISIBLE",e.INVISIBLE="ROSTILE_PUZZLE_TYPE_INVISIBLE"}(PN||(PN={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SESSION_EXPIRED=1]="SESSION_EXPIRED",e[e.USER_WAS_FORCE_RESET=2]="USER_WAS_FORCE_RESET"}(xN||(xN={})),function(e){e.Unknown="Unknown",e.Login="Login",e.RobuxSpend="RobuxSpend",e.ItemTrade="ItemTrade",e.Resale="Resale",e.PasswordReset="PasswordReset",e.RevertAccount="RevertAccount",e.Generic="Generic",e.GenericWithRecoveryCodes="GenericWithRecoveryCodes"}(MN||(MN={})),function(e){e.Email="Email",e.Authenticator="Authenticator",e.RecoveryCode="RecoveryCode",e.SMS="SMS",e.SecurityKey="SecurityKey",e.CrossDevice="CrossDevice",e.Password="Password",e.Passkey="Passkey"}(UN||(UN={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SESSION_EXPIRED=1]="SESSION_EXPIRED"}(VN||(VN={})),function(e){e[e.UNKNOWN=0]="UNKNOWN"}(FN||(FN={}));var WN,GN,HN=function(e,t){return HN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},HN(e,t)};"function"==typeof SuppressedError&&SuppressedError,function(e){e.UNKNOWN="unknown",e.INVALIDATED="invalidated",e.ABANDONED="abandoned",e.LOADFAILED="loadfailed"}(WN||(WN={})),function(e){e[e.UNKNOWN=0]="UNKNOWN"}(GN||(GN={}));var BN;!function(e){function t(t){var n=e.call(this,"challenge error for challenge kind ".concat(t.kind))||this;return n.parameters=t,n}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}HN(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.match=function(e){return this.parameters.kind===e.parameters.kind&&JSON.stringify(this.parameters.data)===JSON.stringify(e.parameters.data)},t.prototype.matchAbandoned=function(e){return this.match(e)&&e.parameters.kind===WN.ABANDONED}}(Error);!function(e){e.UNKNOWN="unknown",e.CHEF="chef"}(BN||(BN={}));function zN(e,t,n,r,a,i,o,u,l){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return a(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return i(a(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return o(i(a(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return u(o(i(a(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return l(u(o(i(a(r(n(t(e.apply(this,arguments)))))))))}}}function qN(e,t,n,r,a,i,o,u,l){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return a(r(n(t(e))));case 6:return i(a(r(n(t(e)))));case 7:return o(i(a(r(n(t(e))))));case 8:return u(o(i(a(r(n(t(e)))))));case 9:return l(u(o(i(a(r(n(t(e))))))));default:for(var c=arguments[0],s=1;s<arguments.length;s++)c=arguments[s](c);return c}}var ZN=function(e,t){return t},KN=function(e,t){var n="number"==typeof e?function(t){return t.length>=e}:e;return function(){var e=Array.from(arguments);return n(arguments)?t.apply(this,e):function(n){return t.apply(void 0,function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}([n],e,!1))}}},YN=function(e){return{_tag:"Left",left:e}},JN=function(e){return{_tag:"Right",right:e}},XN={_tag:"None"},QN=function(e){return{_tag:"Some",value:e}},$N=function(e){return function(t){return tO(t)?XN:QN(e(t.value))}},eO=KN(2,(function(e,t){return tO(e)?XN:t(e.value)})),tO=function(e){return"None"===e._tag},nO=function(e){return function(t){return tO(t)?e():t.value}},rO=function(e){return null==e?XN:QN(e)},aO=YN,iO=JN,oO={URI:"Either",map:function(e,t){return qN(e,function(e){return function(t){return uO(t)?t:iO(e(t.right))}}(t))}},uO=function(e){return"Left"===e._tag},lO=function(e,t){try{return iO(e())}catch(e){return aO(t(e))}};var cO,sO=function(e,t){return qN(e,dO(t))},dO=function(e){return function(t){return function(){return Promise.resolve().then(t).then(e)}}},fO=function(e){return function(){return Promise.resolve(e)}},pO=KN(2,(function(e,t){return function(){return Promise.resolve().then(e).then((function(e){return t(e)()}))}})),hO="Task",vO={URI:hO,map:sO},yO={URI:hO,map:sO,of:fO,ap:function(e,t){return qN(e,function(e){return function(t){return function(){return Promise.all([Promise.resolve().then(t),Promise.resolve().then(e)]).then((function(e){return(0,e[0])(e[1])}))}}}(t))},chain:pO},mO=function(e){return zN(iO,e.of)}({URI:hO,of:fO}),gO=function(e){return function(t){return function(n){return e.chain(n,function(e,t){return function(n){return uO(n)?e(n.left):t(n.right)}}(t,e.of))}}}(yO),EO=function(e,t){return function(){return function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var n;return function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e().then(JN)];case 1:return[2,r.sent()];case 2:return n=r.sent(),[2,YN(t(n))];case 3:return[2]}}))}))}},bO=function(e){return function(e,t){return function(n){return function(r){return e.map(r,(function(e){return t.map(e,n)}))}}}(e,oO)}(vO),SO=KN(3,(cO=vO,function(e,t,n){return cO.map(e,function(e,t){return function(n){return uO(n)?aO(e(n.left)):iO(t(n.right))}}(t,n))})),CO=mO([]),_O=function(e){return function(e){var t=function(e){return zN(function(e){return function(t){return function(){return Promise.all(t.map((function(t,n){return Promise.resolve().then((function(){return e(n,t)()}))})))}}}(e),dO(function(e){return function(t){var n=e(0,function(e){return e[0]}(t));if(uO(n))return n;for(var r=[n.right],a=1;a<t.length;a++){var i=e(a,t[a]);if(uO(i))return i;r.push(i.right)}return iO(r)}}(ZN)))}(e);return function(e){return function(e){return e.length>0}(e)?t(e):CO}}((function(t,n){return e(n)}))},IO="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},TO={};!function(e){var t=IO&&IO.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};function n(e){return e}function r(e){return function(){return e}}function a(e,t,n,r,a,i,o,u,l){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return a(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return i(a(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return o(i(a(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return u(o(i(a(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return l(u(o(i(a(r(n(t(e.apply(this,arguments)))))))))}}}function i(e){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(e,"__esModule",{value:!0}),e.dual=e.getEndomorphismMonoid=e.SK=e.hole=e.constVoid=e.constUndefined=e.constNull=e.constFalse=e.constTrue=e.unsafeCoerce=e.apply=e.getRing=e.getSemiring=e.getMonoid=e.getSemigroup=e.getBooleanAlgebra=void 0,e.identity=n,e.constant=r,e.flip=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length>1?e(t[1],t[0]):function(n){return e(n)(t[0])}}},e.flow=a,e.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},e.increment=function(e){return e+1},e.decrement=function(e){return e-1},e.absurd=i,e.tupled=function(e){return function(t){return e.apply(void 0,t)}},e.untupled=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e(t)}},e.pipe=function(e,t,n,r,a,i,o,u,l){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return a(r(n(t(e))));case 6:return i(a(r(n(t(e)))));case 7:return o(i(a(r(n(t(e))))));case 8:return u(o(i(a(r(n(t(e)))))));case 9:return l(u(o(i(a(r(n(t(e))))))));default:for(var c=arguments[0],s=1;s<arguments.length;s++)c=arguments[s](c);return c}},e.not=function(e){return function(t){return!e(t)}},e.getBooleanAlgebra=function(e){return function(){return{meet:function(t,n){return function(r){return e.meet(t(r),n(r))}},join:function(t,n){return function(r){return e.join(t(r),n(r))}},zero:function(){return e.zero},one:function(){return e.one},implies:function(t,n){return function(r){return e.implies(t(r),n(r))}},not:function(t){return function(n){return e.not(t(n))}}}}},e.getSemigroup=function(e){return function(){return{concat:function(t,n){return function(r){return e.concat(t(r),n(r))}}}}},e.getMonoid=function(t){var n=(0,e.getSemigroup)(t);return function(){return{concat:n().concat,empty:function(){return t.empty}}}},e.getSemiring=function(e){return{add:function(t,n){return function(r){return e.add(t(r),n(r))}},zero:function(){return e.zero},mul:function(t,n){return function(r){return e.mul(t(r),n(r))}},one:function(){return e.one}}},e.getRing=function(t){var n=(0,e.getSemiring)(t);return{add:n.add,mul:n.mul,one:n.one,zero:n.zero,sub:function(e,n){return function(r){return t.sub(e(r),n(r))}}}},e.apply=function(e){return function(t){return t(e)}},e.unsafeCoerce=n,e.constTrue=r(!0),e.constFalse=r(!1),e.constNull=r(null),e.constUndefined=r(void 0),e.constVoid=e.constUndefined,e.hole=i,e.SK=function(e,t){return t},e.getEndomorphismMonoid=function(){return{concat:function(e,t){return a(e,t)},empty:n}},e.dual=function(e,n){var r="number"==typeof e?function(t){return t.length>=e}:e;return function(){var e=Array.from(arguments);return r(arguments)?n.apply(this,e):function(r){return n.apply(void 0,t([r],e,!1))}}}}(TO);var AO,wO,NO=["sitetest1","sitetest2","sitetest3"],OO=function(){var e=NO.filter((function(e){return window.location.hostname.includes(e)}));return e.length>0?"https://apis.".concat(e[0],".robloxlabs.com"):"https://apis.roblox.com"},LO=function(e){return Object.values(BN).includes(e)},DO=Object.freeze({__proto__:null,isSupportedByGrasshopper:LO}),RO="Generic Challenge:";!function(e){e.assertEqual=function(e){},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=function(e){var t,n={},r=vN(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a]=a}}catch(e){r.e(e)}finally{r.f()}return n},e.getValidEnumValues=function(t){var n,r={},a=vN(e.objectKeys(t).filter((function(e){return"number"!=typeof t[t[e]]})));try{for(a.s();!(n=a.n()).done;){var i=n.value;r[i]=t[i]}}catch(e){a.e(e)}finally{a.f()}return e.objectValues(r)},e.objectValues=function(t){return e.objectKeys(t).map((function(e){return t[e]}))},e.objectKeys="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=function(e,t){var n,r=vN(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(t(a))return a}}catch(e){r.e(e)}finally{r.f()}},e.isInteger="function"==typeof Number.isInteger?function(e){return Number.isInteger(e)}:function(e){return"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e},e.joinValues=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((function(e){return"string"==typeof e?"'".concat(e,"'"):e})).join(t)},e.jsonStringifyReplacer=function(e,t){return"bigint"==typeof t?t.toString():t}}(AO||(AO={})),function(e){e.mergeShapes=function(e,t){return pN(pN({},e),t)}}(wO||(wO={}));var kO=AO.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),PO=function(e){switch(dN(e)){case"undefined":return kO.undefined;case"string":return kO.string;case"number":return Number.isNaN(e)?kO.nan:kO.number;case"boolean":return kO.boolean;case"function":return kO.function;case"bigint":return kO.bigint;case"symbol":return kO.symbol;case"object":return Array.isArray(e)?kO.array:null===e?kO.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?kO.promise:"undefined"!=typeof Map&&e instanceof Map?kO.map:"undefined"!=typeof Set&&e instanceof Set?kO.set:"undefined"!=typeof Date&&e instanceof Date?kO.date:kO.object;default:return kO.unknown}},xO=AO.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),MO=function(e){rN(n,e);var t=aN(n);function n(e){var r;eN(this,n),(r=t.call(this)).issues=[],r.addIssue=function(e){r.issues=[].concat($w(r.issues),[e])},r.addIssues=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r.issues=[].concat($w(r.issues),$w(e))};var a=(this instanceof n?this.constructor:void 0).prototype;return Object.setPrototypeOf?Object.setPrototypeOf(iN(r),a):r.__proto__=a,r.name="ZodError",r.issues=e,r}return nN(n,[{key:"errors",get:function(){return this.issues}}]),nN(n,[{key:"format",value:function(e){var t=e||function(e){return e.message},n={_errors:[]};return function e(r){var a,i=vN(r.issues);try{for(i.s();!(a=i.n()).done;){var o=a.value;if("invalid_union"===o.code)o.unionErrors.map(e);else if("invalid_return_type"===o.code)e(o.returnTypeError);else if("invalid_arguments"===o.code)e(o.argumentsError);else if(0===o.path.length)n._errors.push(t(o));else for(var u=n,l=0;l<o.path.length;){var c=o.path[l];l===o.path.length-1?(u[c]=u[c]||{_errors:[]},u[c]._errors.push(t(o))):u[c]=u[c]||{_errors:[]},u=u[c],l++}}}catch(e){i.e(e)}finally{i.f()}}(this),n}},{key:"toString",value:function(){return this.message}},{key:"flatten",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.message},n={},r=[],a=vN(this.issues);try{for(a.s();!(e=a.n()).done;){var i=e.value;i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i))}}catch(e){a.e(e)}finally{a.f()}return{formErrors:r,fieldErrors:n}}},{key:"message",get:function(){return JSON.stringify(this.issues,AO.jsonStringifyReplacer,2)}},{key:"isEmpty",get:function(){return 0===this.issues.length}},{key:"formErrors",get:function(){return this.flatten()}}],[{key:"assert",value:function(e){if(!(e instanceof n))throw new Error("Not a ZodError: ".concat(e))}}]),n}(oN(Error));MO.create=function(e){return new MO(e)};var UO=function(e,t){var n;switch(e.code){case xO.invalid_type:n=e.received===kO.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case xO.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,AO.jsonStringifyReplacer));break;case xO.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(AO.joinValues(e.keys,", "));break;case xO.invalid_union:n="Invalid input";break;case xO.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(AO.joinValues(e.options));break;case xO.invalid_enum_value:n="Invalid enum value. Expected ".concat(AO.joinValues(e.options),", received '").concat(e.received,"'");break;case xO.invalid_arguments:n="Invalid function arguments";break;case xO.invalid_return_type:n="Invalid function return type";break;case xO.invalid_date:n="Invalid date";break;case xO.invalid_string:"object"==dN(e.validation)?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"==typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):AO.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case xO.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case xO.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case xO.custom:n="Invalid input";break;case xO.invalid_intersection_types:n="Intersection results could not be merged";break;case xO.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case xO.not_finite:n="Number must be finite";break;default:n=t.defaultError,AO.assertNever(e)}return{message:n}},VO=UO;function FO(e,t){var n=VO,r=function(e){var t=e.data,n=e.errorMaps,r=e.issueData,a=[].concat($w(e.path),$w(r.path||[])),i=pN(pN({},r),{},{path:a});if(void 0!==r.message)return pN(pN({},r),{},{path:a,message:r.message});var o,u="",l=n.filter((function(e){return!!e})).slice().reverse(),c=vN(l);try{for(c.s();!(o=c.n()).done;){u=(0,o.value)(i,{data:t,defaultError:u}).message}}catch(e){c.e(e)}finally{c.f()}return pN(pN({},r),{},{path:a,message:u})}({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===UO?void 0:UO].filter((function(e){return!!e}))});e.common.issues.push(r)}var jO,WO=function(){function e(){eN(this,e),this.value="valid"}var t;return nN(e,[{key:"dirty",value:function(){"valid"===this.value&&(this.value="dirty")}},{key:"abort",value:function(){"aborted"!==this.value&&(this.value="aborted")}}],[{key:"mergeArray",value:function(e,t){var n,r=[],a=vN(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if("aborted"===i.status)return GO;"dirty"===i.status&&e.dirty(),r.push(i.value)}}catch(e){a.e(e)}finally{a.f()}return{status:e.value,value:r}}},{key:"mergeObjectAsync",value:(t=Qw(regeneratorRuntime.mark((function t(n,r){var a,i,o,u,l,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],i=vN(r),t.prev=2,i.s();case 4:if((o=i.n()).done){t.next=15;break}return u=o.value,t.next=8,u.key;case 8:return l=t.sent,t.next=11,u.value;case 11:c=t.sent,a.push({key:l,value:c});case 13:t.next=4;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),i.e(t.t0);case 20:return t.prev=20,i.f(),t.finish(20);case 23:return t.abrupt("return",e.mergeObjectSync(n,a));case 24:case"end":return t.stop()}}),t,null,[[2,17,20,23]])}))),function(e,n){return t.apply(this,arguments)})},{key:"mergeObjectSync",value:function(e,t){var n,r={},a=vN(t);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=i.key,u=i.value;if("aborted"===o.status)return GO;if("aborted"===u.status)return GO;"dirty"===o.status&&e.dirty(),"dirty"===u.status&&e.dirty(),"__proto__"===o.value||void 0===u.value&&!i.alwaysSet||(r[o.value]=u.value)}}catch(e){a.e(e)}finally{a.f()}return{status:e.value,value:r}}}]),e}(),GO=Object.freeze({status:"aborted"}),HO=function(e){return{status:"dirty",value:e}},BO=function(e){return{status:"valid",value:e}},zO=function(e){return"aborted"===e.status},qO=function(e){return"dirty"===e.status},ZO=function(e){return"valid"===e.status},KO=function(e){return"undefined"!=typeof Promise&&e instanceof Promise};!function(e){e.errToObj=function(e){return"string"==typeof e?{message:e}:e||{}},e.toString=function(e){return"string"==typeof e?e:null==e?void 0:e.message}}(jO||(jO={}));var YO=function(){function e(t,n,r,a){eN(this,e),this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=a}return nN(e,[{key:"path",get:function(){var e,t;return this._cachedPath.length||(Array.isArray(this._key)?(e=this._cachedPath).push.apply(e,$w(this._path).concat($w(this._key))):(t=this._cachedPath).push.apply(t,$w(this._path).concat([this._key]))),this._cachedPath}}]),e}(),JO=function(e,t){if(ZO(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;var t=new MO(e.common.issues);return this._error=t,this._error}}};function XO(e){if(!e)return{};var t=e.errorMap,n=e.invalid_type_error,r=e.required_error,a=e.description;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:function(t,a){var i,o,u=e.message;return"invalid_enum_value"===t.code?{message:null!=u?u:a.defaultError}:void 0===a.data?{message:null!==(i=null!=u?u:r)&&void 0!==i?i:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!==(o=null!=u?u:n)&&void 0!==o?o:a.defaultError}},description:a}}var QO,$O=function(){var e,t;function n(e){var t=this;eN(this,n),this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:function(e){return t["~validate"](e)}}}return nN(n,[{key:"_getType",value:function(e){return PO(e.data)}},{key:"_getOrReturnCtx",value:function(e,t){return t||{common:e.parent.common,data:e.data,parsedType:PO(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}},{key:"_processInputParams",value:function(e){return{status:new WO,ctx:{common:e.parent.common,data:e.data,parsedType:PO(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}},{key:"_parseSync",value:function(e){var t=this._parse(e);if(KO(t))throw new Error("Synchronous parse encountered promise.");return t}},{key:"_parseAsync",value:function(e){var t=this._parse(e);return Promise.resolve(t)}},{key:"parse",value:function(e,t){var n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}},{key:"safeParse",value:function(e,t){var n,r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:PO(e)},a=this._parseSync({data:e,path:r.path,parent:r});return JO(r,a)}},{key:"~validate",value:function(e){var t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:PO(e)};if(!this["~standard"].async)try{var n=this._parseSync({data:e,path:[],parent:t});return ZO(n)?{value:n.value}:{issues:t.common.issues}}catch(e){var r,a;null!=e&&null!==(r=e.message)&&void 0!==r&&null!==(a=r.toLowerCase())&&void 0!==a&&a.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then((function(e){return ZO(e)?{value:e.value}:{issues:t.common.issues}}))}},{key:"parseAsync",value:(t=Qw(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.safeParseAsync(t,n);case 2:if(!(r=e.sent).success){e.next=5;break}return e.abrupt("return",r.data);case 5:throw r.error;case 6:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"safeParseAsync",value:(e=Qw(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={common:{issues:[],contextualErrorMap:null==n?void 0:n.errorMap,async:!0},path:(null==n?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:PO(t)},a=this._parse({data:t,path:r.path,parent:r}),e.next=4,KO(a)?a:Promise.resolve(a);case 4:return i=e.sent,e.abrupt("return",JO(r,i));case 6:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"refine",value:function(e,t){var n=function(e){return"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t};return this._refinement((function(t,r){var a=e(t),i=function(){return r.addIssue(pN({code:xO.custom},n(t)))};return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return!!e||(i(),!1)})):!!a||(i(),!1)}))}},{key:"refinement",value:function(e,t){return this._refinement((function(n,r){return!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)}))}},{key:"_refinement",value:function(e){return new KL({schema:this,typeName:eD.ZodEffects,effect:{type:"refinement",refinement:e}})}},{key:"superRefine",value:function(e){return this._refinement(e)}},{key:"description",get:function(){return this._def.description}}]),nN(n,[{key:"optional",value:function(){return YL.create(this,this._def)}},{key:"nullable",value:function(){return JL.create(this,this._def)}},{key:"nullish",value:function(){return this.nullable().optional()}},{key:"array",value:function(){return kL.create(this)}},{key:"promise",value:function(){return ZL.create(this,this._def)}},{key:"or",value:function(e){return ML.create([this,e],this._def)}},{key:"and",value:function(e){return VL.create(this,e,this._def)}},{key:"transform",value:function(e){return new KL(pN(pN({},XO(this._def)),{},{schema:this,typeName:eD.ZodEffects,effect:{type:"transform",transform:e}}))}},{key:"default",value:function(e){var t="function"==typeof e?e:function(){return e};return new XL(pN(pN({},XO(this._def)),{},{innerType:this,defaultValue:t,typeName:eD.ZodDefault}))}},{key:"brand",value:function(){return new tD(pN({typeName:eD.ZodBranded,type:this},XO(this._def)))}},{key:"catch",value:function(e){var t="function"==typeof e?e:function(){return e};return new QL(pN(pN({},XO(this._def)),{},{innerType:this,catchValue:t,typeName:eD.ZodCatch}))}},{key:"describe",value:function(e){return new(0,this.constructor)(pN(pN({},this._def),{},{description:e}))}},{key:"pipe",value:function(e){return nD.create(this,e)}},{key:"readonly",value:function(){return rD.create(this)}},{key:"isOptional",value:function(){return this.safeParse(void 0).success}},{key:"isNullable",value:function(){return this.safeParse(null).success}}]),n}(),eL=/^c[^\s-]{8,}$/i,tL=/^[0-9a-z]+$/,nL=/^[0-9A-HJKMNP-TV-Z]{26}$/i,rL=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,aL=/^[a-z0-9_-]{21}$/i,iL=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,oL=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,uL=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,lL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,dL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fL=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,pL=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,hL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",vL=new RegExp("^".concat(hL,"$"));function yL(e){var t="[0-5]\\d";return e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?")),"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(e.precision?"+":"?")}function mL(e){var t="".concat(hL,"T").concat(yL(e)),n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}function gL(e,t){if(!iL.test(e))return!1;try{var n=Jw(e.split("."),1)[0],r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!("object"!=dN(a)||null===a||"typ"in a&&"JWT"!==(null==a?void 0:a.typ)||!a.alg||t&&a.alg!==t)}catch(e){return!1}}function EL(e,t){return!("v4"!==t&&t||!cL.test(e))||!("v6"!==t&&t||!dL.test(e))}var bL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==kO.string){var t=this._getOrReturnCtx(e);return FO(t,{code:xO.invalid_type,expected:kO.string,received:t.parsedType}),GO}var n,r,a,i,o=new WO,u=vN(this._def.checks);try{for(u.s();!(r=u.n()).done;){var l=r.value;if("min"===l.kind)e.data.length<l.value&&(FO(n=this._getOrReturnCtx(e,n),{code:xO.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if("max"===l.kind)e.data.length>l.value&&(FO(n=this._getOrReturnCtx(e,n),{code:xO.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if("length"===l.kind){var c=e.data.length>l.value,s=e.data.length<l.value;(c||s)&&(n=this._getOrReturnCtx(e,n),c?FO(n,{code:xO.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):s&&FO(n,{code:xO.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),o.dirty())}else if("email"===l.kind)uL.test(e.data)||(FO(n=this._getOrReturnCtx(e,n),{validation:"email",code:xO.invalid_string,message:l.message}),o.dirty());else if("emoji"===l.kind)QO||(QO=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),QO.test(e.data)||(FO(n=this._getOrReturnCtx(e,n),{validation:"emoji",code:xO.invalid_string,message:l.message}),o.dirty());else if("uuid"===l.kind)rL.test(e.data)||(FO(n=this._getOrReturnCtx(e,n),{validation:"uuid",code:xO.invalid_string,message:l.message}),o.dirty());else if("nanoid"===l.kind)aL.test(e.data)||(FO(n=this._getOrReturnCtx(e,n),{validation:"nanoid",code:xO.invalid_string,message:l.message}),o.dirty());else if("cuid"===l.kind)eL.test(e.data)||(FO(n=this._getOrReturnCtx(e,n),{validation:"cuid",code:xO.invalid_string,message:l.message}),o.dirty());else if("cuid2"===l.kind)tL.test(e.data)||(FO(n=this._getOrReturnCtx(e,n),{validation:"cuid2",code:xO.invalid_string,message:l.message}),o.dirty());else if("ulid"===l.kind)nL.test(e.data)||(FO(n=this._getOrReturnCtx(e,n),{validation:"ulid",code:xO.invalid_string,message:l.message}),o.dirty());else if("url"===l.kind)try{new URL(e.data)}catch(t){FO(n=this._getOrReturnCtx(e,n),{validation:"url",code:xO.invalid_string,message:l.message}),o.dirty()}else"regex"===l.kind?(l.regex.lastIndex=0,l.regex.test(e.data)||(FO(n=this._getOrReturnCtx(e,n),{validation:"regex",code:xO.invalid_string,message:l.message}),o.dirty())):"trim"===l.kind?e.data=e.data.trim():"includes"===l.kind?e.data.includes(l.value,l.position)||(FO(n=this._getOrReturnCtx(e,n),{code:xO.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),o.dirty()):"toLowerCase"===l.kind?e.data=e.data.toLowerCase():"toUpperCase"===l.kind?e.data=e.data.toUpperCase():"startsWith"===l.kind?e.data.startsWith(l.value)||(FO(n=this._getOrReturnCtx(e,n),{code:xO.invalid_string,validation:{startsWith:l.value},message:l.message}),o.dirty()):"endsWith"===l.kind?e.data.endsWith(l.value)||(FO(n=this._getOrReturnCtx(e,n),{code:xO.invalid_string,validation:{endsWith:l.value},message:l.message}),o.dirty()):"datetime"===l.kind?mL(l).test(e.data)||(FO(n=this._getOrReturnCtx(e,n),{code:xO.invalid_string,validation:"datetime",message:l.message}),o.dirty()):"date"===l.kind?vL.test(e.data)||(FO(n=this._getOrReturnCtx(e,n),{code:xO.invalid_string,validation:"date",message:l.message}),o.dirty()):"time"===l.kind?new RegExp("^".concat(yL(l),"$")).test(e.data)||(FO(n=this._getOrReturnCtx(e,n),{code:xO.invalid_string,validation:"time",message:l.message}),o.dirty()):"duration"===l.kind?oL.test(e.data)||(FO(n=this._getOrReturnCtx(e,n),{validation:"duration",code:xO.invalid_string,message:l.message}),o.dirty()):"ip"===l.kind?(a=e.data,("v4"!==(i=l.version)&&i||!lL.test(a))&&("v6"!==i&&i||!sL.test(a))&&(FO(n=this._getOrReturnCtx(e,n),{validation:"ip",code:xO.invalid_string,message:l.message}),o.dirty())):"jwt"===l.kind?gL(e.data,l.alg)||(FO(n=this._getOrReturnCtx(e,n),{validation:"jwt",code:xO.invalid_string,message:l.message}),o.dirty()):"cidr"===l.kind?EL(e.data,l.version)||(FO(n=this._getOrReturnCtx(e,n),{validation:"cidr",code:xO.invalid_string,message:l.message}),o.dirty()):"base64"===l.kind?fL.test(e.data)||(FO(n=this._getOrReturnCtx(e,n),{validation:"base64",code:xO.invalid_string,message:l.message}),o.dirty()):"base64url"===l.kind?pL.test(e.data)||(FO(n=this._getOrReturnCtx(e,n),{validation:"base64url",code:xO.invalid_string,message:l.message}),o.dirty()):AO.assertNever(l)}}catch(e){u.e(e)}finally{u.f()}return{status:o.value,value:e.data}}},{key:"_regex",value:function(e,t,n){return this.refinement((function(t){return e.test(t)}),pN({validation:t,code:xO.invalid_string},jO.errToObj(n)))}},{key:"_addCheck",value:function(e){return new n(pN(pN({},this._def),{},{checks:[].concat($w(this._def.checks),[e])}))}},{key:"email",value:function(e){return this._addCheck(pN({kind:"email"},jO.errToObj(e)))}},{key:"url",value:function(e){return this._addCheck(pN({kind:"url"},jO.errToObj(e)))}},{key:"emoji",value:function(e){return this._addCheck(pN({kind:"emoji"},jO.errToObj(e)))}},{key:"uuid",value:function(e){return this._addCheck(pN({kind:"uuid"},jO.errToObj(e)))}},{key:"nanoid",value:function(e){return this._addCheck(pN({kind:"nanoid"},jO.errToObj(e)))}},{key:"cuid",value:function(e){return this._addCheck(pN({kind:"cuid"},jO.errToObj(e)))}},{key:"cuid2",value:function(e){return this._addCheck(pN({kind:"cuid2"},jO.errToObj(e)))}},{key:"ulid",value:function(e){return this._addCheck(pN({kind:"ulid"},jO.errToObj(e)))}},{key:"base64",value:function(e){return this._addCheck(pN({kind:"base64"},jO.errToObj(e)))}},{key:"base64url",value:function(e){return this._addCheck(pN({kind:"base64url"},jO.errToObj(e)))}},{key:"jwt",value:function(e){return this._addCheck(pN({kind:"jwt"},jO.errToObj(e)))}},{key:"ip",value:function(e){return this._addCheck(pN({kind:"ip"},jO.errToObj(e)))}},{key:"cidr",value:function(e){return this._addCheck(pN({kind:"cidr"},jO.errToObj(e)))}},{key:"datetime",value:function(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(pN({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n},jO.errToObj(null==e?void 0:e.message)))}},{key:"date",value:function(e){return this._addCheck({kind:"date",message:e})}},{key:"time",value:function(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(pN({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision},jO.errToObj(null==e?void 0:e.message)))}},{key:"duration",value:function(e){return this._addCheck(pN({kind:"duration"},jO.errToObj(e)))}},{key:"regex",value:function(e,t){return this._addCheck(pN({kind:"regex",regex:e},jO.errToObj(t)))}},{key:"includes",value:function(e,t){return this._addCheck(pN({kind:"includes",value:e,position:null==t?void 0:t.position},jO.errToObj(null==t?void 0:t.message)))}},{key:"startsWith",value:function(e,t){return this._addCheck(pN({kind:"startsWith",value:e},jO.errToObj(t)))}},{key:"endsWith",value:function(e,t){return this._addCheck(pN({kind:"endsWith",value:e},jO.errToObj(t)))}},{key:"min",value:function(e,t){return this._addCheck(pN({kind:"min",value:e},jO.errToObj(t)))}},{key:"max",value:function(e,t){return this._addCheck(pN({kind:"max",value:e},jO.errToObj(t)))}},{key:"length",value:function(e,t){return this._addCheck(pN({kind:"length",value:e},jO.errToObj(t)))}},{key:"nonempty",value:function(e){return this.min(1,jO.errToObj(e))}},{key:"trim",value:function(){return new n(pN(pN({},this._def),{},{checks:[].concat($w(this._def.checks),[{kind:"trim"}])}))}},{key:"toLowerCase",value:function(){return new n(pN(pN({},this._def),{},{checks:[].concat($w(this._def.checks),[{kind:"toLowerCase"}])}))}},{key:"toUpperCase",value:function(){return new n(pN(pN({},this._def),{},{checks:[].concat($w(this._def.checks),[{kind:"toUpperCase"}])}))}},{key:"isDatetime",get:function(){return!!this._def.checks.find((function(e){return"datetime"===e.kind}))}},{key:"isDate",get:function(){return!!this._def.checks.find((function(e){return"date"===e.kind}))}},{key:"isTime",get:function(){return!!this._def.checks.find((function(e){return"time"===e.kind}))}},{key:"isDuration",get:function(){return!!this._def.checks.find((function(e){return"duration"===e.kind}))}},{key:"isEmail",get:function(){return!!this._def.checks.find((function(e){return"email"===e.kind}))}},{key:"isURL",get:function(){return!!this._def.checks.find((function(e){return"url"===e.kind}))}},{key:"isEmoji",get:function(){return!!this._def.checks.find((function(e){return"emoji"===e.kind}))}},{key:"isUUID",get:function(){return!!this._def.checks.find((function(e){return"uuid"===e.kind}))}},{key:"isNANOID",get:function(){return!!this._def.checks.find((function(e){return"nanoid"===e.kind}))}},{key:"isCUID",get:function(){return!!this._def.checks.find((function(e){return"cuid"===e.kind}))}},{key:"isCUID2",get:function(){return!!this._def.checks.find((function(e){return"cuid2"===e.kind}))}},{key:"isULID",get:function(){return!!this._def.checks.find((function(e){return"ulid"===e.kind}))}},{key:"isIP",get:function(){return!!this._def.checks.find((function(e){return"ip"===e.kind}))}},{key:"isCIDR",get:function(){return!!this._def.checks.find((function(e){return"cidr"===e.kind}))}},{key:"isBase64",get:function(){return!!this._def.checks.find((function(e){return"base64"===e.kind}))}},{key:"isBase64url",get:function(){return!!this._def.checks.find((function(e){return"base64url"===e.kind}))}},{key:"minLength",get:function(){var e,t=null,n=vN(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"maxLength",get:function(){var e,t=null,n=vN(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return t}}]),n}($O);function SL(e,t){var n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}bL.create=function(e){var t;return new bL(pN({checks:[],typeName:eD.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t},XO(e)))};var CL=function(e){rN(n,e);var t=aN(n);function n(){var e;return eN(this,n),(e=t.apply(this,arguments)).min=e.gte,e.max=e.lte,e.step=e.multipleOf,e}return nN(n,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==kO.number){var t=this._getOrReturnCtx(e);return FO(t,{code:xO.invalid_type,expected:kO.number,received:t.parsedType}),GO}var n,r,a=new WO,i=vN(this._def.checks);try{for(i.s();!(r=i.n()).done;){var o=r.value;"int"===o.kind?AO.isInteger(e.data)||(FO(n=this._getOrReturnCtx(e,n),{code:xO.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):"min"===o.kind?(o.inclusive?e.data<o.value:e.data<=o.value)&&(FO(n=this._getOrReturnCtx(e,n),{code:xO.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):"max"===o.kind?(o.inclusive?e.data>o.value:e.data>=o.value)&&(FO(n=this._getOrReturnCtx(e,n),{code:xO.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):"multipleOf"===o.kind?0!==SL(e.data,o.value)&&(FO(n=this._getOrReturnCtx(e,n),{code:xO.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):"finite"===o.kind?Number.isFinite(e.data)||(FO(n=this._getOrReturnCtx(e,n),{code:xO.not_finite,message:o.message}),a.dirty()):AO.assertNever(o)}}catch(e){i.e(e)}finally{i.f()}return{status:a.value,value:e.data}}},{key:"gte",value:function(e,t){return this.setLimit("min",e,!0,jO.toString(t))}},{key:"gt",value:function(e,t){return this.setLimit("min",e,!1,jO.toString(t))}},{key:"lte",value:function(e,t){return this.setLimit("max",e,!0,jO.toString(t))}},{key:"lt",value:function(e,t){return this.setLimit("max",e,!1,jO.toString(t))}},{key:"setLimit",value:function(e,t,r,a){return new n(pN(pN({},this._def),{},{checks:[].concat($w(this._def.checks),[{kind:e,value:t,inclusive:r,message:jO.toString(a)}])}))}},{key:"_addCheck",value:function(e){return new n(pN(pN({},this._def),{},{checks:[].concat($w(this._def.checks),[e])}))}},{key:"int",value:function(e){return this._addCheck({kind:"int",message:jO.toString(e)})}},{key:"positive",value:function(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:jO.toString(e)})}},{key:"negative",value:function(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:jO.toString(e)})}},{key:"nonpositive",value:function(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:jO.toString(e)})}},{key:"nonnegative",value:function(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:jO.toString(e)})}},{key:"multipleOf",value:function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:jO.toString(t)})}},{key:"finite",value:function(e){return this._addCheck({kind:"finite",message:jO.toString(e)})}},{key:"safe",value:function(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:jO.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:jO.toString(e)})}},{key:"minValue",get:function(){var e,t=null,n=vN(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"maxValue",get:function(){var e,t=null,n=vN(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"isInt",get:function(){return!!this._def.checks.find((function(e){return"int"===e.kind||"multipleOf"===e.kind&&AO.isInteger(e.value)}))}},{key:"isFinite",get:function(){var e,t=null,n=null,r=vN(this._def.checks);try{for(r.s();!(e=r.n()).done;){var a=e.value;if("finite"===a.kind||"int"===a.kind||"multipleOf"===a.kind)return!0;"min"===a.kind?(null===n||a.value>n)&&(n=a.value):"max"===a.kind&&(null===t||a.value<t)&&(t=a.value)}}catch(e){r.e(e)}finally{r.f()}return Number.isFinite(n)&&Number.isFinite(t)}}]),n}($O);CL.create=function(e){return new CL(pN({checks:[],typeName:eD.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1},XO(e)))};var _L=function(e){rN(n,e);var t=aN(n);function n(){var e;return eN(this,n),(e=t.apply(this,arguments)).min=e.gte,e.max=e.lte,e}return nN(n,[{key:"_parse",value:function(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==kO.bigint)return this._getInvalidInput(e);var t,n,r=new WO,a=vN(this._def.checks);try{for(a.s();!(n=a.n()).done;){var i=n.value;"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(FO(t=this._getOrReturnCtx(e,t),{code:xO.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(FO(t=this._getOrReturnCtx(e,t),{code:xO.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(FO(t=this._getOrReturnCtx(e,t),{code:xO.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):AO.assertNever(i)}}catch(e){a.e(e)}finally{a.f()}return{status:r.value,value:e.data}}},{key:"_getInvalidInput",value:function(e){var t=this._getOrReturnCtx(e);return FO(t,{code:xO.invalid_type,expected:kO.bigint,received:t.parsedType}),GO}},{key:"gte",value:function(e,t){return this.setLimit("min",e,!0,jO.toString(t))}},{key:"gt",value:function(e,t){return this.setLimit("min",e,!1,jO.toString(t))}},{key:"lte",value:function(e,t){return this.setLimit("max",e,!0,jO.toString(t))}},{key:"lt",value:function(e,t){return this.setLimit("max",e,!1,jO.toString(t))}},{key:"setLimit",value:function(e,t,r,a){return new n(pN(pN({},this._def),{},{checks:[].concat($w(this._def.checks),[{kind:e,value:t,inclusive:r,message:jO.toString(a)}])}))}},{key:"_addCheck",value:function(e){return new n(pN(pN({},this._def),{},{checks:[].concat($w(this._def.checks),[e])}))}},{key:"positive",value:function(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:jO.toString(e)})}},{key:"negative",value:function(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:jO.toString(e)})}},{key:"nonpositive",value:function(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:jO.toString(e)})}},{key:"nonnegative",value:function(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:jO.toString(e)})}},{key:"multipleOf",value:function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:jO.toString(t)})}},{key:"minValue",get:function(){var e,t=null,n=vN(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"maxValue",get:function(){var e,t=null,n=vN(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return t}}]),n}($O);_L.create=function(e){var t;return new _L(pN({checks:[],typeName:eD.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t},XO(e)))};var IL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==kO.boolean){var t=this._getOrReturnCtx(e);return FO(t,{code:xO.invalid_type,expected:kO.boolean,received:t.parsedType}),GO}return BO(e.data)}}]),n}($O);IL.create=function(e){return new IL(pN({typeName:eD.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1},XO(e)))};var TL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==kO.date){var t=this._getOrReturnCtx(e);return FO(t,{code:xO.invalid_type,expected:kO.date,received:t.parsedType}),GO}if(Number.isNaN(e.data.getTime()))return FO(this._getOrReturnCtx(e),{code:xO.invalid_date}),GO;var n,r,a=new WO,i=vN(this._def.checks);try{for(i.s();!(r=i.n()).done;){var o=r.value;"min"===o.kind?e.data.getTime()<o.value&&(FO(n=this._getOrReturnCtx(e,n),{code:xO.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),a.dirty()):"max"===o.kind?e.data.getTime()>o.value&&(FO(n=this._getOrReturnCtx(e,n),{code:xO.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),a.dirty()):AO.assertNever(o)}}catch(e){i.e(e)}finally{i.f()}return{status:a.value,value:new Date(e.data.getTime())}}},{key:"_addCheck",value:function(e){return new n(pN(pN({},this._def),{},{checks:[].concat($w(this._def.checks),[e])}))}},{key:"min",value:function(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:jO.toString(t)})}},{key:"max",value:function(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:jO.toString(t)})}},{key:"minDate",get:function(){var e,t=null,n=vN(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return null!=t?new Date(t):null}},{key:"maxDate",get:function(){var e,t=null,n=vN(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return null!=t?new Date(t):null}}]),n}($O);TL.create=function(e){return new TL(pN({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:eD.ZodDate},XO(e)))};var AL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){if(this._getType(e)!==kO.symbol){var t=this._getOrReturnCtx(e);return FO(t,{code:xO.invalid_type,expected:kO.symbol,received:t.parsedType}),GO}return BO(e.data)}}]),n}($O);AL.create=function(e){return new AL(pN({typeName:eD.ZodSymbol},XO(e)))};var wL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){if(this._getType(e)!==kO.undefined){var t=this._getOrReturnCtx(e);return FO(t,{code:xO.invalid_type,expected:kO.undefined,received:t.parsedType}),GO}return BO(e.data)}}]),n}($O);wL.create=function(e){return new wL(pN({typeName:eD.ZodUndefined},XO(e)))};var NL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){if(this._getType(e)!==kO.null){var t=this._getOrReturnCtx(e);return FO(t,{code:xO.invalid_type,expected:kO.null,received:t.parsedType}),GO}return BO(e.data)}}]),n}($O);NL.create=function(e){return new NL(pN({typeName:eD.ZodNull},XO(e)))};var OL=function(e){rN(n,e);var t=aN(n);function n(){var e;return eN(this,n),(e=t.apply(this,arguments))._any=!0,e}return nN(n,[{key:"_parse",value:function(e){return BO(e.data)}}]),n}($O);OL.create=function(e){return new OL(pN({typeName:eD.ZodAny},XO(e)))};var LL=function(e){rN(n,e);var t=aN(n);function n(){var e;return eN(this,n),(e=t.apply(this,arguments))._unknown=!0,e}return nN(n,[{key:"_parse",value:function(e){return BO(e.data)}}]),n}($O);LL.create=function(e){return new LL(pN({typeName:eD.ZodUnknown},XO(e)))};var DL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){var t=this._getOrReturnCtx(e);return FO(t,{code:xO.invalid_type,expected:kO.never,received:t.parsedType}),GO}}]),n}($O);DL.create=function(e){return new DL(pN({typeName:eD.ZodNever},XO(e)))};var RL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){if(this._getType(e)!==kO.undefined){var t=this._getOrReturnCtx(e);return FO(t,{code:xO.invalid_type,expected:kO.void,received:t.parsedType}),GO}return BO(e.data)}}]),n}($O);RL.create=function(e){return new RL(pN({typeName:eD.ZodVoid},XO(e)))};var kL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.ctx,r=t.status,a=this._def;if(n.parsedType!==kO.array)return FO(n,{code:xO.invalid_type,expected:kO.array,received:n.parsedType}),GO;if(null!==a.exactLength){var i=n.data.length>a.exactLength.value,o=n.data.length<a.exactLength.value;(i||o)&&(FO(n,{code:i?xO.too_big:xO.too_small,minimum:o?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(null!==a.minLength&&n.data.length<a.minLength.value&&(FO(n,{code:xO.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),null!==a.maxLength&&n.data.length>a.maxLength.value&&(FO(n,{code:xO.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all($w(n.data).map((function(e,t){return a.type._parseAsync(new YO(n,e,n.path,t))}))).then((function(e){return WO.mergeArray(r,e)}));var u=$w(n.data).map((function(e,t){return a.type._parseSync(new YO(n,e,n.path,t))}));return WO.mergeArray(r,u)}},{key:"min",value:function(e,t){return new n(pN(pN({},this._def),{},{minLength:{value:e,message:jO.toString(t)}}))}},{key:"max",value:function(e,t){return new n(pN(pN({},this._def),{},{maxLength:{value:e,message:jO.toString(t)}}))}},{key:"length",value:function(e,t){return new n(pN(pN({},this._def),{},{exactLength:{value:e,message:jO.toString(t)}}))}},{key:"nonempty",value:function(e){return this.min(1,e)}},{key:"element",get:function(){return this._def.type}}]),n}($O);function PL(e){if(e instanceof xL){var t={};for(var n in e.shape){var r=e.shape[n];t[n]=YL.create(PL(r))}return new xL(pN(pN({},e._def),{},{shape:function(){return t}}))}return e instanceof kL?new kL(pN(pN({},e._def),{},{type:PL(e.element)})):e instanceof YL?YL.create(PL(e.unwrap())):e instanceof JL?JL.create(PL(e.unwrap())):e instanceof FL?FL.create(e.items.map((function(e){return PL(e)}))):e}kL.create=function(e,t){return new kL(pN({type:e,minLength:null,maxLength:null,exactLength:null,typeName:eD.ZodArray},XO(t)))};var xL=function(e){rN(n,e);var t=aN(n);function n(){var e;return eN(this,n),(e=t.apply(this,arguments))._cached=null,e.nonstrict=e.passthrough,e.augment=e.extend,e}return nN(n,[{key:"_getCached",value:function(){if(null!==this._cached)return this._cached;var e=this._def.shape(),t=AO.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}},{key:"_parse",value:function(e){if(this._getType(e)!==kO.object){var t=this._getOrReturnCtx(e);return FO(t,{code:xO.invalid_type,expected:kO.object,received:t.parsedType}),GO}var n=this._processInputParams(e),r=n.status,a=n.ctx,i=this._getCached(),o=i.shape,u=i.keys,l=[];if(!(this._def.catchall instanceof DL&&"strip"===this._def.unknownKeys))for(var c in a.data)u.includes(c)||l.push(c);var s,d=[],f=vN(u);try{for(f.s();!(s=f.n()).done;){var p=s.value,h=o[p],v=a.data[p];d.push({key:{status:"valid",value:p},value:h._parse(new YO(a,v,a.path,p)),alwaysSet:p in a.data})}}catch(e){f.e(e)}finally{f.f()}if(this._def.catchall instanceof DL){var y=this._def.unknownKeys;if("passthrough"===y){var m,g=vN(l);try{for(g.s();!(m=g.n()).done;){var E=m.value;d.push({key:{status:"valid",value:E},value:{status:"valid",value:a.data[E]}})}}catch(e){g.e(e)}finally{g.f()}}else if("strict"===y)l.length>0&&(FO(a,{code:xO.unrecognized_keys,keys:l}),r.dirty());else if("strip"!==y)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{var b,S=this._def.catchall,C=vN(l);try{for(C.s();!(b=C.n()).done;){var _=b.value,I=a.data[_];d.push({key:{status:"valid",value:_},value:S._parse(new YO(a,I,a.path,_)),alwaysSet:_ in a.data})}}catch(e){C.e(e)}finally{C.f()}}return a.common.async?Promise.resolve().then(Qw(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=vN(d),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=15;break}return a=r.value,e.next=8,a.key;case 8:return i=e.sent,e.next=11,a.value;case 11:o=e.sent,t.push({key:i,value:o,alwaysSet:a.alwaysSet});case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,null,[[2,17,20,23]])})))).then((function(e){return WO.mergeObjectSync(r,e)})):WO.mergeObjectSync(r,d)}},{key:"strict",value:function(e){var t=this;return jO.errToObj,new n(pN(pN({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:function(n,r){var a,i,o,u,l=null!==(a=null===(i=(o=t._def).errorMap)||void 0===i?void 0:i.call(o,n,r).message)&&void 0!==a?a:r.defaultError;return"unrecognized_keys"===n.code?{message:null!==(u=jO.errToObj(e).message)&&void 0!==u?u:l}:{message:l}}}:{}))}},{key:"strip",value:function(){return new n(pN(pN({},this._def),{},{unknownKeys:"strip"}))}},{key:"passthrough",value:function(){return new n(pN(pN({},this._def),{},{unknownKeys:"passthrough"}))}},{key:"extend",value:function(e){var t=this;return new n(pN(pN({},this._def),{},{shape:function(){return pN(pN({},t._def.shape()),e)}}))}},{key:"merge",value:function(e){var t=this;return new n({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:function(){return pN(pN({},t._def.shape()),e._def.shape())},typeName:eD.ZodObject})}},{key:"setKey",value:function(e,t){return this.augment(hN({},e,t))}},{key:"catchall",value:function(e){return new n(pN(pN({},this._def),{},{catchall:e}))}},{key:"pick",value:function(e){var t,r={},a=vN(AO.objectKeys(e));try{for(a.s();!(t=a.n()).done;){var i=t.value;e[i]&&this.shape[i]&&(r[i]=this.shape[i])}}catch(e){a.e(e)}finally{a.f()}return new n(pN(pN({},this._def),{},{shape:function(){return r}}))}},{key:"omit",value:function(e){var t,r={},a=vN(AO.objectKeys(this.shape));try{for(a.s();!(t=a.n()).done;){var i=t.value;e[i]||(r[i]=this.shape[i])}}catch(e){a.e(e)}finally{a.f()}return new n(pN(pN({},this._def),{},{shape:function(){return r}}))}},{key:"deepPartial",value:function(){return PL(this)}},{key:"partial",value:function(e){var t,r={},a=vN(AO.objectKeys(this.shape));try{for(a.s();!(t=a.n()).done;){var i=t.value,o=this.shape[i];e&&!e[i]?r[i]=o:r[i]=o.optional()}}catch(e){a.e(e)}finally{a.f()}return new n(pN(pN({},this._def),{},{shape:function(){return r}}))}},{key:"required",value:function(e){var t,r={},a=vN(AO.objectKeys(this.shape));try{for(a.s();!(t=a.n()).done;){var i=t.value;if(e&&!e[i])r[i]=this.shape[i];else{for(var o=this.shape[i];o instanceof YL;)o=o._def.innerType;r[i]=o}}}catch(e){a.e(e)}finally{a.f()}return new n(pN(pN({},this._def),{},{shape:function(){return r}}))}},{key:"keyof",value:function(){return BL(AO.objectKeys(this.shape))}},{key:"shape",get:function(){return this._def.shape()}}]),n}($O);xL.create=function(e,t){return new xL(pN({shape:function(){return e},unknownKeys:"strip",catchall:DL.create(),typeName:eD.ZodObject},XO(t)))},xL.strictCreate=function(e,t){return new xL(pN({shape:function(){return e},unknownKeys:"strict",catchall:DL.create(),typeName:eD.ZodObject},XO(t)))},xL.lazycreate=function(e,t){return new xL(pN({shape:e,unknownKeys:"strip",catchall:DL.create(),typeName:eD.ZodObject},XO(t)))};var ML=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=this._def.options;if(t.common.async)return Promise.all(n.map(function(){var e=Qw(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pN(pN({},t),{},{common:pN(pN({},t.common),{},{issues:[]}),parent:null}),e.next=3,n._parseAsync({data:t.data,path:t.path,parent:r});case 3:return e.t0=e.sent,e.t1=r,e.abrupt("return",{result:e.t0,ctx:e.t1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){var n,r=vN(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if("valid"===a.result.status)return a.result}}catch(e){r.e(e)}finally{r.f()}var i,o=vN(e);try{for(o.s();!(i=o.n()).done;){var u,l=i.value;if("dirty"===l.result.status)return(u=t.common.issues).push.apply(u,$w(l.ctx.common.issues)),l.result}}catch(e){o.e(e)}finally{o.f()}var c=e.map((function(e){return new MO(e.ctx.common.issues)}));return FO(t,{code:xO.invalid_union,unionErrors:c}),GO}));var r,a,i,o=[],u=vN(n);try{for(u.s();!(i=u.n()).done;){var l=i.value,c=pN(pN({},t),{},{common:pN(pN({},t.common),{},{issues:[]}),parent:null}),s=l._parseSync({data:t.data,path:t.path,parent:c});if("valid"===s.status)return s;"dirty"!==s.status||a||(a={result:s,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}}catch(e){u.e(e)}finally{u.f()}if(a)return(r=t.common.issues).push.apply(r,$w(a.ctx.common.issues)),a.result;var d=o.map((function(e){return new MO(e)}));return FO(t,{code:xO.invalid_union,unionErrors:d}),GO}},{key:"options",get:function(){return this._def.options}}]),n}($O);function UL(e,t){var n=PO(e),r=PO(t);if(e===t)return{valid:!0,data:e};if(n===kO.object&&r===kO.object){var a,i=AO.objectKeys(t),o=AO.objectKeys(e).filter((function(e){return-1!==i.indexOf(e)})),u=pN(pN({},e),t),l=vN(o);try{for(l.s();!(a=l.n()).done;){var c=a.value,s=UL(e[c],t[c]);if(!s.valid)return{valid:!1};u[c]=s.data}}catch(e){l.e(e)}finally{l.f()}return{valid:!0,data:u}}if(n===kO.array&&r===kO.array){if(e.length!==t.length)return{valid:!1};for(var d=[],f=0;f<e.length;f++){var p=UL(e[f],t[f]);if(!p.valid)return{valid:!1};d.push(p.data)}return{valid:!0,data:d}}return n===kO.date&&r===kO.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}ML.create=function(e,t){return new ML(pN({options:e,typeName:eD.ZodUnion},XO(t)))};var VL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx,a=function(e,t){if(zO(e)||zO(t))return GO;var a=UL(e.value,t.value);return a.valid?((qO(e)||qO(t))&&n.dirty(),{status:n.value,value:a.data}):(FO(r,{code:xO.invalid_intersection_types}),GO)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((function(e){var t=Jw(e,2),n=t[0],r=t[1];return a(n,r)})):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}]),n}($O);VL.create=function(e,t,n){return new VL(pN({left:e,right:t,typeName:eD.ZodIntersection},XO(n)))};var FL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,a=n.ctx;if(a.parsedType!==kO.array)return FO(a,{code:xO.invalid_type,expected:kO.array,received:a.parsedType}),GO;if(a.data.length<this._def.items.length)return FO(a,{code:xO.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),GO;!this._def.rest&&a.data.length>this._def.items.length&&(FO(a,{code:xO.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());var i=$w(a.data).map((function(e,n){var r=t._def.items[n]||t._def.rest;return r?r._parse(new YO(a,e,a.path,n)):null})).filter((function(e){return!!e}));return a.common.async?Promise.all(i).then((function(e){return WO.mergeArray(r,e)})):WO.mergeArray(r,i)}},{key:"rest",value:function(e){return new n(pN(pN({},this._def),{},{rest:e}))}},{key:"items",get:function(){return this._def.items}}]),n}($O);FL.create=function(e,t){if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new FL(pN({items:e,typeName:eD.ZodTuple,rest:null},XO(t)))};var jL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==kO.map)return FO(r,{code:xO.invalid_type,expected:kO.map,received:r.parsedType}),GO;var a=this._def.keyType,i=this._def.valueType,o=$w(r.data.entries()).map((function(e,t){var n=Jw(e,2),o=n[0],u=n[1];return{key:a._parse(new YO(r,o,r.path,[t,"key"])),value:i._parse(new YO(r,u,r.path,[t,"value"]))}}));if(r.common.async){var u=new Map;return Promise.resolve().then(Qw(regeneratorRuntime.mark((function e(){var t,r,a,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=vN(o),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=16;break}return a=r.value,e.next=7,a.key;case 7:return i=e.sent,e.next=10,a.value;case 10:if(l=e.sent,"aborted"!==i.status&&"aborted"!==l.status){e.next=13;break}return e.abrupt("return",GO);case 13:"dirty"!==i.status&&"dirty"!==l.status||n.dirty(),u.set(i.value,l.value);case 14:e.next=3;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),t.e(e.t0);case 21:return e.prev=21,t.f(),e.finish(21);case 24:return e.abrupt("return",{status:n.value,value:u});case 25:case"end":return e.stop()}}),e,null,[[1,18,21,24]])}))))}var l,c=new Map,s=vN(o);try{for(s.s();!(l=s.n()).done;){var d=l.value,f=d.key,p=d.value;if("aborted"===f.status||"aborted"===p.status)return GO;"dirty"!==f.status&&"dirty"!==p.status||n.dirty(),c.set(f.value,p.value)}}catch(e){s.e(e)}finally{s.f()}return{status:n.value,value:c}}},{key:"keySchema",get:function(){return this._def.keyType}},{key:"valueSchema",get:function(){return this._def.valueType}}]),n}($O);jL.create=function(e,t,n){return new jL(pN({valueType:t,keyType:e,typeName:eD.ZodMap},XO(n)))};var WL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==kO.set)return FO(r,{code:xO.invalid_type,expected:kO.set,received:r.parsedType}),GO;var a=this._def;null!==a.minSize&&r.data.size<a.minSize.value&&(FO(r,{code:xO.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),null!==a.maxSize&&r.data.size>a.maxSize.value&&(FO(r,{code:xO.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());var i=this._def.valueType;function o(e){var t,r=new Set,a=vN(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if("aborted"===i.status)return GO;"dirty"===i.status&&n.dirty(),r.add(i.value)}}catch(e){a.e(e)}finally{a.f()}return{status:n.value,value:r}}var u=$w(r.data.values()).map((function(e,t){return i._parse(new YO(r,e,r.path,t))}));return r.common.async?Promise.all(u).then((function(e){return o(e)})):o(u)}},{key:"min",value:function(e,t){return new n(pN(pN({},this._def),{},{minSize:{value:e,message:jO.toString(t)}}))}},{key:"max",value:function(e,t){return new n(pN(pN({},this._def),{},{maxSize:{value:e,message:jO.toString(t)}}))}},{key:"size",value:function(e,t){return this.min(e,t).max(e,t)}},{key:"nonempty",value:function(e){return this.min(1,e)}}]),n}($O);WL.create=function(e,t){return new WL(pN({valueType:e,minSize:null,maxSize:null,typeName:eD.ZodSet},XO(t)))};var GL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}},{key:"schema",get:function(){return this._def.getter()}}]),n}($O);GL.create=function(e,t){return new GL(pN({getter:e,typeName:eD.ZodLazy},XO(t)))};var HL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){if(e.data!==this._def.value){var t=this._getOrReturnCtx(e);return FO(t,{received:t.data,code:xO.invalid_literal,expected:this._def.value}),GO}return{status:"valid",value:e.data}}},{key:"value",get:function(){return this._def.value}}]),n}($O);function BL(e,t){return new zL(pN({values:e,typeName:eD.ZodEnum},XO(t)))}HL.create=function(e,t){return new HL(pN({value:e,typeName:eD.ZodLiteral},XO(t)))};var zL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){if("string"!=typeof e.data){var t=this._getOrReturnCtx(e),n=this._def.values;return FO(t,{expected:AO.joinValues(n),received:t.parsedType,code:xO.invalid_type}),GO}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){var r=this._getOrReturnCtx(e),a=this._def.values;return FO(r,{received:r.data,code:xO.invalid_enum_value,options:a}),GO}return BO(e.data)}},{key:"extract",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return n.create(e,pN(pN({},this._def),t))}},{key:"exclude",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return n.create(this.options.filter((function(t){return!e.includes(t)})),pN(pN({},this._def),t))}},{key:"options",get:function(){return this._def.values}},{key:"enum",get:function(){var e,t={},n=vN(this._def.values);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=r}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"Values",get:function(){var e,t={},n=vN(this._def.values);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=r}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"Enum",get:function(){var e,t={},n=vN(this._def.values);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=r}}catch(e){n.e(e)}finally{n.f()}return t}}]),n}($O);zL.create=BL;var qL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){var t=AO.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==kO.string&&n.parsedType!==kO.number){var r=AO.objectValues(t);return FO(n,{expected:AO.joinValues(r),received:n.parsedType,code:xO.invalid_type}),GO}if(this._cache||(this._cache=new Set(AO.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){var a=AO.objectValues(t);return FO(n,{received:n.data,code:xO.invalid_enum_value,options:a}),GO}return BO(e.data)}},{key:"enum",get:function(){return this._def.values}}]),n}($O);qL.create=function(e,t){return new qL(pN({values:e,typeName:eD.ZodNativeEnum},XO(t)))};var ZL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"unwrap",value:function(){return this._def.type}},{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e).ctx;if(n.parsedType!==kO.promise&&!1===n.common.async)return FO(n,{code:xO.invalid_type,expected:kO.promise,received:n.parsedType}),GO;var r=n.parsedType===kO.promise?n.data:Promise.resolve(n.data);return BO(r.then((function(e){return t._def.type.parseAsync(e,{path:n.path,errorMap:n.common.contextualErrorMap})})))}}]),n}($O);ZL.create=function(e,t){return new ZL(pN({type:e,typeName:eD.ZodPromise},XO(t)))};var KL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"innerType",value:function(){return this._def.schema}},{key:"sourceType",value:function(){return this._def.schema._def.typeName===eD.ZodEffects?this._def.schema.sourceType():this._def.schema}},{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,a=n.ctx,i=this._def.effect||null,o={addIssue:function(e){FO(a,e),e.fatal?r.abort():r.dirty()},get path(){return a.path}};if(o.addIssue=o.addIssue.bind(o),"preprocess"===i.type){var u=i.transform(a.data,o);if(a.common.async)return Promise.resolve(u).then(function(){var e=Qw(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("aborted"!==r.value){e.next=2;break}return e.abrupt("return",GO);case 2:return e.next=4,t._def.schema._parseAsync({data:n,path:a.path,parent:a});case 4:return i=e.sent,e.abrupt("return","aborted"===i.status?GO:"dirty"===i.status||"dirty"===r.value?HO(i.value):i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());if("aborted"===r.value)return GO;var l=this._def.schema._parseSync({data:u,path:a.path,parent:a});return"aborted"===l.status?GO:"dirty"===l.status||"dirty"===r.value?HO(l.value):l}if("refinement"===i.type){var c=function(e){var t=i.refinement(e,o);if(a.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===a.common.async){var s=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===s.status?GO:("dirty"===s.status&&r.dirty(),c(s.value),{status:r.value,value:s.value})}return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then((function(e){return"aborted"===e.status?GO:("dirty"===e.status&&r.dirty(),c(e.value).then((function(){return{status:r.value,value:e.value}})))}))}if("transform"===i.type){if(!1===a.common.async){var d=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!ZO(d))return GO;var f=i.transform(d.value,o);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:f}}return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then((function(e){return ZO(e)?Promise.resolve(i.transform(e.value,o)).then((function(e){return{status:r.value,value:e}})):GO}))}AO.assertNever(i)}}]),n}($O);KL.create=function(e,t,n){return new KL(pN({schema:e,typeName:eD.ZodEffects,effect:t},XO(n)))},KL.createWithPreprocess=function(e,t,n){return new KL(pN({schema:t,effect:{type:"preprocess",transform:e},typeName:eD.ZodEffects},XO(n)))};var YL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){return this._getType(e)===kO.undefined?BO(void 0):this._def.innerType._parse(e)}},{key:"unwrap",value:function(){return this._def.innerType}}]),n}($O);YL.create=function(e,t){return new YL(pN({innerType:e,typeName:eD.ZodOptional},XO(t)))};var JL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){return this._getType(e)===kO.null?BO(null):this._def.innerType._parse(e)}},{key:"unwrap",value:function(){return this._def.innerType}}]),n}($O);JL.create=function(e,t){return new JL(pN({innerType:e,typeName:eD.ZodNullable},XO(t)))};var XL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=t.data;return t.parsedType===kO.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}},{key:"removeDefault",value:function(){return this._def.innerType}}]),n}($O);XL.create=function(e,t){return new XL(pN({innerType:e,typeName:eD.ZodDefault,defaultValue:"function"==typeof t.default?t.default:function(){return t.default}},XO(t)))};var QL=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e).ctx,r=pN(pN({},n),{},{common:pN(pN({},n.common),{},{issues:[]})}),a=this._def.innerType._parse({data:r.data,path:r.path,parent:pN({},r)});return KO(a)?a.then((function(e){return{status:"valid",value:"valid"===e.status?e.value:t._def.catchValue({get error(){return new MO(r.common.issues)},input:r.data})}})):{status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new MO(r.common.issues)},input:r.data})}}},{key:"removeCatch",value:function(){return this._def.innerType}}]),n}($O);QL.create=function(e,t){return new QL(pN({innerType:e,typeName:eD.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:function(){return t.catch}},XO(t)))};var $L=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){if(this._getType(e)!==kO.nan){var t=this._getOrReturnCtx(e);return FO(t,{code:xO.invalid_type,expected:kO.nan,received:t.parsedType}),GO}return{status:"valid",value:e.data}}}]),n}($O);$L.create=function(e){return new $L(pN({typeName:eD.ZodNaN},XO(e)))};var eD,tD=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}},{key:"unwrap",value:function(){return this._def.type}}]),n}($O),nD=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,a=n.ctx;if(a.common.async)return Qw(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._def.in._parseAsync({data:a.data,path:a.path,parent:a});case 2:return n=e.sent,e.abrupt("return","aborted"===n.status?GO:"dirty"===n.status?(r.dirty(),HO(n.value)):t._def.out._parseAsync({data:n.value,path:a.path,parent:a}));case 4:case"end":return e.stop()}}),e)})))();var i=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===i.status?GO:"dirty"===i.status?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:a.path,parent:a})}}],[{key:"create",value:function(e,t){return new n({in:e,out:t,typeName:eD.ZodPipeline})}}]),n}($O),rD=function(e){rN(n,e);var t=aN(n);function n(){return eN(this,n),t.apply(this,arguments)}return nN(n,[{key:"_parse",value:function(e){var t=this._def.innerType._parse(e),n=function(e){return ZO(e)&&(e.value=Object.freeze(e.value)),e};return KO(t)?t.then((function(e){return n(e)})):n(t)}},{key:"unwrap",value:function(){return this._def.innerType}}]),n}($O);rD.create=function(e,t){return new rD(pN({innerType:e,typeName:eD.ZodReadonly},XO(t)))},xL.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(eD||(eD={}));var aD=bL.create,iD=IL.create;DL.create;var oD=kL.create,uD=xL.create;xL.strictCreate,ML.create,VL.create,FL.create,zL.create,ZL.create;var lD,cD=YL.create;JL.create;var sD,dD,fD,pD,hD,vD,yD,mD,gD,ED,bD,SD,CD=uD({sharedParameters:uD({shouldAnalyze:iD().optional(),useContinueMode:iD().optional(),genericChallengeId:aD().optional()}).optional()}),_D=uD({userId:aD(),challengeId:aD(),contentInlineBase64:aD(),expectedSymbols:oD(aD()),scriptIdentifiers:cD(oD(aD()))}).and(CD),ID=((lD={})[BN.UNKNOWN]=uD({}),lD[BN.CHEF]=_D,lD),TD=function(e,t,n){if(""===e||""===n||""===t)return XN;var r=TO.pipe(function(){try{return QN(atob(n))}catch(e){return XN}}(),nO((function(){return n}))),a=t;if(!Object.values(BN).includes(a))return XN;var i=lO((function(){return JSON.parse(r)}),(function(){return null}));if(uO(i))return XN;var o=ID[a].safeParse(i.right);if(!o.success)return console.error(RO,o.error),XN;var u={challengeId:e,challengeType:a,challengeMetadata:i.right};return QN(u)};function AD(e){var t,n=function(){var e,t;return null!==(t=null===(e=null===document||void 0===document?void 0:document.cookie)||void 0===e?void 0:e.split("; "))&&void 0!==t?t:[]}(),r=e.length,a=null===(t=null==n?void 0:n.find((function(t){return t.startsWith(e)})))||void 0===t?void 0:t.substring(r+1);return null!=a?a:null}!function(e){e.Strict="strict",e.Lax="lax",e.None="none"}(sD||(sD={})),"function"==typeof SuppressedError&&SuppressedError,function(e){e.PagingParametersChanged="Paging parameters were changed",e.GetItemsFailure="Unable to get items",e.InvalidPageNumber="Invalid page number"}(dD||(dD={})),function(e){e[e.Initialized=0]="Initialized",e[e.Idle=1]="Idle",e[e.Loading=2]="Loading"}(fD||(fD={})),function(e){e.Asc="Asc",e.Desc="Desc"}(pD||(pD={})),"RelativeTimeFormat"in Intl||function(){!function(e,t,n,r){new(n||(n=Promise))((function(t,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function o(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,o)}u((r=r.apply(e,[])).next())}))}(this,0,void 0,(function(){return function(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=u(0),o.throw=u(1),o.return=u(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){i.label=u[1];break}if(6===u[0]&&i.label<a[1]){i.label=a[1],a=u;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(u);break}a[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}}(this,(function(e){switch(e.label){case 0:return[4,Promise.resolve().then((function(){return eR}))];case 1:return e.sent(),[4,Promise.resolve().then((function(){return nR}))];case 2:return e.sent(),[2]}}))}))}(),function(e){e.Edge="edge",e.IE="ie",e.Chrome="chrome",e.Opera="opera",e.Safari="safari",e.Firefox="firefox",e.Unknown=""}(hD||(hD={})),function(e){e[e.Windows=0]="Windows",e[e.macOS=1]="macOS",e[e.Linux=2]="Linux",e[e.Unix=3]="Unix",e[e.iOS=4]="iOS",e[e.Android=5]="Android",e[e.Unknown=6]="Unknown"}(vD||(vD={})),function(e){e.Unidentified="Unidentified",e.Alt="Alt",e.AltGraph="AltGraph",e.CapsLock="CapsLock",e.Control="Control",e.Fn="Fn",e.FnLock="FnLock",e.Hyper="Hyper",e.Meta="Meta",e.NumLock="NumLock",e.ScrollLock="ScrollLock",e.Shift="Shift",e.Super="Super",e.Symbol="Symbol",e.SymbolLock="SymbolLock",e.Enter="Enter",e.Tab="Tab",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.End="End",e.Home="Home",e.PageDown="PageDown",e.PageUp="PageUp",e.Backspace="Backspace",e.Clear="Clear",e.Copy="Copy",e.CrSel="CrSel",e.Cut="Cut",e.Delete="Delete",e.EraseEof="EraseEof",e.ExSel="ExSel",e.Insert="Insert",e.Paste="Paste",e.Redo="Redo",e.Undo="Undo",e.Accept="Accept",e.Again="Again",e.Attn="Attn",e.Cancel="Cancel",e.ContextMenu="ContextMenu",e.Escape="Escape",e.Execute="Execute",e.Find="Find",e.Finish="Finish",e.Help="Help",e.Pause="Pause",e.Play="Play",e.Props="Props",e.Select="Select",e.ZoomIn="ZoomIn",e.ZoomOut="ZoomOut",e.BrightnessDown="BrightnessDown",e.BrightnessUp="BrightnessUp",e.Eject="Eject",e.LogOff="LogOff",e.Power="Power",e.PowerOff="PowerOff",e.PrintScreen="PrintScreen",e.Hibernate="Hibernate",e.Standby="Standby",e.WakeUp="WakeUp",e.AllCandidates="AllCandidates",e.Alphanumeric="Alphanumeric",e.CodeInput="CodeInput",e.Compose="Compose",e.Convert="Convert",e.Dead="Dead",e.FinalMode="FinalMode",e.GroupFirst="GroupFirst",e.GroupLast="GroupLast",e.GroupNext="GroupNext",e.GroupPrevious="GroupPrevious",e.ModeChange="ModeChange",e.NextCandidate="NextCandidate",e.NonConvert="NonConvert",e.PreviousCandidate="PreviousCandidate",e.Process="Process",e.SingleCandidate="SingleCandidate",e.HangulMode="HangulMode",e.HanjaMode="HanjaMode",e.JunjaMode="JunjaMode",e.Eisu="Eisu",e.Hankaku="Hankaku",e.Hiragana="Hiragana",e.HiraganaKatakana="HiraganaKatakana",e.KanaMode="KanaMode",e.KanjiMode="KanjiMode",e.Katakana="Katakana",e.Romaji="Romaji",e.Zenkaku="Zenkaku",e.ZenkakuHanaku="ZenkakuHanaku",e.F1="F1",e.F2="F2",e.F3="F3",e.F4="F4",e.F5="F5",e.F6="F6",e.F7="F7",e.F8="F8",e.F9="F9",e.F10="F10",e.F11="F11",e.F12="F12",e.F13="F13",e.F14="F14",e.F15="F15",e.F16="F16",e.F17="F17",e.F18="F18",e.F19="F19",e.F20="F20",e.Soft1="Soft1",e.Soft2="Soft2",e.Soft3="Soft3",e.Soft4="Soft4",e.AppSwitch="AppSwitch",e.Call="Call",e.Camera="Camera",e.CameraFocus="CameraFocus",e.EndCall="EndCall",e.GoBack="GoBack",e.GoHome="GoHome",e.HeadsetHook="HeadsetHook",e.LastNumberRedial="LastNumberRedial",e.Notification="Notification",e.MannerMode="MannerMode",e.VoiceDial="VoiceDial",e.ChannelDown="ChannelDown",e.ChannelUp="ChannelUp",e.MediaFastForward="MediaFastForward",e.MediaPause="MediaPause",e.MediaPlay="MediaPlay",e.MediaPlayPause="MediaPlayPause",e.MediaRecord="MediaRecord",e.MediaRewind="MediaRewind",e.MediaStop="MediaStop",e.MediaTrackNext="MediaTrackNext",e.MediaTrackPrevious="MediaTrackPrevious",e.AudioBalanceLeft="AudioBalanceLeft",e.AudioBalanceRight="AudioBalanceRight",e.AudioBassDown="AudioBassDown",e.AudioBassBoostDown="AudioBassBoostDown",e.AudioBassBoostToggle="AudioBassBoostToggle",e.AudioBassBoostUp="AudioBassBoostUp",e.AudioBassUp="AudioBassUp",e.AudioFaderFront="AudioFaderFront",e.AudioFaderRear="AudioFaderRear",e.AudioSurroundModeNext="AudioSurroundModeNext",e.AudioTrebleDown="AudioTrebleDown",e.AudioTrebleUp="AudioTrebleUp",e.AudioVolumeDown="AudioVolumeDown",e.AudioVolumeMute="AudioVolumeMute",e.AudioVolumeUp="AudioVolumeUp",e.MicrophoneToggle="MicrophoneToggle",e.MicrophoneVolumeDown="MicrophoneVolumeDown",e.MicrophoneVolumeMute="MicrophoneVolumeMute",e.MicrophoneVolumeUp="MicrophoneVolumeUp",e.TV="TV",e.TV3DMode="TV3DMode",e.TVAntennaCable="TVAntennaCable",e.TVAudioDescription="TVAudioDescription",e.TVAudioDescriptionMixDown="TVAudioDescriptionMixDown",e.TVAudioDescriptionMixUp="TVAudioDescriptionMixUp",e.TVContentsMenu="TVContentsMenu",e.TVDataService="TVDataService",e.TVInput="TVInput",e.TVInputComponent1="TVInputComponent1",e.TVInputComponent2="TVInputComponent2",e.TVInputComposite1="TVInputComposite1",e.TVInputComposite2="TVInputComposite2",e.TVInputHDMI1="TVInputHDMI1",e.TVInputHDMI2="TVInputHDMI2",e.TVInputHDMI3="TVInputHDMI3",e.TVInputHDMI4="TVInputHDMI4",e.TVInputVGA1="TVInputVGA1",e.TVMediaContext="TVMediaContext",e.TVNetwork="TVNetwork",e.TVNumberEntry="TVNumberEntry",e.TVPower="TVPower",e.TVRadioService="TVRadioService",e.TVSatellite="TVSatellite",e.TVSatelliteBS="TVSatelliteBS",e.TVSatelliteCS="TVSatelliteCS",e.TVSatelliteToggle="TVSatelliteToggle",e.TVTerrestrialAnalog="TVTerrestrialAnalog",e.TVTerrestrialDigital="TVTerrestrialDigital",e.TVTimer="TVTimer",e.AVRInput="AVRInput",e.AVRPower="AVRPower",e.ColorF0Red="ColorF0Red",e.ColorF1Green="ColorF1Green",e.ColorF2Yellow="ColorF2Yellow",e.ColorF3Blue="ColorF3Blue",e.ColorF4Grey="ColorF4Grey",e.ColorF5Brown="ColorF5Brown",e.ClosedCaptionToggle="ClosedCaptionToggle",e.Dimmer="Dimmer",e.DisplaySwap="DisplaySwap",e.DVR="DVR",e.Exit="Exit",e.FavoriteClear0="FavoriteClear0",e.FavoriteClear1="FavoriteClear1",e.FavoriteClear2="FavoriteClear2",e.FavoriteClear3="FavoriteClear3",e.FavoriteRecall0="FavoriteRecall0",e.FavoriteRecall1="FavoriteRecall1",e.FavoriteRecall2="FavoriteRecall2",e.FavoriteRecall3="FavoriteRecall3",e.FavoriteStore0="FavoriteStore0",e.FavoriteStore1="FavoriteStore1",e.FavoriteStore2="FavoriteStore2",e.FavoriteStore3="FavoriteStore3",e.Guide="Guide",e.GuideNextDay="GuideNextDay",e.GuidePreviousDay="GuidePreviousDay",e.Info="Info",e.InstantReplay="InstantReplay",e.Link="Link",e.ListProgram="ListProgram",e.LiveContent="LiveContent",e.Lock="Lock",e.MediaApps="MediaApps",e.MediaAudioTrack="MediaAudioTrack",e.MediaLast="MediaLast",e.MediaSkipBackward="MediaSkipBackward",e.MediaSkipForward="MediaSkipForward",e.MediaStepBackward="MediaStepBackward",e.MediaStepForward="MediaStepForward",e.MediaTopMenu="MediaTopMenu",e.NavigateIn="NavigateIn",e.NavigateNext="NavigateNext",e.NavigateOut="NavigateOut",e.NavigatePrevious="NavigatePrevious",e.NextFavoriteChannel="NextFavoriteChannel",e.NextUserProfile="NextUserProfile",e.OnDemand="OnDemand",e.Pairing="Pairing",e.PinPDown="PinPDown",e.PinPMove="PinPMove",e.PinPToggle="PinPToggle",e.PinPUp="PinPUp",e.PlaySpeedDown="PlaySpeedDown",e.PlaySpeedReset="PlaySpeedReset",e.PlaySpeedUp="PlaySpeedUp",e.RandomToggle="RandomToggle",e.RcLowBattery="RcLowBattery",e.RecordSpeedNext="RecordSpeedNext",e.RfBypass="RfBypass",e.ScanChannelsToggle="ScanChannelsToggle",e.ScreenModeNext="ScreenModeNext",e.Settings="Settings",e.SplitScreenToggle="SplitScreenToggle",e.STBInput="STBInput",e.STBPower="STBPower",e.Subtitle="Subtitle",e.Teletext="Teletext",e.VideoModeNext="VideoModeNext",e.Wink="Wink",e.ZoomToggle="ZoomToggle",e.SpeechCorrectionList="SpeechCorrectionList",e.SpeechInputToggle="SpeechInputToggle",e.Close="Close",e.New="New",e.Open="Open",e.Print="Print",e.Save="Save",e.SpellCheck="SpellCheck",e.MailForward="MailForward",e.MailReply="MailReply",e.MailSend="MailSend",e.LaunchCalculator="LaunchCalculator",e.LaunchCalendar="LaunchCalendar",e.LaunchContacts="LaunchContacts",e.LaunchMail="LaunchMail",e.LaunchMediaPlayer="LaunchMediaPlayer",e.LaunchMusicPlayer="LaunchMusicPlayer",e.LaunchMyComputer="LaunchMyComputer",e.LaunchPhone="LaunchPhone",e.LaunchScreenSaver="LaunchScreenSaver",e.LaunchSpreadsheet="LaunchSpreadsheet",e.LaunchWebBrowser="LaunchWebBrowser",e.LaunchWebCam="LaunchWebCam",e.LaunchWordProcessor="LaunchWordProcessor",e.LaunchApplication1="LaunchApplication1",e.LaunchApplication2="LaunchApplication2",e.LaunchApplication3="LaunchApplication3",e.LaunchApplication4="LaunchApplication4",e.LaunchApplication5="LaunchApplication5",e.LaunchApplication6="LaunchApplication6",e.LaunchApplication7="LaunchApplication7",e.LaunchApplication8="LaunchApplication8",e.LaunchApplication9="LaunchApplication9",e.LaunchApplication10="LaunchApplication10",e.LaunchApplication11="LaunchApplication11",e.LaunchApplication12="LaunchApplication12",e.LaunchApplication13="LaunchApplication13",e.LaunchApplication14="LaunchApplication14",e.LaunchApplication15="LaunchApplication15",e.LaunchApplication16="LaunchApplication16",e.BrowserBack="BrowserBack",e.BrowserFavorites="BrowserFavorites",e.BrowserForward="BrowserForward",e.BrowserHome="BrowserHome",e.BrowserRefresh="BrowserRefresh",e.BrowserSearch="BrowserSearch",e.BrowserStop="BrowserStop",e.Decimal="Decimal",e.Key11="Key11",e.Key12="Key12",e.Multiply="Multiply",e.Add="Add",e.Divide="Divide",e.Subtract="Subtract",e.Separator="Separator"}(yD||(yD={})),function(e){e[e.ACCEPTED=202]="ACCEPTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.CONFLICT=409]="CONFLICT",e[e.CONTINUE=100]="CONTINUE",e[e.CREATED=201]="CREATED",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.GONE=410]="GONE",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",e[e.IM_A_TEAPOT=418]="IM_A_TEAPOT",e[e.INSUFFICIENT_SPACE_ON_RESOURCE=419]="INSUFFICIENT_SPACE_ON_RESOURCE",e[e.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.LOCKED=423]="LOCKED",e[e.METHOD_FAILURE=420]="METHOD_FAILURE",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.MOVED_TEMPORARILY=302]="MOVED_TEMPORARILY",e[e.MULTI_STATUS=207]="MULTI_STATUS",e[e.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",e[e.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.NOT_MODIFIED=304]="NOT_MODIFIED",e[e.OK=200]="OK",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",e[e.PROCESSING=102]="PROCESSING",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.REQUEST_TOO_LONG=413]="REQUEST_TOO_LONG",e[e.REQUEST_URI_TOO_LONG=414]="REQUEST_URI_TOO_LONG",e[e.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",e[e.RESET_CONTENT=205]="RESET_CONTENT",e[e.SEE_OTHER=303]="SEE_OTHER",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",e[e.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",e[e.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.USE_PROXY=305]="USE_PROXY"}(mD||(mD={})),function(e){e.ACCEPTED="Accepted",e.BAD_GATEWAY="Bad Gateway",e.BAD_REQUEST="Bad Request",e.CONFLICT="Conflict",e.CONTINUE="Continue",e.CREATED="Created",e.EXPECTATION_FAILED="Expectation Failed",e.FAILED_DEPENDENCY="Failed Dependency",e.FORBIDDEN="Forbidden",e.GATEWAY_TIMEOUT="Gateway Timeout",e.GONE="Gone",e.HTTP_VERSION_NOT_SUPPORTED="HTTP Version Not Supported",e.IM_A_TEAPOT="I'm a teapot",e.INSUFFICIENT_SPACE_ON_RESOURCE="Insufficient Space on Resource",e.INSUFFICIENT_STORAGE="Insufficient Storage",e.INTERNAL_SERVER_ERROR="Internal Server Error",e.LENGTH_REQUIRED="Length Required",e.LOCKED="Locked",e.METHOD_FAILURE="Method Failure",e.METHOD_NOT_ALLOWED="Method Not Allowed",e.MOVED_PERMANENTLY="Moved Permanently",e.MOVED_TEMPORARILY="Moved Temporarily",e.MULTI_STATUS="Multi-Status",e.MULTIPLE_CHOICES="Multiple Choices",e.NETWORK_AUTHENTICATION_REQUIRED="Network Authentication Required",e.NO_CONTENT="No Content",e.NON_AUTHORITATIVE_INFORMATION="Non Authoritative Information",e.NOT_ACCEPTABLE="Not Acceptable",e.NOT_FOUND="Not Found",e.NOT_IMPLEMENTED="Not Implemented",e.NOT_MODIFIED="Not Modified",e.OK="OK",e.PARTIAL_CONTENT="Partial Content",e.PAYMENT_REQUIRED="Payment Required",e.PERMANENT_REDIRECT="Permanent Redirect",e.PRECONDITION_FAILED="Precondition Failed",e.PRECONDITION_REQUIRED="Precondition Required",e.PROCESSING="Processing",e.PROXY_AUTHENTICATION_REQUIRED="Proxy Authentication Required",e.REQUEST_HEADER_FIELDS_TOO_LARGE="Request Header Fields Too Large",e.REQUEST_TIMEOUT="Request Timeout",e.REQUEST_TOO_LONG="Request Entity Too Large",e.REQUEST_URI_TOO_LONG="Request-URI Too Long",e.REQUESTED_RANGE_NOT_SATISFIABLE="Requested Range Not Satisfiable",e.RESET_CONTENT="Reset Content",e.SEE_OTHER="See Other",e.SERVICE_UNAVAILABLE="Service Unavailable",e.SWITCHING_PROTOCOLS="Switching Protocols",e.TEMPORARY_REDIRECT="Temporary Redirect",e.TOO_MANY_REQUESTS="Too Many Requests",e.UNAUTHORIZED="Unauthorized",e.UNAVAILABLE_FOR_LEGAL_REASONS="Unavailable For Legal Reasons",e.UNPROCESSABLE_ENTITY="Unprocessable Entity",e.UNSUPPORTED_MEDIA_TYPE="Unsupported Media Type",e.USE_PROXY="Use Proxy"}(gD||(gD={})),function(e){e.CONNECT="CONNECT",e.DELETE="DELETE",e.GET="GET",e.HEAD="HEAD",e.OPTIONS="OPTIONS",e.PATCH="PATCH",e.POST="POST",e.PUT="PUT",e.TRACE="TRACE"}(ED||(ED={})),function(e){e.withPlus="withPlus",e.withoutPlus="withoutPlus"}(bD||(bD={})),function(e){e.processFailure="processFailure",e.unretriableFailure="unretriableFailure",e.maxAttemptsReached="maxAttemptsReached"}(SD||(SD={}));for(var wD=[],ND=0;ND<256;++ND)wD.push((ND+256).toString(16).substr(1));var OD="RelativeTimeFormat"in Intl,LD=["lookup","best fit"],DD=["long","short","narrow"],RD=["always","auto"],kD=["second","minute","hour","day","week","month","quarter","year"];function PD(e){if(null==e)throw new TypeError("Argument ".concat(e," cannot be converted to an Object"));return"boolean"==typeof e?new Boolean(e):"number"==typeof e?new Number(e):"string"==typeof e?new String(e):"symbol"==dN(e)?new Object(e):e}function xD(e){return e+""}var MD,UD=/-u(?:-[0-9a-z]{2,8})+/gi;function VD(e){return e.replace(UD,"")}function FD(e,t){if(2!==t.length)throw new TypeError("Could not get UnicodeExtensionValue: The given key: '".concat(t,"' must have a length of 2"));var n=t.length,r="-".concat(t,"-"),a=String.prototype.indexOf.call(e,r);if(-1!==a){for(var i=a+4,o=i,u=i,l=!1;!l;){var c=String.prototype.indexOf.call(e,"-",u);2==(-1===c?n-u:c-u)?l=!0:-1===c?(o=n,l=!0):(o=c,u=c+1)}return e.slice(i,o)}if(r="-".concat(t),-1!==(a=String.prototype.indexOf.call(e,r))&&a+3===n)return""}function jD(e,t){for(var n=t;;){if(e.includes(n))return n;var r=n.lastIndexOf("-");if(-1===r)return;r>=2&&"-"===n.charAt(r-2)&&(r-=2),n=n.slice(0,r)}}function WD(e){var t,n=e.availableLocales,r={},a=vN(e.requestedLocales);try{for(a.s();!(t=a.n()).done;){var i=t.value,o=VD(i),u=jD(n,o);if(void 0!==u){if(r.locale=u,i!==o){var l=i.match(UD);r.extension=null==l?"":l[0]}return r}}}catch(e){a.e(e)}finally{a.f()}var c=function(){if(null==MD)throw new ReferenceError("Could not determine locale: No default locale has been configured");return MD}();return r.locale=c,r}function GD(e){return"[object Object]"===Object.prototype.toString.call(e)}function HD(e,t){return dN(e)==dN(t)&&("number"==typeof e?!(!isNaN(e)||!isNaN(t))||(!Object.is(e,0)||!Object.is(t,-0))&&e===t:function(e,t){if("number"==typeof e)throw new TypeError("First argument 'x' must not be a number");if(dN(e)!=dN(t))throw new TypeError("The given arguments must have the same type");return null==e||("string"==typeof e||"boolean"==typeof e?e===t:"symbol"==dN(e)?e.valueOf()===t.valueOf():e===t)}(e,t))}function BD(e,t){var n,r=[],a=vN(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;void 0!==jD(e,VD(i))&&r.push(i)}}catch(e){a.e(e)}finally{a.f()}return r}function zD(e,t,n,r,a){var i=function(e,t){if("object"!=dN(e))throw new TypeError("Given argument ".concat(e," must be of type Object"));if("string"!=typeof(n=t)&&"symbol"!=dN(n))throw new TypeError("Given argument ".concat(t," must be a PropertyKey"));var n;return e[t]}(e,t);if(void 0!==i){if("boolean"!==n&&"string"!==n)throw new TypeError("Expected type ".concat(n," to be 'boolean' or 'string"));if("boolean"===n&&(i=Boolean(i)),"string"===n&&(i=xD(i)),void 0!==r&&!r.includes(i))throw new RangeError("Value ".concat(i," out of range for options property ").concat(t));return i}return a}var qD=new WeakMap,ZD={relevantExtensionKeys:["nu"],localeData:{},availableLocales:[]};function KD(e,t,n){var r=qD.get(e);null==r&&(r=Object.create(null),qD.set(e,r)),r[t]=n}function YD(e,t){var n=qD.get(e);if(null==n)throw new ReferenceError("No internal slots has been allocated for the given instance of RelativeTimeFormat");return n[t]}function JD(e,t){var n=qD.get(e);return null!=n&&t in n}function XD(e,t,n){if(!JD(e,"initializedRelativeTimeFormat"))throw new TypeError("Internal function called on incompatible receiver ".concat(e.toString()));if("number"!=typeof t)throw new TypeError("Argument: 'value' must be a number");if("string"!=typeof n)throw new TypeError("Argument: 'unit' must be a string");if(isNaN(t)||t===1/0||t===-1/0)throw new RangeError("Value need to be finite number");n=function(e){if("string"!=typeof e)throw new TypeError("unit: '".concat(e,"' must be a string"));if("seconds"===e)return"second";if("minutes"===e)return"minute";if("hours"===e)return"hour";if("days"===e)return"day";if("weeks"===e)return"week";if("months"===e)return"month";if("quarters"===e)return"quarter";if("years"===e)return"year";if(!kD.some((function(t){return t===e})))throw new RangeError("Unit: '".concat(e,"' must be one of: ").concat(kD.map((function(e){return'"'.concat(e,'"')})).join(", ")));return e}(n);var r=YD(e,"fields"),a=YD(e,"style"),i="short"===a?"".concat(n,"-short"):"narrow"===a?"".concat(n,"-narrow"):n,o=i in r;o||(i=n);var u=r[i];if(null==u)throw new TypeError("Could not match entry: '".concat(i,"' inside fields for locale: '").concat(YD(e,"locale"),"'"));if("auto"===YD(e,"numeric")&&(o=xD(t)in u))return[{type:"literal",value:u[xD(t)]}];var l=u[Object.is(t,-0)||t<0?"past":"future"],c=YD(e,"numberFormat").formatToParts(Math.abs(t)),s=function(e,t){if(!JD(e,"pluralRules"))throw new TypeError("Given instance of of Intl.RelativeTimeFormat must have an [[InitializedPluralRules]] internal slot");if("number"!=typeof t)throw new TypeError("Argument 'n' must be a number");return isFinite(t)?YD(e,"pluralRules").select(t):"other"}(e,t);return function(e,t,n){for(var r=[],a=String.prototype.indexOf.call(e,"{",0),i=0,o=0,u=e.length;void 0!==e[a];){if(-1===(i=String.prototype.indexOf.call(e,"}",a)))throw new RangeError("The pattern: '".concat(e,"' is malformed"));if(a>o){var l=e.slice(o,a);r.push({type:"literal",value:l})}var c=e.slice(a+1,i);if("0"!==c)throw new TypeError("Expected ".concat(c,' to be "0"'));var s,d=vN(n);try{for(d.s();!(s=d.n()).done;){var f=s.value;"literal"===f.type?r.push(pN(pN({},f),{},{type:f.type})):r.push(pN(pN({},f),{},{unit:t}))}}catch(e){d.e(e)}finally{d.f()}o=i+1,a=String.prototype.indexOf.call(e,"{",o)}if(o<u){var p=e.slice(o,u);r.push({type:"literal",value:p})}return r}(l[s],n,c)}function QD(e){return Number(e)}var $D=function(){function e(){eN(this,e);var t=arguments[0],n=arguments[1];if(void 0===(this instanceof e?this.constructor:void 0))throw new TypeError("Constructor Intl.RelativeTimeFormat requires 'new'");var r=Intl.getCanonicalLocales(t);n=void 0===n?Object.create(null):PD(n);var a=Object.create(null),i=zD(n,"localeMatcher","string",LD,"best fit");a.localeMatcher=i;var o=ZD.localeData,u=function(e,t,n,r,a){var i="lookup"===n.localeMatcher?WD({availableLocales:e,requestedLocales:t}):function(e){return WD(e)}({availableLocales:e,requestedLocales:t}),o=i.locale,u={};u.dataLocale=o;var l,c,s="-u",d=vN(r);try{for(d.s();!(l=d.n()).done;){var f=l.value,p=a[o];if(!GD(p))throw new TypeError("LocaleData for locale: '".concat(o,"' must be an object"));var h=p[f];if(c=h,!Array.isArray(c)&&!GD(c))throw new TypeError("key: '".concat(f,"' in LocaleData for locale: '").concat(o,"' must be indexable"));var v=h[0];if("string"!=typeof v&&null!==v)throw new TypeError("value: '".concat(v,"' for key: '").concat(f,"' in LocaleData for locale: '").concat(o,"' must be a string or null"));var y="";if("extension"in i){var m=FD(i.extension,f);void 0!==m&&(""!==m?h.includes(m)&&(v=m,y="-".concat(f,"-").concat(v)):h.includes("true")&&(v="true"))}if("key"in n){var g=n.key;if("string"!=typeof g&&null!=g)throw new TypeError("options value: '".concat(g,"' must be a string, undefined, or null"));void 0!==g&&h.includes(g)&&(HD(g,v)||(v=g,y=""))}u[f]=v,s+=y}}catch(e){d.e(e)}finally{d.f()}if(s.length>2){var E=String.prototype.indexOf.call(o,"-x-");if(-1===E)o="".concat(o).concat(s);else{var b=o.slice(0,E),S=o.slice(E);o="".concat(b).concat(s).concat(S)}o=Intl.getCanonicalLocales(o)[0]}return u.locale=o,u}(ZD.availableLocales,r,a,ZD.relevantExtensionKeys,o),l=u.locale;KD(this,"locale",l),KD(this,"numberingSystem",u.nu);var c=u.dataLocale;KD(this,"style",zD(n,"style","string",DD,"long")),KD(this,"numeric",zD(n,"numeric","string",RD,"always"));var s=o[c];if(!(s instanceof Object))throw new TypeError("Expected the LocaleDataEntry for locale: '".concat(c,"' to be an Object"));KD(this,"fields",s),KD(this,"numberFormat",new Intl.NumberFormat(l)),KD(this,"pluralRules",new Intl.PluralRules(l)),KD(this,"initializedRelativeTimeFormat",this)}return nN(e,[{key:"format",value:function(e,t){var n=this;if(!(n instanceof Object))throw new TypeError("Method Intl.RelativeTimeFormat.prototype.format called on incompatible receiver ".concat(this.toString()));if(!JD(n,"initializedRelativeTimeFormat"))throw new TypeError("Method Intl.RelativeTimeFormat.prototype.format called on incompatible receiver ".concat(this.toString()));return function(e,t,n){var r,a="",i=vN(XD(e,t,n));try{for(i.s();!(r=i.n()).done;){a+=r.value.value}}catch(e){i.e(e)}finally{i.f()}return a}(n,e=QD(e),t=xD(t))}},{key:"formatToParts",value:function(e,t){var n=this;if(!(n instanceof Object))throw new TypeError("Method Intl.RelativeTimeFormat.prototype.formatToParts called on incompatible receiver ".concat(this.toString()));if(!JD(n,"initializedRelativeTimeFormat"))throw new TypeError("Method Intl.RelativeTimeFormat.prototype.formatToParts called on incompatible receiver ".concat(this.toString()));return function(e,t,n){return XD(e,t,n)}(n,e=QD(e),t=xD(t))}},{key:"resolvedOptions",value:function(){if(!(this instanceof Object))throw new TypeError("Method Intl.RelativeTimeFormat.prototype.resolvedOptions called on incompatible receiver ".concat(this.toString()));if(!JD(this,"initializedRelativeTimeFormat"))throw new TypeError("Method Intl.RelativeTimeFormat.prototype.resolvedOptions called on incompatible receiver ".concat(this.toString()));return{locale:YD(this,"locale"),style:YD(this,"style"),numeric:YD(this,"numeric"),numberingSystem:YD(this,"numberingSystem")}}}],[{key:"supportedLocalesOf",value:function(e){var t=arguments[1];return function(e,t,n){return"best fit"===(void 0!==n?zD(n=PD(n),"localeMatcher","string",LD,"best fit"):"best fit")?function(e,t){return BD(e,t)}(e,t):BD(e,t)}(ZD.availableLocales,Intl.getCanonicalLocales(e),t)}},{key:"__addLocaleData",value:function(e){var t=e.data,n=e.locale;null==MD&&function(e){MD=e}(n),ZD.localeData[n]=t,ZD.availableLocales.includes(n)||ZD.availableLocales.push(n)}}]),e}();Object.defineProperty($D.prototype,Symbol.toStringTag,{writable:!1,enumerable:!1,value:"Intl.RelativeTimeFormat",configurable:!0}),OD||function(){if("undefined"==typeof Intl)throw new TypeError("Could not define Intl.RelativeTimeFormat: Expected 'Intl' to exist. Remember to include polyfills for Intl.NumberFormat, Intl.getCanonicalLocales, and Intl.PluralRules before applying this polyfill");Intl.RelativeTimeFormat=$D}();var eR=Object.freeze({__proto__:null});"__addLocaleData"in Intl.RelativeTimeFormat&&Intl.RelativeTimeFormat.__addLocaleData({locale:"en",data:{year:{0:"this year",1:"next year","-1":"last year",future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}},"year-short":{0:"this yr.",1:"next yr.","-1":"last yr.",future:{one:"in {0} yr.",other:"in {0} yr."},past:{one:"{0} yr. ago",other:"{0} yr. ago"}},quarter:{0:"this quarter",1:"next quarter","-1":"last quarter",future:{one:"in {0} quarter",other:"in {0} quarters"},past:{one:"{0} quarter ago",other:"{0} quarters ago"}},"quarter-short":{0:"this qtr.",1:"next qtr.","-1":"last qtr.",future:{one:"in {0} qtr.",other:"in {0} qtrs."},past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"}},month:{0:"this month",1:"next month","-1":"last month",future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}},"month-short":{0:"this mo.",1:"next mo.","-1":"last mo.",future:{one:"in {0} mo.",other:"in {0} mo."},past:{one:"{0} mo. ago",other:"{0} mo. ago"}},week:{0:"this week",1:"next week","-1":"last week",future:{one:"in {0} week",other:"in {0} weeks"},past:{one:"{0} week ago",other:"{0} weeks ago"}},"week-short":{0:"this wk.",1:"next wk.","-1":"last wk.",future:{one:"in {0} wk.",other:"in {0} wk."},past:{one:"{0} wk. ago",other:"{0} wk. ago"}},day:{0:"today",1:"tomorrow","-1":"yesterday",future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}},"day-short":{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}},hour:{0:"this hour",future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}},"hour-short":{future:{one:"in {0} hr.",other:"in {0} hr."},past:{one:"{0} hr. ago",other:"{0} hr. ago"}},minute:{0:"this minute",future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}},"minute-short":{future:{one:"in {0} min.",other:"in {0} min."},past:{one:"{0} min. ago",other:"{0} min. ago"}},second:{0:"now",future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}},"second-short":{0:"now",future:{one:"in {0} sec.",other:"in {0} sec."},past:{one:"{0} sec. ago",other:"{0} sec. ago"}},nu:["latn"]}});var tR,nR=Object.freeze({__proto__:null});!function(e){e.EventGeneric="event_generic"}(tR||(tR={}));var rR="Success",aR="ParseFailure",iR="RenderFailure",oR="ContinueFailure",uR="johto",lR="unknown",cR=new Yw(new Aw({basePath:"".concat(OO(),"/account-security-service"),genericChallengeMiddlewareType:"native",credentials:"include"})),sR=function(e){EO((function(){return cR.recordMetric({recordMetricRequest:{name:tR.EventGeneric,value:1,labelValues:{event_type:rR,challenge_type:e}}})}),(function(e){return e}))()},dR=function(e){EO((function(){return cR.recordMetric({recordMetricRequest:{name:tR.EventGeneric,value:1,labelValues:{event_type:aR,challenge_type:e}}})}),(function(e){return e}))()},fR=function(e){EO((function(){return cR.recordMetric({recordMetricRequest:{name:tR.EventGeneric,value:1,labelValues:{event_type:oR,challenge_type:e}}})}),(function(e){return e}))()},pR=function(e,t){var n,r,a=(null===(r=null===(n=window.Roblox)||void 0===n?void 0:n.CurrentUser)||void 0===r?void 0:r.userId)||TO.pipe(AD("RBXEventTrackerV2")||AD("RBXEventTracker"),rO,eO((function(e){return TO.pipe(e.match(/browserid=([^&]*)/i),rO,$N((function(e){return e.length<2?lR:e[1]})))})),nO((function(){return lR})));EO((function(){return cR.recordMetric({recordMetricRequest:{name:e,value:1,labelValues:t,identifier:a}})}),(function(e){return e}))()},hR=new Vw(new Aw({basePath:"".concat(OO(),"/rotating-client-service"),genericChallengeMiddlewareType:"native",credentials:"include"})),vR={signingKeys:XN,publicKeySerialized:XN};CN(void 0,void 0,void 0,(function(){var e,t,n,r,a,i;return _N(this,(function(o){switch(o.label){case 0:return[4,CN(void 0,void 0,void 0,(function(){var e,t,n;return _N(this,(function(r){switch(r.label){case 0:return[4,EO((function(){return window.crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign","verify"])}),(function(e){return e}))()];case 1:return e=r.sent(),uO(e)?(pR(uR,{shuckle:"isATurtle"}),[2,aO(null)]):[4,EO((function(){return window.crypto.subtle.exportKey("spki",e.right.publicKey)}),(function(e){return e}))()];case 2:return t=r.sent(),uO(t)?(pR(uR,{slugma:"beLava"}),[2,aO(null)]):(n=btoa(new Uint8Array(t.right).reduce((function(e,t){return e+String.fromCharCode(t)}),"")),[2,iO({publicKeySerialized:n,keyPair:e.right})])}}))}))];case 1:return e=o.sent(),uO(e)||(t=e.right,n=t.publicKeySerialized,r=t.keyPair,vR.signingKeys=QN(r),vR.publicKeySerialized=QN(n),null===(i=null===(a=window.prelude)||void 0===a?void 0:a.registerPublicKey)||void 0===i||i.call(a,n)),[2]}}))}));var yR,mR=function(e,t,n){return CN(void 0,void 0,void 0,(function(){var r,a,i,o,u;return _N(this,(function(l){switch(l.label){case 0:return r=rO(n),tO(r)?(pR(uR,{chikorita:"isCool"}),[2,!1]):0===r.value.length?[2,!1]:(a=function(n){return function(){return t.challengeFetch({identifier:n,challengeId:e})}},i=_O((function(e){return EO(e,(function(e){return console.error(e instanceof Error?e.message:JSON.stringify(e))}))})),o=function(e){return e.map((function(e){return lO((function(){return atob(e)}),(function(e){return console.error(e instanceof Error?e.message:JSON.stringify(e))}))}))},[4,TO.pipe(r.value,(function(e){return e.map(a)}),i,bO(o))()]);case 1:return u=l.sent(),uO(u)?(pR(uR,{totodile:"isCute"}),[2,!1]):[2,u.right.map((function(e){if(uO(e))return!1;var t=document.createElement("script");return t.innerHTML=e.right,document.body.append(t),!0})).reduce((function(e,t){return e&&t}),!!n)]}}))}))},gR=function(e){return CN(void 0,[e],void 0,(function(e){var t=e.challengeBaseProperties,n=e.challengeSpecificProperties;return _N(this,(function(e){return[2,TO.pipe(EO((function(){switch(n.challengeType){case BN.CHEF:var e=n.challengeMetadata;return function(e){return CN(void 0,[e],void 0,(function(e){var t,n,r,a=e.userId,i=e.challengeId,o=e.contentInlineBase64,u=e.expectedSymbols,l=e.scriptIdentifiers,c=e.onChallengeCompleted,s=e.onChallengeInvalidated;return _N(this,(function(e){switch(e.label){case 0:return u.reduce((function(e,t){return e||!(t in window)}),!1)?(pR(uR,{pichu:"isSmol"}),s({challengeType:BN.CHEF,errorCode:jN.ErrorCode.FAILED_MIREPOIX,errorMessage:"Burnt the mirepoix :/."}),[2,!1]):[4,mR(i,hR,l)];case 1:return t=e.sent(),n=function(e,t){return function(n){return n?t():e()}}((function(){return function(e){return CN(void 0,void 0,void 0,(function(){var t,n;return _N(this,(function(r){return t=lO((function(){return atob(e)}),(function(e){return e})),uO(t)?(pR(uR,{cyndaquil:"isSleepy"}),[2,!1]):((n=document.createElement("script")).innerHTML=t.right,document.body.append(n),[2,!0])}))}))}(o)}),(function(){return CN(void 0,void 0,void 0,(function(){return _N(this,(function(e){return[2,t]}))}))}))(t),[4,n];case 2:return e.sent()?(r=window,[2,TO.pipe(_O((function(e){var t=r[e];return EO((function(){return CN(void 0,void 0,void 0,(function(){var n;return _N(this,(function(r){switch(r.label){case 0:return[4,TO.pipe(vR.signingKeys,$N((function(t){return n=t,r={userId:a,challengeId:i,expectedSymbol:e},CN(void 0,void 0,void 0,(function(){var e,t;return _N(this,(function(a){switch(a.label){case 0:return e=(new TextEncoder).encode(JSON.stringify(r)),[4,EO((function(){return window.crypto.subtle.sign({name:"ECDSA",hash:{name:"SHA-256"}},n.privateKey,e)}),(function(e){return e}))()];case 1:return t=a.sent(),uO(t)?(pR(uR,{porygon:"aShape"}),[2,aO("")]):[2,iO(btoa(new Uint8Array(t.right).reduce((function(e,t){return e+String.fromCharCode(t)}),"")))]}}))}));var n,r})),nO((function(){return Promise.resolve(aO(""))})))];case 1:return n=r.sent(),[2,t({userId:a,challengeId:i,expectedSymbol:e,rcsClient:hR,signature:uO(n)?"":n.right,publicKey:nO((function(){return""}))(vR.publicKeySerialized)})]}}))}))}),(function(e){return e}))}))(u),SO((function(e){return pR(uR,{hooh:"isFlying"}),s({challengeType:BN.CHEF,errorCode:jN.ErrorCode.FAILED_SIMMER,errorMessage:"Simmer was too short!"}),!1}),(function(){return c({challengeType:BN.CHEF,metadata:{userId:a,challengeId:i}}),pR(uR,{lugia:"isAwesome"}),!0})),gO((function(e){return fO(e)})))()]):(pR(uR,{wooper:"isWoopin"}),s({challengeType:BN.CHEF,errorCode:jN.ErrorCode.FAILED_PREP,errorMessage:"Could not prep the cook successfully"}),[2,!1])}}))}))}(SN(SN(SN({},t),e),{onChallengeInvalidated:function(e){return t.onChallengeInvalidated(SN({},e))},onChallengeCompleted:function(e){return t.onChallengeCompleted(SN({},e))}}));case BN.UNKNOWN:return Promise.resolve(!0);default:return Promise.resolve(!1)}}),(function(e){return console.error(RO,"Failed to render challenge due to: ".concat(JSON.stringify(e instanceof Error?e.message:e))),e})),gO((function(){return fO(!1)})))()]}))}))},ER=function(e){var t=e.containerId,n=e.challengeTypeRaw,r="".concat(t,"-").concat(n);if(null===document.getElementById(r)){var a=document.createElement("div");a.id=r,document.body.appendChild(a)}return r},bR=new Lw(new Aw({basePath:"".concat(OO(),"/challenge"),genericChallengeMiddlewareType:"native",credentials:"include"})),SR=function e(t){var n=t.challengeBaseProperties,r=t.challengeSpecificProperties,a=r.challengeMetadata.sharedParameters,i=r.challengeType,o=n.onChallengeCompleted;return function(t){return CN(void 0,void 0,void 0,(function(){var u,l;return _N(this,(function(c){switch(c.label){case 0:return u=EO((function(){return bR._continue({continueRequest:{challengeID:(null==a?void 0:a.genericChallengeId)||r.challengeId,challengeType:t.challengeType,challengeMetadata:JSON.stringify(t.metadata)}})}),(function(e){return e instanceof Error?e.message:JSON.stringify(e)})),l=function(r){return CN(void 0,void 0,void 0,(function(){var a,u,l,c,s,d,f,p;return _N(this,(function(h){switch(h.label){case 0:return r.challengeType?LO(r.challengeType)?(u=TD(null!==(d=r.challengeId)&&void 0!==d?d:"",r.challengeType,null!==(f=r.challengeMetadata)&&void 0!==f?f:""),tO(u)?(dR(r.challengeType),n.onChallengeInvalidated({challengeType:i,errorCode:GN.UNKNOWN,errorMessage:""}),[2]):(l=e({challengeBaseProperties:n,challengeSpecificProperties:u.value}),ER({containerId:n.containerId,challengeTypeRaw:null!==(p=r.challengeType)&&void 0!==p?p:""}),[4,gR({challengeBaseProperties:SN(SN({},n),{onChallengeCompleted:l}),challengeSpecificProperties:SN({},u.value)})])):n.legacyGenericRender?(a=r.challengeType,n.legacyGenericRender({challengeBaseProperties:n,challengeSpecificProperties:{challengeId:null!==(c=r.challengeId)&&void 0!==c?c:"",challengeType:a,challengeMetadata:JSON.parse(null!==(s=r.challengeMetadata)&&void 0!==s?s:"")}}).then((function(e){return e&&sR(a)}),(function(){return fR(a)})),[2]):(console.warn("[new middleware] legacy challenge type found but no fallback registered!"),n.onChallengeInvalidated({challengeType:r.challengeType,errorCode:GN.UNKNOWN,errorMessage:"Subsequent challenges failed!"}),[2]):(o(t),[2]);case 1:return h.sent()?sR(r.challengeType):(function(e){EO((function(){return cR.recordMetric({recordMetricRequest:{name:tR.EventGeneric,value:1,labelValues:{event_type:iR,challenge_type:e}}})}),(function(e){return e}))()}(r.challengeType),n.onChallengeInvalidated({challengeType:r.challengeType,errorCode:GN.UNKNOWN,errorMessage:"Subsequent challenges failed!"})),[2]}}))}))},[4,TO.pipe(u,SO((function(e){fR(i),n.onChallengeInvalidated({challengeType:i,errorCode:GN.UNKNOWN,errorMessage:"Unable to continue challenge due to: ".concat(e)})}),(function(e){return l(e)})))()];case 1:return c.sent(),[2]}}))}))}},CR=function(e,t){return function(n){return n?t():e()}},_R=n(375),IR="Hybrid Wrapper:";!function(e){e.ACTION_TYPE="action-type",e.ALLOW_REMEMBER_DEVICE="allow-remember-device",e.APP_TYPE="app-type",e.BARISTA_MODE="barista-mode",e.CAPTCHA_ID="captcha-id",e.CHALLENGE_ID="challenge-id",e.CHALLENGE_METADATA_JSON="challenge-metadata-json",e.CHALLENGE_TYPE="challenge-type",e.DARK_MODE="dark-mode",e.DATA_EXCHANGE_BLOB="data-exchange-blob",e.GENERIC_CHALLENGE_TYPE="generic-challenge-type",e.INTEGRITY_TYPE="integrity-type",e.REQUEST_HASH="request-hash",e.PROOF_OF_SPACE_ARTIFACTS="proof-of-space-artifacts",e.PUZZLE_TYPE="puzzle-type",e.SESSION_ID="session-id",e.USER_ID="user-id",e.DEFAULT_TYPE="default-type",e.AVAILABLE_TYPES="available-types",e.DEFAULT_TYPE_METADATA_JSON="default-type-metadata-json",e.GENERIC_CHALLENGE_ID="generic-challenge-id",e.ORIGIN="origin",e.BIOMETRIC_TYPE="biometric-type"}(yR||(yR={}));var TR=oA({challengeType:sA((function(e){return"string"==typeof e?e.replace(/-/g,""):e}),uA([cA(Nv),lA("generic")])),darkMode:uA([lA("false"),lA("true")]).default("false").transform((function(e){return"true"===e})),appType:rA().default("unknown"),baristaMode:uA([lA("false"),lA("true")]).default("false").transform((function(e){return"true"===e})),origin:rA().default("")}),AR=oA({actionType:cA(Ed),dataExchangeBlob:rA(),unifiedCaptchaId:rA()}),wR=oA({userId:rA(),challengeId:rA(),actionType:cA(Tv),allowRememberDevice:uA([lA("false"),lA("true")]).transform((function(e){return"true"===e}))}),NR=oA({userId:rA(),sessionId:rA()}),OR=oA({sessionId:rA()}),LR=oA({challengeId:rA(),puzzleType:cA(_v)}),DR=oA({challengeId:rA()}),RR=oA({challengeId:rA(),integrityType:rA(),requestHash:rA()}),kR=oA({challengeId:rA(),biometricType:rA()}),PR=oA({challengeId:rA(),artifacts:oA({puzzleType:cA(bv),seed:rA(),rounds:rA(),layers:rA()})}),xR=oA({challengeId:rA().default(""),challengeType:uA([cA(Ff),cA(Nv)]),challengeMetadataJson:rA()}),MR=function(){var e=pi.UrlParser.getParametersAsObject(),t={challengeId:e[yR.GENERIC_CHALLENGE_ID],challengeType:e[yR.GENERIC_CHALLENGE_TYPE],challengeMetadataJson:e[yR.CHALLENGE_METADATA_JSON]},n=xR.safeParse(t);if(!n.success)return console.error(IR,n.error),null;var r=n.data,a=r.challengeId,i=r.challengeType,o=function(e){var t=e.replace(/[^A-Za-z0-9-_]/g,""),n=kl.fido2Util.base64UrlStringToBase64String(t);try{return atob(n)}catch(e){if(e instanceof DOMException&&e.code===DOMException.INVALID_CHARACTER_ERR)return console.error(IR,"Base-64 decoding failed",e),null;throw e}}(r.challengeMetadataJson);return null===o?null:(0,_R.pipe)(PA(a,i,o),Hh,Vh((function(){return TD(a,i,o)})),Wh((function(){return null})))},UR=function(){return UR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},UR.apply(this,arguments)},VR=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},FR=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},jR="light-theme",WR="dark-theme",GR=function(e,t,n){if(window.parent){var r=pi.EnvironmentUrls.domain?"https://"+n+"."+(pi.EnvironmentUrls.domain.includes("sitetest")?"robloxlabs.com":"roblox.com"):"URL_NOT_FOUND";window.parent.postMessage({genericChallengeResponse:{type:e,data:t}},r)}},HR=function(e,t,n,r){var a,i;console.log(IR,"Sending hybrid call:",t," to origin: ",r),null===(i=null===pi.Hybrid||void 0===pi.Hybrid?void 0:pi.Hybrid.Navigation)||void 0===i||i.navigateToFeature(((a={}).feature=t,a.data=n,a),(function(){return console.log(IR,"Sent hybrid call:",t)}));var o=e[t],u=document.getElementById(o);if(null!==u&&"INPUT"===u.tagName){u.value=JSON.stringify(n);var l=document.createEvent("HTMLEvents");l.initEvent("callbackInputChanged",!1,!1),u.dispatchEvent(l)}try{r&&GR(t,n,r)}catch(e){console.error(IR,e)}},BR=function(e,t,n){return VR(void 0,void 0,Promise,(function(){var r,a,i,o;return FR(this,(function(u){switch(u.label){case 0:return r=function(){var e=pi.UrlParser.getParametersAsObject(),t={actionType:e[yR.ACTION_TYPE],dataExchangeBlob:e[yR.DATA_EXCHANGE_BLOB],unifiedCaptchaId:e[yR.CAPTCHA_ID]},n=AR.safeParse(t);return n.success?n.data:(console.error(IR,n.error),null)}(),null===r?(HR(t,mv.CHALLENGE_PARSED,{parsed:!1}),[2,!1]):(HR(t,mv.CHALLENGE_PARSED,{parsed:!0}),a=r.actionType,i=r.dataExchangeBlob,o=r.unifiedCaptchaId,[4,qd({containerId:e,actionType:a,appType:n,dataExchangeBlob:i,unifiedCaptchaId:o,renderInline:!0,onChallengeDisplayed:function(e){return HR(t,mv.CHALLENGE_DISPLAYED,e)},onChallengeCompleted:function(e){return HR(t,mv.CHALLENGE_COMPLETED,e)},onChallengeInvalidated:function(e){return HR(t,mv.CHALLENGE_INVALIDATED,e)},onModalChallengeAbandoned:null})]);case 1:return!1===u.sent()?(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!1}),[2,!1]):(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!0}),[2,!0])}}))}))},zR=function(e,t,n){var r=function(){var e=pi.UrlParser.getParametersAsObject(),t={userId:e[yR.USER_ID],challengeId:e[yR.CHALLENGE_ID],actionType:e[yR.ACTION_TYPE],allowRememberDevice:e[yR.ALLOW_REMEMBER_DEVICE]},n=wR.safeParse(t);return n.success?n.data:(console.error(IR,n.error),null)}();if(null===r)return HR(t,mv.CHALLENGE_PARSED,{parsed:!1}),!1;HR(t,mv.CHALLENGE_PARSED,{parsed:!0});var a=r.userId,i=r.challengeId,o=r.actionType,u=r.allowRememberDevice;return!1===PE({containerId:e,userId:a,challengeId:i,actionType:o,appType:n,renderInline:!0,shouldModifyBrowserHistory:!0,shouldShowRememberDeviceCheckbox:u,onChallengeCompleted:function(e){return HR(t,mv.CHALLENGE_COMPLETED,e)},onChallengeInvalidated:function(e){return HR(t,mv.CHALLENGE_INVALIDATED,e)},onModalChallengeAbandoned:null})?(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!1}),!1):(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!0}),HR(t,mv.CHALLENGE_DISPLAYED,{displayed:!0}),!0)},qR=function(e,t,n){var r=function(){var e=pi.UrlParser.getParametersAsObject(),t={userId:e[yR.USER_ID],sessionId:e[yR.SESSION_ID]},n=NR.safeParse(t);return n.success?n.data:(console.error(IR,n.error),null)}();if(null===r)return HR(t,mv.CHALLENGE_PARSED,{parsed:!1}),!1;HR(t,mv.CHALLENGE_PARSED,{parsed:!0});var a=r.userId,i=r.sessionId;return!1===Cg({containerId:e,userId:a,sessionId:i,appType:n,renderInline:!0,onChallengeCompleted:function(e){return HR(t,mv.CHALLENGE_COMPLETED,e)},onChallengeInvalidated:function(e){return HR(t,mv.CHALLENGE_INVALIDATED,e)},onModalChallengeAbandoned:null})?(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!1}),!1):(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!0}),HR(t,mv.CHALLENGE_DISPLAYED,{displayed:!0}),!0)},ZR=function(e,t,n){var r=function(){var e={challengeId:pi.UrlParser.getParametersAsObject()[yR.CHALLENGE_ID]},t=DR.safeParse(e);return t.success?t.data:(console.error(IR,t.error),null)}();if(null===r)return HR(t,mv.CHALLENGE_PARSED,{parsed:!1}),!1;HR(t,mv.CHALLENGE_PARSED,{parsed:!0});var a=r.challengeId;return!1===vy({containerId:e,challengeId:a,renderInline:!0,onChallengeDisplayed:function(e){return HR(t,mv.CHALLENGE_DISPLAYED,e)},onChallengeCompleted:function(e){return HR(t,mv.CHALLENGE_COMPLETED,e)},onChallengeInvalidated:function(e){return HR(t,mv.CHALLENGE_INVALIDATED,e)},onModalChallengeAbandoned:null})?(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!1}),!1):(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!0}),!0)},KR=function(e,t,n){var r=function(){var e={sessionId:pi.UrlParser.getParametersAsObject()[yR.SESSION_ID]},t=OR.safeParse(e);return t.success?t.data:(console.error(IR,t.error),null)}();if(null===r)return HR(t,mv.CHALLENGE_PARSED,{parsed:!1}),!1;HR(t,mv.CHALLENGE_PARSED,{parsed:!0});var a=r.sessionId;return!1===Tm({containerId:e,sessionId:a,renderInline:!0,onChallengeDisplayed:function(e){return HR(t,mv.CHALLENGE_DISPLAYED,e)},onChallengeCompleted:function(e){return HR(t,mv.CHALLENGE_COMPLETED,e)},onChallengeInvalidated:function(e){return HR(t,mv.CHALLENGE_INVALIDATED,e)},onModalChallengeAbandoned:null})?(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!1}),!1):(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!0}),!0)},YR=function(e,t,n){var r=function(){var e=pi.UrlParser.getParametersAsObject(),t={challengeId:e[yR.CHALLENGE_ID],puzzleType:e[yR.PUZZLE_TYPE]},n=LR.safeParse(t);return n.success?n.data:(console.error(IR,n.error),null)}();if(null===r)return HR(t,mv.CHALLENGE_PARSED,{parsed:!1}),!1;HR(t,mv.CHALLENGE_PARSED,{parsed:!0});var a=r.challengeId,i=r.puzzleType;return!1===eg({containerId:e,challengeId:a,puzzleType:i,appType:n,renderInline:!0,onChallengeDisplayed:function(e){return HR(t,mv.CHALLENGE_DISPLAYED,e)},onChallengeCompleted:function(e){return HR(t,mv.CHALLENGE_COMPLETED,e)},onChallengeInvalidated:function(e){return HR(t,mv.CHALLENGE_INVALIDATED,e)},onModalChallengeAbandoned:null})?(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!1}),!1):(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!0}),!0)},JR=function(e,t,n){var r=function(){var e=pi.UrlParser.getParametersAsObject(),t={challengeId:e[yR.CHALLENGE_ID],integrityType:e[yR.INTEGRITY_TYPE],requestHash:e[yR.REQUEST_HASH]},n=RR.safeParse(t);return n.success?n.data:(console.error(IR,n.error),null)}();if(null===r)return HR(t,mv.CHALLENGE_PARSED,{parsed:!1}),!1;HR(t,mv.CHALLENGE_PARSED,{parsed:!0});var a=r.challengeId,i=r.integrityType,o=r.requestHash;return!1===mf({containerId:e,challengeId:a,integrityType:i,requestHash:o,renderInline:!0,onChallengeDisplayed:function(e){return HR(t,mv.CHALLENGE_DISPLAYED,e)},onChallengeCompleted:function(e){return HR(t,mv.CHALLENGE_COMPLETED,e)},onChallengeInvalidated:function(e){return HR(t,mv.CHALLENGE_INVALIDATED,e)},onModalChallengeAbandoned:null})?(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!1}),!1):(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!0}),!0)},XR=function(e,t,n){var r=function(){var e=pi.UrlParser.getParametersAsObject(),t={challengeId:e[yR.CHALLENGE_ID],biometricType:e[yR.BIOMETRIC_TYPE]},n=kR.safeParse(t);return n.success?n.data:(console.error(IR,n.error),null)}();if(null===r)return HR(t,mv.CHALLENGE_PARSED,{parsed:!1}),!1;HR(t,mv.CHALLENGE_PARSED,{parsed:!0});var a=r.challengeId,i=r.biometricType;return!1===__({containerId:e,challengeId:a,biometricType:i,renderInline:!0,onChallengeDisplayed:function(e){return HR(t,mv.CHALLENGE_DISPLAYED,e)},onChallengeCompleted:function(e){return HR(t,mv.CHALLENGE_COMPLETED,e)},onChallengeInvalidated:function(e){return HR(t,mv.CHALLENGE_INVALIDATED,e)},onModalChallengeAbandoned:null})?(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!1}),!1):(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!0}),!0)},QR=function(e,t,n){var r=function(){var e=pi.UrlParser.getParametersAsObject(),t={challengeId:e[yR.CHALLENGE_ID],artifacts:e[yR.PROOF_OF_SPACE_ARTIFACTS]},n=PR.safeParse(t);return n.success?n.data:(console.error(IR,n.error),null)}();if(null===r)return HR(t,mv.CHALLENGE_PARSED,{parsed:!1}),!1;HR(t,mv.CHALLENGE_PARSED,{parsed:!0});var a=r.challengeId,i=r.artifacts;return!1===Xy({containerId:e,challengeId:a,artifacts:i,renderInline:!0,onChallengeDisplayed:function(e){return HR(t,mv.CHALLENGE_DISPLAYED,e)},onChallengeCompleted:function(e){return HR(t,mv.CHALLENGE_COMPLETED,e)},onChallengeInvalidated:function(e){return HR(t,mv.CHALLENGE_INVALIDATED,e)},onModalChallengeAbandoned:null})?(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!1}),!1):(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!0}),!0)},$R=function(e,t){if(!DO.isSupportedByGrasshopper(t.challengeType))return Ah;var n=e,r=t;return wh(gR({challengeBaseProperties:UR(UR({},n),{onChallengeCompleted:SR({challengeBaseProperties:n,challengeSpecificProperties:r})}),challengeSpecificProperties:r}))},ek=function(e,t,n,r){return VR(void 0,void 0,Promise,(function(){var a,i,o,u,l,c,s,d,f;return FR(this,(function(p){switch(p.label){case 0:return a=window.location.href.split("?")[0],null===(i=MR())?(HR(t,mv.CHALLENGE_PARSED,{parsed:!1}),[2,!1]):(HR(t,mv.CHALLENGE_PARSED,{parsed:!0}),o=0===r.length,u=o?void 0:r,l={renderInline:!0,onModalChallengeAbandoned:null},c={renderInline:!1,onModalChallengeAbandoned:function(){return HR(t,mv.CHALLENGE_INVALIDATED,{abandoned:!0},u)}},s=CR((function(){return c}),(function(){return l}))(o),d=UR({containerId:e,appType:n,shouldModifyBrowserHistory:!0,onChallengeCompleted:function(e){window.history.replaceState(null,"",a),HR(t,mv.CHALLENGE_COMPLETED,e,u)},onChallengeInvalidated:function(e){window.history.replaceState(null,"",a),HR(t,mv.CHALLENGE_INVALIDATED,e,u)},onChallengeDisplayed:function(e){HR(t,mv.CHALLENGE_DISPLAYED,e,u)}},s),f=$R(d,i),[4,(0,_R.pipe)(f,Gh((function(){return xA({challengeBaseProperties:d,challengeSpecificProperties:i})})))]);case 1:return!1===p.sent()?(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!1},r),[2,!1]):(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!0},r),[2,!0])}}))}))},tk=function(e,t,n){return HR(t,mv.CHALLENGE_PARSED,{parsed:!0}),!1===dp({containerId:e,forceActionRedirectChallengeType:_f.ForceActionRedirectChallengeType.ForceAuthenticator,renderInline:!0,onModalChallengeAbandoned:null})?(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!1}),!1):(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!0}),HR(t,mv.CHALLENGE_DISPLAYED,{displayed:!0}),!0)},nk=function(e,t,n){return HR(t,mv.CHALLENGE_PARSED,{parsed:!0}),!1===dp({containerId:e,forceActionRedirectChallengeType:_f.ForceActionRedirectChallengeType.ForceTwoStepVerification,renderInline:!0,onModalChallengeAbandoned:null})?(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!1}),!1):(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!0}),HR(t,mv.CHALLENGE_DISPLAYED,{displayed:!0}),!0)},rk=function(e,t,n){return HR(t,mv.CHALLENGE_PARSED,{parsed:!0}),!1===dp({containerId:e,forceActionRedirectChallengeType:_f.ForceActionRedirectChallengeType.BlockSession,renderInline:!0,onModalChallengeAbandoned:null})?(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!1}),!1):(HR(t,mv.CHALLENGE_INITIALIZED,{initialized:!0}),HR(t,mv.CHALLENGE_DISPLAYED,{displayed:!0}),!0)},ak=function(e){var t=e.containerId,n=e.hybridTargetToCallbackInputId;return VR(void 0,void 0,void 0,(function(){var e;return FR(this,(function(r){var a,i,o;if(HR(n,mv.CHALLENGE_PAGE_LOADED,{pageLoaded:!0}),a=pi.UrlParser.getParametersAsObject(),i={challengeType:a[yR.CHALLENGE_TYPE],darkMode:a[yR.DARK_MODE],appType:a[yR.APP_TYPE],baristaMode:a[yR.BARISTA_MODE],origin:a[yR.ORIGIN]},o=TR.safeParse(i),null===(e=o.success?o.data:(console.error(IR,o.error),null)))return HR(n,mv.CHALLENGE_PARSED,{parsed:!1}),[2,!1];switch(e.baristaMode&&(document.body.style.backgroundColor="transparent"),e.darkMode?(document.body.classList.remove(jR),document.body.classList.add(WR)):(document.body.classList.remove(WR),document.body.classList.add(jR)),e.challengeType){case Nv.CAPTCHA:return[2,BR(t,n,e.appType)];case Nv.FORCE_AUTHENTICATOR:return[2,tk(t,n,e.appType)];case Nv.FORCE_TWO_STEP_VERIFICATION:return[2,nk(t,n,e.appType)];case Nv.TWO_STEP_VERIFICATION:return[2,zR(t,n,e.appType)];case Nv.SECURITY_QUESTIONS:return[2,qR(t,n,e.appType)];case Nv.PROOF_OF_WORK:return[2,KR(t,n,e.appType)];case Nv.ROSTILE:return[2,YR(t,n,e.appType)];case Nv.PRIVATE_ACCESS_TOKEN:return[2,ZR(t,n,e.appType)];case Nv.DEVICE_INTEGRITY:return[2,JR(t,n,e.appType)];case Nv.PROOF_OF_SPACE:return[2,QR(t,n,e.appType)];case Nv.PHONE_VERIFICATION:case Nv.EMAIL_VERIFICATION:return[2,!1];case Nv.BLOCK_SESSION:return[2,rk(t,n,e.appType)];case Nv.BIOMETRIC:return[2,XR(t,n,e.appType)];case"generic":return[2,ek(t,n,e.appType,e.origin)];default:return e.challengeType,[2,!1]}return[2]}))}))},ik={Captcha:T,DeviceIntegrity:A,ForceActionRedirect:w,Generic:P,HybridWrapper:x,PrivateAccessToken:N,ProofOfSpace:O,ProofOfWork:L,Rostile:D,SecurityQuestions:R,TwoStepVerification:k};Object.assign(hi(),{AccountIntegrityChallengeService:ik}),FA(),ee(void 0,void 0,void 0,(function(){var e,t,n,r,a,i;return te(this,(function(o){switch(o.label){case 0:return[4,si()];case 1:return o.sent().enableIndexedDbTelemetry?(e=function(e){var t=e.databaseName,n=e.objectStoreName,r=e.version;return Fa.pipe(Va((function(){return ni(ri,{success:"true",arm:"open-connection"}),ii({request:indexedDB.open(t,r),objectStoreName:n,upgradesHandler:ai})}),(function(e){var t,n="unknownerr-open-connection";return ni(ri,{success:"false",arm:"open-connection",error:null!==(t=e instanceof Error&&(null==e?void 0:e.message)||n)&&void 0!==t?t:n}),e})),X)}({databaseName:"rbxInstrumentationDb",objectStoreName:di,version:1}),$(e)?(ni(ri,{success:"false",arm:"connection-consumer"}),[2]):[4,e.value]):[2];case 2:return t=o.sent(),n=oi({database:t,objectStoreName:di,key:fi}),$(n)?(ni(ri,{success:"false",arm:"get-consumer"}),[2]):[4,n.value];case 3:return void 0!==(r=o.sent())?(ni(ri,{success:"true",arm:"get-consumer",timestamp:r.toString()}),[2]):(a=(new Date).getTime(),i=ui({database:t,objectStoreName:di,key:fi,value:a}),Fa.pipe(i,J((function(){return{success:"true",arm:"put-consumer",timestamp:a.toString()}})),function(e){return function(t){return $(t)?e():t.value}}((function(){return{success:"false",arm:"put-consumer",timestamp:a.toString()}})),(function(e){return ni(ri,e)})),[2])}}))}))}()}();
//# sourceMappingURL=https://sourcemaps.rbxcdn.com/8c111014f21f7afda01f3cf050496a96-challenge.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("Challenge");